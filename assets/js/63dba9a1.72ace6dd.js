"use strict";(self.webpackChunkdoc=self.webpackChunkdoc||[]).push([[3416],{772:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/img_25-73c17ecd2ccd3c6ec92eb47a71879bdb.png"},3180:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/\u6570\u636e\u5199\u5165\u5230\u78c1\u76d8\u7684\u8fc7\u7a0b-0f9a598bee302172835b72ac9c969d56.png"},4214:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/mysql\u5185\u5b58\u6dd8\u6c70-aa4b9c0a55d99e81e2f06ee213cadf20.png"},4294:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/\u540e\u53f0\u5237redo-ef3941fda0f2861e0c655237babb4d9f.png"},6428:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/img_18-57debfd395002d9c9e6cc486eba0c405.png"},8092:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/1756481836013-3d38cbfd554ee6d18e4d7f4fdad6e634.png"},10749:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/1756477634309-85e4d6c04c4b67ace49fe1591db69ffc.png"},13931:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/1756481785071-577429d2e5b914f244af1acb36ce9d5a.png"},14414:(e,n,r)=>{r.d(n,{A:()=>s});const s="data:image/png;base64,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"},14509:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/1756482323188-43fc021571f265d7fe7400484fd3b1ce.png"},15467:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/InnoDB\u7684\u5185\u5b58\u7ed3\u6784-89237dccdda1477a07435faf4fac4fbc.png"},15664:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/redo\u5d29\u6e83\u6062\u590d-72d1108066d1fd3f808d040d7d752b2c.png"},15810:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/1756482393496-401ab092c8c5efe5c7b5fb9e3330f937.png"},15915:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/img_17-66be82fd2edf5e0fca4c58b9dfb91985.png"},17830:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/img_12-e712df55bffa32d46c27569995ad272b.png"},19681:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/1756481996611-72a7b945c541c14081d9d557443f1798.png"},21326:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/1756475710183-a9b25dd56ae1d9d81b427f42945e9ada.png"},22632:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/img_29-b8cc425e4eb1b73678ecf00c9f8669c0.png"},22958:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/1756482367604-8cd0869908a4e612b0d2722671a5e680.png"},24646:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/1756475621841-04a4cbfe0498857554a15d2389aed3af.png"},25076:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/\u4e8b\u52a1\u6267\u884c\u8fc7\u7a0b-f49374b95cb1a3822afe9361a2ed3263.png"},27287:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/redo-to-disk-c7c55d752aaeae70a1603b95629d46c4.png"},28453:(e,n,r)=>{r.d(n,{R:()=>l,x:()=>c});var s=r(96540);const i={},d=s.createContext(i);function l(e){const n=s.useContext(d);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),s.createElement(d.Provider,{value:n},e.children)}},29287:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/img_44-40a9c853089aae1f2fda122332694295.png"},29667:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/1756510394720-eb9ab1f00973658cd05cd329a0d1186b.png"},30184:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/\u8986\u76d6\u7d22\u5f15-355bb0b7c9175c8fab1e223630d25208.png"},30529:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/rowId\u6392\u5e8f-83b2861b82ddabfb4249b99c534a4ce2.png"},32246:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/img_27-1ddd1e266634adebbf9e57244af4893e.png"},32459:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/1756481738422-4645e198a05081c96b625472d1f65476.png"},33067:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/img_4-380ec8e66106f759079206ebd30bfe0b.png"},33144:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/1756475738987-e7f2c48a1427def56ca83ad6899e9e19.png"},34034:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/img_23-3ece4e3b78718590f6472dfad25bd728.png"},36737:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/\u7d22\u5f15\u6392\u5e8f-f29298d7bc2268ff2de561e8651a5fa7.png"},36925:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/\u6709\u7d22\u5f15join-5b97f33e36ac5d81c61e44dfdf9e639c.png"},37271:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/img_31-5a47d6e8adc1565aacf0ccc5fecb51ce.png"},38778:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/img_41-ea28f71913891a4746dc75356732ed35.png"},41076:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/img_3-98a7b9542fbe0e27158c52dfddc7524f.png"},41495:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/img_8-0023c15c77418d944c285f4608deb3be.png"},41918:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/1756510486253-c343aadb3ad56469b7e81b51b5c35ead.png"},42992:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/1756474103915-2e95b030cc36340a3947b535b7ef6ce9.png"},43717:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/sql\u4f18\u5316-e85bebbff2bf9a3fd200a21a34e01059.png"},43879:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/redo-binlog\u4e4b\u95f4crash-15ffd8976a8ebc9fdd695abb58797da4.png"},44624:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/img_14-3b976eb9d420357db404502e8a77aa4c.png"},44808:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/1756481552423-6ae87f5f659528e501efac0ae383be31.png"},46721:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/img_37-89cdd23f80c42510cb377b868f66cb35.png"},47541:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/innodb_flush_log_at_trx_commit\u53c2\u6570\u7684\u533a\u522b-48976aa00f013d26ff3a9c479cb6453a.png"},48499:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/img_35-1f29355577875a01ed4001c8db06f272.png"},48540:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/img_32-693ae5671965e64a50bea0c2be7f1552.png"},49048:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/image-de70ae3068b8f7c781839e67b8d744a7.png"},49672:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/img_43-52f6779460a1beadeea9b2b7ba682914.png"},50873:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/img_15-a6d8b82710748fcca4f380413450f6ce.png"},51190:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/\u5168\u5b57\u6bb5\u6392\u5e8f-0a99d6c0b4e0a35f0b9df98612c47bad.png"},51502:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/img_9-141ece20b45d713b32e3a8d6f4187c5d.png"},53728:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/1756473488143-57bd2bba40a4db19268de88b17cc93da.png"},55579:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/img_22-f417a3c1f1083a867755b92b5dec304d.png"},56847:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/img_13-ba7290d9fd02fa172d288702907e53ca.png"},57389:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/1756473511330-74f41f4e77412c385bd8d0002b0e3eb2.png"},57656:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/img_36-2e7f49518414a86d569db4871ed85b40.png"},58016:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/img_21-52bf05c471572514bb93a4763624e090.png"},58236:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/1756475943770-d94aa4ae17b00a67c1a848d125ea41e6.png"},59700:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/filesort_\u6587\u4ef6\u6392\u5e8f-d8bcb5810d2ecd49114ebb888812a4ec.png"},59772:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/1756482384018-9f57cff3c3fc660b4bddfb38fcc74da0.png"},59889:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/img_42-05ea80825050cd94695ef220a53ed258.png"},60918:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/1756473130992-a94b1318ff6ac16e19cb7fbae8e6488a.png"},62205:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/img_2-a1600620766806518205d004878ef8f9.png"},63324:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/redolog\u7ed3\u6784-830d7ca1440042a244a7e0db680c6715.png"},63630:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/img_30-b2edf72e270f7f8696d4042f264c7a6f.png"},64013:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/img_24-b2ea6f3ed44216571bb8fef6395a43c9.png"},66004:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/img_10-ac577a45d044b3b5527fe3b0ab4d45c7.png"},66053:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/img_33-3ac5b01f19a2997901281ed0616c9470.png"},66378:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/1756477796316-5aaa3f2c920f80932d3b2b8aaaa9eb8e.png"},67664:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/img_7-97f8ea8f5c2d77fae1a041de5c3a6a5a.png"},68166:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/1756481676105-a03cbce161464ad7854eb1197821f932.png"},69410:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/img_5-ec65c55d6396919a3d4aca11a754bd19.png"},71025:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/img_28-f628f1e13c9f4e915e7f8adfb03c7e04.png"},73894:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/mysql\u5185\u5b58\u548c\u6587\u4ef6\u6392\u5e8f-beaf3d764675000329bab58728f6946a.png"},74330:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/mysql\u65e5\u5fd7\u548c\u5bf9\u5e94\u5206\u5c42-61d1323cbd4b9ab38695eea782c0593b.png"},75390:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/1756510432320-4cf1e9233a0cbd23f6882e9009a65d27.png"},75663:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/img_39-4805878e86f96b42da6375cdff40a2b7.png"},77436:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/1756482430078-37f1eb9e6a452e159080bdf85935c0e7.png"},78438:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/img_1-f205792ed85b4bd1173b23e6546adbad.png"},79535:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/1756482280050-719cbfde206caf98506199b6f23a2715.png"},82217:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/img_20-4c9b0f4656fbab8a7beff7b7377a91dc.png"},83190:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/\u5237\u76d8-846d13fd0e7cd5efcaff9662554c263f.png"},83344:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/COMPACT-bce97d8f2a251737078cf1b30b2bbf9e.png"},83417:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/img_6-c16077beddc0aba39e433e633f0bb9f1.png"},85364:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/1756473246248-2a8e26cfc8cf9673334c89eee2405cd1.png"},86047:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/img_26-a06a7fa36a967a4453df0b5f7ddd0905.png"},86531:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/img_40-a551c4da4586b50e84d81ee745bd25b6.png"},86792:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/1756510460387-fc19ccc870d941e6a80a40823204d245.png"},87489:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>A});const s=JSON.parse('{"id":"mysql/mysql-review","title":"mysql-review","description":"title: \\"MYSQL\\"","source":"@site/docs/mysql/mysql-review.md","sourceDirName":"mysql","slug":"/mysql/mysql-review","permalink":"/doc/docs/mysql/mysql-review","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/mysql/mysql-review.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"ROCKETMQ_REVIEW","permalink":"/doc/docs/intereview/rocketmq"},"next":{"title":"mysql-tmp","permalink":"/doc/docs/mysql/mysql-tmp"}}');var i=r(74848),d=r(28453);const l={},c=void 0,a={},A=[{value:"title: &quot;MYSQL&quot;\r\nid: MYSQL-INTERVIEW\r\ndescription: &quot;MYSQL&quot;\r\nslug: /docs/installation\r\nsidebar_label: &quot;MYSQL&quot;\r\nsidebar_position: 1\r\ntags: [MYSQL]",id:"title-mysqlid-mysql-interviewdescription-mysqlslug-docsinstallationsidebar_label-mysqlsidebar_position-1tags-mysql",level:2},{value:"mysql \u57fa\u7840",id:"mysql-\u57fa\u7840",level:2},{value:"mysql\u7684date\u548ctimestamp\u7684\u533a\u522b\uff1f",id:"mysql\u7684date\u548ctimestamp\u7684\u533a\u522b",level:3},{value:"SQL \u67e5\u8be2\u8bed\u53e5\u7684\u6267\u884c\u987a\u5e8f\u4e86\u89e3\u5417\uff1f",id:"sql-\u67e5\u8be2\u8bed\u53e5\u7684\u6267\u884c\u987a\u5e8f\u4e86\u89e3\u5417",level:3},{value:"IN \u548c EXISTS\u7684\u5dee\u522b",id:"in-\u548c-exists\u7684\u5dee\u522b",level:3},{value:"\u8bb0\u5f55\u8d27\u5e01\u7528\u4ec0\u4e48\u7c7b\u578b\u6bd4\u8f83\u597d\uff1f",id:"\u8bb0\u5f55\u8d27\u5e01\u7528\u4ec0\u4e48\u7c7b\u578b\u6bd4\u8f83\u597d",level:3},{value:"drop\u3001delete \u4e0e truncate \u7684\u533a\u522b\uff1f",id:"dropdelete-\u4e0e-truncate-\u7684\u533a\u522b",level:3},{value:"\u7528\u8fc7\u54ea\u4e9b MySQL \u51fd\u6570\uff1f\uff08\u8865\u5145\uff09",id:"\u7528\u8fc7\u54ea\u4e9b-mysql-\u51fd\u6570\u8865\u5145",level:3},{value:"\u8bf4\u8bf4 MySQL \u7684\u57fa\u7840\u67b6\u6784\uff1f",id:"\u8bf4\u8bf4-mysql-\u7684\u57fa\u7840\u67b6\u6784",level:3},{value:"\u6570\u636e\u5e93\u67b6\u6784",id:"\u6570\u636e\u5e93\u67b6\u6784",level:2},{value:"\ud83c\udf1f\u4e00\u6761\u67e5\u8be2\u8bed\u53e5\u662f\u5982\u4f55\u6267\u884c\u7684\uff1f",id:"\u4e00\u6761\u67e5\u8be2\u8bed\u53e5\u662f\u5982\u4f55\u6267\u884c\u7684",level:3},{value:"\u4e00\u6761\u66f4\u65b0\u8bed\u53e5\u662f\u5982\u4f55\u6267\u884c\u7684\uff1f",id:"\u4e00\u6761\u66f4\u65b0\u8bed\u53e5\u662f\u5982\u4f55\u6267\u884c\u7684",level:3},{value:"\u8bf4\u8bf4 MySQL \u7684\u6bb5\u533a\u9875\u884c\uff08\u8865\u5145\uff09",id:"\u8bf4\u8bf4-mysql-\u7684\u6bb5\u533a\u9875\u884c\u8865\u5145",level:3},{value:"\u5b58\u50a8\u5f15\u64ce",id:"\u5b58\u50a8\u5f15\u64ce",level:2},{value:"\ud83c\udf1fMySQL \u6709\u54ea\u4e9b\u5e38\u89c1\u5b58\u50a8\u5f15\u64ce\uff1f",id:"mysql-\u6709\u54ea\u4e9b\u5e38\u89c1\u5b58\u50a8\u5f15\u64ce",level:3},{value:"InnoDB \u548c MyISAM \u4e3b\u8981\u6709\u4ec0\u4e48\u533a\u522b\uff1f",id:"innodb-\u548c-myisam-\u4e3b\u8981\u6709\u4ec0\u4e48\u533a\u522b",level:3},{value:"InnoDB\u7684\u5185\u5b58\u7ed3\u6784\u4e86\u89e3\u5417\uff1f",id:"innodb\u7684\u5185\u5b58\u7ed3\u6784\u4e86\u89e3\u5417",level:3},{value:"\u6570\u636e\u9875\u7684\u7ed3\u6784\u4e86\u89e3\u5417\uff1f (ps:\u81ea\u5df1\u6682\u65f6\u4e0d\u770b)",id:"\u6570\u636e\u9875\u7684\u7ed3\u6784\u4e86\u89e3\u5417-ps\u81ea\u5df1\u6682\u65f6\u4e0d\u770b",level:3},{value:"InnoDB \u7684 Buffer Pool\u4e86\u89e3\u5417\uff1f\uff08\u8865\u5145\uff09",id:"innodb-\u7684-buffer-pool\u4e86\u89e3\u5417\u8865\u5145",level:3},{value:"### InnoDB \u5bf9 LRU \u7b97\u6cd5\u7684\u4f18\u5316\u4e86\u89e3\u5417\uff1f",id:"-innodb-\u5bf9-lru-\u7b97\u6cd5\u7684\u4f18\u5316\u4e86\u89e3\u5417",level:4},{value:"\u65e5\u5fd7",id:"\u65e5\u5fd7",level:2},{value:"\ud83c\udf1fMySQL \u65e5\u5fd7\u6587\u4ef6\u6709\u54ea\u4e9b\uff1f",id:"mysql-\u65e5\u5fd7\u6587\u4ef6\u6709\u54ea\u4e9b",level:3},{value:"\u8bf7\u91cd\u70b9\u8bf4\u8bf4 binlog\uff1f",id:"\u8bf7\u91cd\u70b9\u8bf4\u8bf4-binlog",level:3},{value:"binlog\u914d\u7f6e",id:"binlog\u914d\u7f6e",level:4},{value:"\u6709\u4e86binlog\u4e3a\u4ec0\u4e48\u8fd8\u8981undolog redolog\uff1f",id:"\u6709\u4e86binlog\u4e3a\u4ec0\u4e48\u8fd8\u8981undolog-redolog",level:3},{value:"\u8bf4\u8bf4 redo log \u7684\u5de5\u4f5c\u673a\u5236\uff1f",id:"\u8bf4\u8bf4-redo-log-\u7684\u5de5\u4f5c\u673a\u5236",level:3},{value:"redo log \u6587\u4ef6\u7684\u5927\u5c0f\u662f\u56fa\u5b9a\u7684\u5417\uff1f",id:"redo-log-\u6587\u4ef6\u7684\u5927\u5c0f\u662f\u56fa\u5b9a\u7684\u5417",level:4},{value:"\u8bf4\u8bf4 WAL\uff1f",id:"\u8bf4\u8bf4-wal",level:4},{value:"binlog \u548c redo log \u6709\u4ec0\u4e48\u533a\u522b\uff1f",id:"binlog-\u548c-redo-log-\u6709\u4ec0\u4e48\u533a\u522b",level:3},{value:"\ud83c\udf1f\u4e3a\u4ec0\u4e48\u8981\u4e24\u9636\u6bb5\u63d0\u4ea4\u5462\uff1f",id:"\u4e3a\u4ec0\u4e48\u8981\u4e24\u9636\u6bb5\u63d0\u4ea4\u5462",level:3},{value:"\u4e3a\u4ec0\u4e48 2PC \u80fd\u4fdd\u8bc1 redo log \u548c binlog \u7684\u5f3a\u2f00\u81f4\u6027\uff1f",id:"\u4e3a\u4ec0\u4e48-2pc-\u80fd\u4fdd\u8bc1-redo-log-\u548c-binlog-\u7684\u5f3a\u81f4\u6027",level:4},{value:"XID \u4e86\u89e3\u5417\uff1f",id:"xid-\u4e86\u89e3\u5417",level:4},{value:"\ud83c\udf1fredo log \u7684\u5199\u5165\u8fc7\u7a0b\u4e86\u89e3\u5417\uff1f",id:"redo-log-\u7684\u5199\u5165\u8fc7\u7a0b\u4e86\u89e3\u5417",level:3},{value:"\u54ea\u4e9b\u573a\u666f\u4f1a\u89e6\u53d1 redo log \u7684\u5237\u76d8\u52a8\u4f5c\uff1f",id:"\u54ea\u4e9b\u573a\u666f\u4f1a\u89e6\u53d1-redo-log-\u7684\u5237\u76d8\u52a8\u4f5c",level:4},{value:"innodb_flush_log_at_trx_commit \u53c2\u6570\u4f60\u4e86\u89e3\u591a\u5c11\uff1f",id:"innodb_flush_log_at_trx_commit-\u53c2\u6570\u4f60\u4e86\u89e3\u591a\u5c11",level:4},{value:"\u4e00\u4e2a\u6ca1\u6709\u63d0\u4ea4\u4e8b\u52a1\u7684 redo log\uff0c\u4f1a\u4e0d\u4f1a\u5237\u76d8\uff1f",id:"\u4e00\u4e2a\u6ca1\u6709\u63d0\u4ea4\u4e8b\u52a1\u7684-redo-log\u4f1a\u4e0d\u4f1a\u5237\u76d8",level:4},{value:"Redo Log Buffer \u662f\u987a\u5e8f\u5199\u8fd8\u662f\u968f\u673a\u5199\uff1f",id:"redo-log-buffer-\u662f\u987a\u5e8f\u5199\u8fd8\u662f\u968f\u673a\u5199",level:4},{value:"buf_next_to_write \u4e86\u89e3\u5417\uff1f",id:"buf_next_to_write-\u4e86\u89e3\u5417",level:4},{value:"\u4e86\u89e3 MTR \u5417\uff1f",id:"\u4e86\u89e3-mtr-\u5417",level:4},{value:"Redo Log Block \u7684\u7ed3\u6784\u4e86\u89e3\u5417\uff1f",id:"redo-log-block-\u7684\u7ed3\u6784\u4e86\u89e3\u5417",level:4},{value:"Redo Log Block \u4e3a\u4ec0\u4e48\u8bbe\u8ba1\u6210 512 \u5b57\u8282\uff1f",id:"redo-log-block-\u4e3a\u4ec0\u4e48\u8bbe\u8ba1\u6210-512-\u5b57\u8282",level:4},{value:"LSN \u4e86\u89e3\u5417\uff1f",id:"lsn-\u4e86\u89e3\u5417",level:4},{value:"Checkpoint \u4e86\u89e3\u591a\u5c11\uff1fwaitx",id:"checkpoint-\u4e86\u89e3\u591a\u5c11waitx",level:4},{value:"\ud83c\udf1f\u4ec0\u4e48\u662f\u6162 SQL\uff1f",id:"\u4ec0\u4e48\u662f\u6162-sql",level:3},{value:"SQL \u7684\u6267\u884c\u8fc7\u7a0b\u4e86\u89e3\u5417\uff1f",id:"sql-\u7684\u6267\u884c\u8fc7\u7a0b\u4e86\u89e3\u5417",level:3},{value:"\u5982\u4f55\u4f18\u5316\u6162 SQL \u5462\uff1f",id:"\u5982\u4f55\u4f18\u5316\u6162-sql-\u5462",level:3},{value:"\ud83c\udf1f\u4f60\u77e5\u9053\u54ea\u4e9b\u65b9\u6cd5\u6765\u4f18\u5316 SQL\uff1f",id:"\u4f60\u77e5\u9053\u54ea\u4e9b\u65b9\u6cd5\u6765\u4f18\u5316-sql",level:3},{value:"\u5982\u4f55\u5229\u7528\u8986\u76d6\u7d22\u5f15\uff1f",id:"\u5982\u4f55\u5229\u7528\u8986\u76d6\u7d22\u5f15",level:3},{value:"\u5982\u4f55\u6b63\u786e\u4f7f\u7528\u8054\u5408\u7d22\u5f15\uff1f",id:"\u5982\u4f55\u6b63\u786e\u4f7f\u7528\u8054\u5408\u7d22\u5f15",level:3},{value:"\u5982\u4f55\u8fdb\u884c\u5206\u9875\u4f18\u5316\uff1f",id:"\u5982\u4f55\u8fdb\u884c\u5206\u9875\u4f18\u5316",level:3},{value:"\u4e3a\u4ec0\u4e48\u5206\u9875\u4f1a\u53d8\u6162\uff1f",id:"\u4e3a\u4ec0\u4e48\u5206\u9875\u4f1a\u53d8\u6162",level:3},{value:"JOIN \u4ee3\u66ff\u5b50\u67e5\u8be2\u6709\u4ec0\u4e48\u597d\u5904\uff1f",id:"join-\u4ee3\u66ff\u5b50\u67e5\u8be2\u6709\u4ec0\u4e48\u597d\u5904",level:3},{value:"JOIN\u64cd\u4f5c\u4e3a\u4ec0\u4e48\u8981\u5c0f\u8868\u9a71\u52a8\u5927\u8868\uff1f",id:"join\u64cd\u4f5c\u4e3a\u4ec0\u4e48\u8981\u5c0f\u8868\u9a71\u52a8\u5927\u8868",level:3},{value:"\u4e3a\u4ec0\u4e48\u8981\u907f\u514d\u4f7f\u7528 JOIN \u5173\u8054\u592a\u591a\u7684\u8868\uff1f",id:"\u4e3a\u4ec0\u4e48\u8981\u907f\u514d\u4f7f\u7528-join-\u5173\u8054\u592a\u591a\u7684\u8868",level:3},{value:"\u5982\u4f55\u8fdb\u884c\u6392\u5e8f\u4f18\u5316\uff1f",id:"\u5982\u4f55\u8fdb\u884c\u6392\u5e8f\u4f18\u5316",level:3},{value:"\u4ec0\u4e48\u662f filesort\uff1f",id:"\u4ec0\u4e48\u662f-filesort",level:3},{value:"\u5168\u5b57\u6bb5\u6392\u5e8f\u548c rowid \u6392\u5e8f\u4e86\u89e3\u591a\u5c11\uff1f",id:"\u5168\u5b57\u6bb5\u6392\u5e8f\u548c-rowid-\u6392\u5e8f\u4e86\u89e3\u591a\u5c11",level:3},{value:"\u4f60\u5bf9 Sort_merge_passes \u53c2\u6570\u4e86\u89e3\u5417\uff1f",id:"\u4f60\u5bf9-sort_merge_passes-\u53c2\u6570\u4e86\u89e3\u5417",level:3},{value:"\u6761\u4ef6\u4e0b\u63a8\u4f60\u4e86\u89e3\u591a\u5c11\uff1f",id:"\u6761\u4ef6\u4e0b\u63a8\u4f60\u4e86\u89e3\u591a\u5c11",level:3},{value:"\u4e3a\u4ec0\u4e48\u8981\u5c3d\u91cf\u907f\u514d\u4f7f\u7528 select *\uff1f",id:"\u4e3a\u4ec0\u4e48\u8981\u5c3d\u91cf\u907f\u514d\u4f7f\u7528-select-",level:3},{value:"\u4f60\u8fd8\u77e5\u9053\u54ea\u4e9b SQL \u4f18\u5316\u65b9\u6cd5\uff1f",id:"\u4f60\u8fd8\u77e5\u9053\u54ea\u4e9b-sql-\u4f18\u5316\u65b9\u6cd5",level:3},{value:"\ud83c\udf1fexplain\u5e73\u5e38\u6709\u7528\u8fc7\u5417\uff1f",id:"explain\u5e73\u5e38\u6709\u7528\u8fc7\u5417",level:3},{value:"explain \u8f93\u51fa\u7ed3\u679c\u4e2d\u5e38\u89c1\u7684\u5b57\u6bb5\u542b\u4e49\u7406\u89e3\u5417\uff1f",id:"explain-\u8f93\u51fa\u7ed3\u679c\u4e2d\u5e38\u89c1\u7684\u5b57\u6bb5\u542b\u4e49\u7406\u89e3\u5417",level:4},{value:"type\u7684\u6267\u884c\u6548\u7387\u7b49\u7ea7\uff0c\u8fbe\u5230\u4ec0\u4e48\u7ea7\u522b\u6bd4\u8f83\u5408\u9002\uff1f",id:"type\u7684\u6267\u884c\u6548\u7387\u7b49\u7ea7\u8fbe\u5230\u4ec0\u4e48\u7ea7\u522b\u6bd4\u8f83\u5408\u9002",level:3},{value:"\u7d22\u5f15",id:"\u7d22\u5f15",level:2},{value:"\ud83c\udf1f\u7d22\u5f15\u4e3a\u4ec0\u4e48\u80fd\u63d0\u9ad8MySQL\u67e5\u8be2\u6548\u7387\uff1f",id:"\u7d22\u5f15\u4e3a\u4ec0\u4e48\u80fd\u63d0\u9ad8mysql\u67e5\u8be2\u6548\u7387",level:3},{value:"\ud83c\udf1f\u80fd\u7b80\u5355\u8bf4\u4e00\u4e0b\u7d22\u5f15\u7684\u5206\u7c7b\u5417\uff1f",id:"\u80fd\u7b80\u5355\u8bf4\u4e00\u4e0b\u7d22\u5f15\u7684\u5206\u7c7b\u5417",level:3},{value:"\u4f60\u5bf9\u4e3b\u952e\u7d22\u5f15\u4e86\u89e3\u591a\u5c11\uff1f",id:"\u4f60\u5bf9\u4e3b\u952e\u7d22\u5f15\u4e86\u89e3\u591a\u5c11",level:3},{value:"\u552f\u4e00\u7d22\u5f15\u548c\u4e3b\u952e\u7d22\u5f15\u6709\u4ec0\u4e48\u533a\u522b\uff1f",id:"\u552f\u4e00\u7d22\u5f15\u548c\u4e3b\u952e\u7d22\u5f15\u6709\u4ec0\u4e48\u533a\u522b",level:3},{value:"unique key \u548c unique index \u6709\u4ec0\u4e48\u533a\u522b\uff1f",id:"unique-key-\u548c-unique-index-\u6709\u4ec0\u4e48\u533a\u522b",level:3},{value:"\u666e\u901a\u7d22\u5f15\u548c\u552f\u4e00\u7d22\u5f15\u6709\u4ec0\u4e48\u533a\u522b\uff1f",id:"\u666e\u901a\u7d22\u5f15\u548c\u552f\u4e00\u7d22\u5f15\u6709\u4ec0\u4e48\u533a\u522b",level:3},{value:"\u4f60\u5bf9\u5168\u6587\u7d22\u5f15\u4e86\u89e3\u591a\u5c11\uff1f",id:"\u4f60\u5bf9\u5168\u6587\u7d22\u5f15\u4e86\u89e3\u591a\u5c11",level:3},{value:"\ud83c\udf1f\u521b\u5efa\u7d22\u5f15\u6709\u54ea\u4e9b\u6ce8\u610f\u70b9\uff1f",id:"\u521b\u5efa\u7d22\u5f15\u6709\u54ea\u4e9b\u6ce8\u610f\u70b9",level:3},{value:"\ud83c\udf1f\u7d22\u5f15\u54ea\u4e9b\u60c5\u51b5\u4e0b\u4f1a\u5931\u6548\u5462\uff1f",id:"\u7d22\u5f15\u54ea\u4e9b\u60c5\u51b5\u4e0b\u4f1a\u5931\u6548\u5462",level:3},{value:"\u4ec0\u4e48\u60c5\u51b5\u4e0b\u6a21\u7cca\u67e5\u8be2\u4e0d\u8d70\u7d22\u5f15\uff1f",id:"\u4ec0\u4e48\u60c5\u51b5\u4e0b\u6a21\u7cca\u67e5\u8be2\u4e0d\u8d70\u7d22\u5f15",level:4},{value:"\u7d22\u5f15\u4e0d\u9002\u5408\u54ea\u4e9b\u573a\u666f\u5462\uff1f",id:"\u7d22\u5f15\u4e0d\u9002\u5408\u54ea\u4e9b\u573a\u666f\u5462",level:3},{value:"\u6027\u522b\u5b57\u6bb5\u8981\u5efa\u7acb\u7d22\u5f15\u5417\uff1f",id:"\u6027\u522b\u5b57\u6bb5\u8981\u5efa\u7acb\u7d22\u5f15\u5417",level:3},{value:"\u4ec0\u4e48\u662f\u533a\u5206\u5ea6\uff1f",id:"\u4ec0\u4e48\u662f\u533a\u5206\u5ea6",level:4},{value:"\u4ec0\u4e48\u6837\u7684\u5b57\u6bb5\u9002\u5408\u52a0\u7d22\u5f15\uff1f",id:"\u4ec0\u4e48\u6837\u7684\u5b57\u6bb5\u9002\u5408\u52a0\u7d22\u5f15",level:3},{value:"\u7d22\u5f15\u662f\u4e0d\u662f\u5efa\u7684\u8d8a\u591a\u8d8a\u597d\uff1f",id:"\u7d22\u5f15\u662f\u4e0d\u662f\u5efa\u7684\u8d8a\u591a\u8d8a\u597d",level:3},{value:"\u8bf4\u8bf4\u7d22\u5f15\u4f18\u5316\u7684\u601d\u8def\uff1f",id:"\u8bf4\u8bf4\u7d22\u5f15\u4f18\u5316\u7684\u601d\u8def",level:3},{value:"\ud83c\udf1f\u4e3a\u4ec0\u4e48 InnoDB \u8981\u4f7f\u7528 B+\u6811\u4f5c\u4e3a\u7d22\u5f15\uff1f",id:"\u4e3a\u4ec0\u4e48-innodb-\u8981\u4f7f\u7528-b\u6811\u4f5c\u4e3a\u7d22\u5f15",level:3},{value:"B+\u6811\u7684\u53f6\u5b50\u8282\u70b9\u662f\u5355\u5411\u94fe\u8868\u8fd8\u662f\u53cc\u5411\u94fe\u8868\uff1f\u5982\u679c\u4ece\u5927\u503c\u5411\u5c0f\u503c\u68c0\u7d22\uff0c\u5982\u4f55\u64cd\u4f5c\uff1f",id:"b\u6811\u7684\u53f6\u5b50\u8282\u70b9\u662f\u5355\u5411\u94fe\u8868\u8fd8\u662f\u53cc\u5411\u94fe\u8868\u5982\u679c\u4ece\u5927\u503c\u5411\u5c0f\u503c\u68c0\u7d22\u5982\u4f55\u64cd\u4f5c",level:3},{value:"\ud83c\udf1f\u4e00\u68f5B+\u6811\u80fd\u5b58\u50a8\u591a\u5c11\u6761\u6570\u636e\u5462\uff1f",id:"\u4e00\u68f5b\u6811\u80fd\u5b58\u50a8\u591a\u5c11\u6761\u6570\u636e\u5462",level:3},{value:"\u73b0\u5728\u6709\u4e00\u5f20\u8868 2kw \u6570\u636e\uff0c\u6211\u8fd9\u4e2a b+\u6811\u7684\u9ad8\u5ea6\u6709\u51e0\u5c42\uff1f",id:"\u73b0\u5728\u6709\u4e00\u5f20\u8868-2kw-\u6570\u636e\u6211\u8fd9\u4e2a-b\u6811\u7684\u9ad8\u5ea6\u6709\u51e0\u5c42",level:3},{value:"\u6bcf\u4e2a\u53f6\u5b50\u8282\u70b9\u80fd\u5b58\u653e\u591a\u5c11\u6761\u6570\u636e\uff1f",id:"\u6bcf\u4e2a\u53f6\u5b50\u8282\u70b9\u80fd\u5b58\u653e\u591a\u5c11\u6761\u6570\u636e",level:3},{value:"\u7d22\u5f15\u4e3a\u4ec0\u4e48\u7528 B+\u6811\u4e0d\u7528\u666e\u901a\u4e8c\u53c9\u6811\uff1f",id:"\u7d22\u5f15\u4e3a\u4ec0\u4e48\u7528-b\u6811\u4e0d\u7528\u666e\u901a\u4e8c\u53c9\u6811",level:3},{value:"\u4e3a\u4ec0\u4e48\u4e0d\u7528\u5e73\u8861\u4e8c\u53c9\u6811\u5462\uff1f",id:"\u4e3a\u4ec0\u4e48\u4e0d\u7528\u5e73\u8861\u4e8c\u53c9\u6811\u5462",level:3},{value:"\ud83c\udf1f\u4e3a\u4ec0\u4e48\u7528 B+ \u6811\u800c\u4e0d\u7528 B \u6811\u5462\uff1f",id:"\u4e3a\u4ec0\u4e48\u7528-b-\u6811\u800c\u4e0d\u7528-b-\u6811\u5462",level:3},{value:"B+\u6811\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662f\u591a\u5c11\uff1f",id:"b\u6811\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662f\u591a\u5c11",level:3},{value:"\u4e3a\u4ec0\u4e48\u7528 B+\u6811\u4e0d\u7528\u8df3\u8868\u5462\uff1f",id:"\u4e3a\u4ec0\u4e48\u7528-b\u6811\u4e0d\u7528\u8df3\u8868\u5462",level:3},{value:"B+\u6811\u7684\u8303\u56f4\u67e5\u627e\u600e\u4e48\u505a\u7684\uff1f",id:"b\u6811\u7684\u8303\u56f4\u67e5\u627e\u600e\u4e48\u505a\u7684",level:3},{value:"\u4e86\u89e3\u5feb\u6392\u5417\uff1f",id:"\u4e86\u89e3\u5feb\u6392\u5417",level:3},{value:"B+\u6811\u7d22\u5f15\u548c Hash \u7d22\u5f15\u6709\u4ec0\u4e48\u533a\u522b\uff1f",id:"b\u6811\u7d22\u5f15\u548c-hash-\u7d22\u5f15\u6709\u4ec0\u4e48\u533a\u522b",level:3},{value:"\ud83c\udf1f\u805a\u65cf\u7d22\u5f15\u548c\u975e\u805a\u65cf\u7d22\u5f15\u6709\u4ec0\u4e48\u533a\u522b\uff1f",id:"\u805a\u65cf\u7d22\u5f15\u548c\u975e\u805a\u65cf\u7d22\u5f15\u6709\u4ec0\u4e48\u533a\u522b",level:3},{value:"\ud83c\udf1f\u56de\u8868\u4e86\u89e3\u5417\uff1f",id:"\u56de\u8868\u4e86\u89e3\u5417",level:3},{value:"\u4ec0\u4e48\u60c5\u51b5\u4e0b\u4f1a\u89e6\u53d1\u56de\u8868\uff1f",id:"\u4ec0\u4e48\u60c5\u51b5\u4e0b\u4f1a\u89e6\u53d1\u56de\u8868",level:3},{value:"\u56de\u8868\u8bb0\u5f55\u8d8a\u591a\u597d\u5417\uff1f",id:"\u56de\u8868\u8bb0\u5f55\u8d8a\u591a\u597d\u5417",level:3},{value:"\u4e86\u89e3 MRR \u5417\uff1f",id:"\u4e86\u89e3-mrr-\u5417",level:3},{value:"\ud83c\udf1f\u8054\u5408\u7d22\u5f15\u4e86\u89e3\u5417\uff1f\uff08\u8865\u5145\uff09",id:"\u8054\u5408\u7d22\u5f15\u4e86\u89e3\u5417\u8865\u5145",level:3},{value:"\u8054\u5408\u7d22\u5f15\u5e95\u5c42\u7684\u5b58\u50a8\u7ed3\u6784\u662f\u600e\u6837\u7684\uff1f",id:"\u8054\u5408\u7d22\u5f15\u5e95\u5c42\u7684\u5b58\u50a8\u7ed3\u6784\u662f\u600e\u6837\u7684",level:3},{value:"\u8054\u5408\u7d22\u5f15\u7684\u53f6\u5b50\u8282\u70b9\u5b58\u7684\u4ec0\u4e48\u5185\u5bb9?",id:"\u8054\u5408\u7d22\u5f15\u7684\u53f6\u5b50\u8282\u70b9\u5b58\u7684\u4ec0\u4e48\u5185\u5bb9",level:3},{value:"\ud83c\udf1f\u8986\u76d6\u7d22\u5f15\u4e86\u89e3\u5417\uff1f",id:"\u8986\u76d6\u7d22\u5f15\u4e86\u89e3\u5417",level:3},{value:"\ud83c\udf1f\u4ec0\u4e48\u662f\u6700\u5de6\u524d\u7f00\u539f\u5219\uff1f",id:"\u4ec0\u4e48\u662f\u6700\u5de6\u524d\u7f00\u539f\u5219",level:3},{value:"\u8303\u56f4\u67e5\u8be2\u540e\u7684\u5217\u8fd8\u80fd\u7528\u7d22\u5f15\u5417\uff1f",id:"\u8303\u56f4\u67e5\u8be2\u540e\u7684\u5217\u8fd8\u80fd\u7528\u7d22\u5f15\u5417",level:3},{value:"\u4e3a\u4ec0\u4e48\u4e0d\u4ece\u6700\u5de6\u5f00\u59cb\u67e5\uff0c\u5c31\u65e0\u6cd5\u5339\u914d\u5462\uff1f",id:"\u4e3a\u4ec0\u4e48\u4e0d\u4ece\u6700\u5de6\u5f00\u59cb\u67e5\u5c31\u65e0\u6cd5\u5339\u914d\u5462",level:3},{value:"\ud83c\udf1f\u4ec0\u4e48\u662f\u7d22\u5f15\u4e0b\u63a8\uff1f",id:"\u4ec0\u4e48\u662f\u7d22\u5f15\u4e0b\u63a8",level:3},{value:"\u5982\u4f55\u67e5\u770b\u662f\u5426\u7528\u5230\u4e86\u7d22\u5f15\uff1f\uff08\u8865\u5145\uff09",id:"\u5982\u4f55\u67e5\u770b\u662f\u5426\u7528\u5230\u4e86\u7d22\u5f15\u8865\u5145",level:3},{value:"\ud83c\udf1fMySQL \u4e2d\u6709\u54ea\u51e0\u79cd\u9501\uff1f",id:"mysql-\u4e2d\u6709\u54ea\u51e0\u79cd\u9501",level:3},{value:"\u5168\u5c40\u9501\u4e86\u89e3\u5417\uff1f\uff08\u8865\u5145\uff09",id:"\u5168\u5c40\u9501\u4e86\u89e3\u5417\u8865\u5145",level:3},{value:"\u8868\u9501\u4e86\u89e3\u5417\uff1f",id:"\u8868\u9501\u4e86\u89e3\u5417",level:3},{value:"\ud83c\udf1f\u8bf4\u8bf4 MySQL \u7684\u884c\u9501\uff1f",id:"\u8bf4\u8bf4-mysql-\u7684\u884c\u9501",level:3},{value:"select for update \u6709\u4ec0\u4e48\u9700\u8981\u6ce8\u610f\u7684\uff1f",id:"select-for-update-\u6709\u4ec0\u4e48\u9700\u8981\u6ce8\u610f\u7684",level:3},{value:"\u8bf4\u8bf4\u8bb0\u5f55\u9501\u5427\uff1f",id:"\u8bf4\u8bf4\u8bb0\u5f55\u9501\u5427",level:3},{value:"\u95f4\u9699\u9501\u4e86\u89e3\u5417\uff1f\uff08\u8865\u5145\uff09",id:"\u95f4\u9699\u9501\u4e86\u89e3\u5417\u8865\u5145",level:3},{value:"\u6267\u884c\u4ec0\u4e48\u547d\u4ee4\u4f1a\u52a0\u4e0a\u95f4\u9699\u9501\uff1f",id:"\u6267\u884c\u4ec0\u4e48\u547d\u4ee4\u4f1a\u52a0\u4e0a\u95f4\u9699\u9501",level:3},{value:"\u4e34\u952e\u9501\u4e86\u89e3\u5417\uff1f",id:"\u4e34\u952e\u9501\u4e86\u89e3\u5417",level:3},{value:"\u610f\u5411\u9501\u662f\u4ec0\u4e48\u77e5\u9053\u5417\uff1f",id:"\u610f\u5411\u9501\u662f\u4ec0\u4e48\u77e5\u9053\u5417",level:3},{value:"\u610f\u5411\u9501\u7684\u610f\u4e49\u662f\u4ec0\u4e48\uff1f",id:"\u610f\u5411\u9501\u7684\u610f\u4e49\u662f\u4ec0\u4e48",level:3},{value:"\ud83c\udf1fMySQL\u7684\u4e50\u89c2\u9501\u548c\u60b2\u89c2\u9501\u4e86\u89e3\u5417\uff1f",id:"mysql\u7684\u4e50\u89c2\u9501\u548c\u60b2\u89c2\u9501\u4e86\u89e3\u5417",level:3},{value:"\u5982\u4f55\u901a\u8fc7\u60b2\u89c2\u9501\u548c\u4e50\u89c2\u9501\u89e3\u51b3\u5e93\u5b58\u8d85\u5356\u95ee\u9898\uff1f",id:"\u5982\u4f55\u901a\u8fc7\u60b2\u89c2\u9501\u548c\u4e50\u89c2\u9501\u89e3\u51b3\u5e93\u5b58\u8d85\u5356\u95ee\u9898",level:3},{value:"\u9047\u5230\u8fc7MySQL\u6b7b\u9501\u95ee\u9898\u5417\uff0c\u4f60\u662f\u5982\u4f55\u89e3\u51b3\u7684\uff1f",id:"\u9047\u5230\u8fc7mysql\u6b7b\u9501\u95ee\u9898\u5417\u4f60\u662f\u5982\u4f55\u89e3\u51b3\u7684",level:3},{value:"\u4e8b\u52a1",id:"\u4e8b\u52a1",level:2},{value:"\ud83c\udf1fMySQL\u4e8b\u52a1\u7684\u56db\u5927\u7279\u6027\u8bf4\u4e00\u4e0b\uff1f",id:"mysql\u4e8b\u52a1\u7684\u56db\u5927\u7279\u6027\u8bf4\u4e00\u4e0b",level:3},{value:"\u8be6\u7ec6\u8bf4\u4e00\u4e0b\u539f\u5b50\u6027\uff1f",id:"\u8be6\u7ec6\u8bf4\u4e00\u4e0b\u539f\u5b50\u6027",level:4},{value:"\u8be6\u7ec6\u8bf4\u4e00\u4e0b\u4e00\u81f4\u6027\uff1f",id:"\u8be6\u7ec6\u8bf4\u4e00\u4e0b\u4e00\u81f4\u6027",level:4},{value:"\u8be6\u7ec6\u8bf4\u4e00\u4e0b\u9694\u79bb\u6027\uff1f",id:"\u8be6\u7ec6\u8bf4\u4e00\u4e0b\u9694\u79bb\u6027",level:3},{value:"\u8be6\u7ec6\u8bf4\u4e00\u4e0b\u6301\u4e45\u6027\uff1f",id:"\u8be6\u7ec6\u8bf4\u4e00\u4e0b\u6301\u4e45\u6027",level:3},{value:"ACID \u9760\u4ec0\u4e48\u4fdd\u8bc1\u7684\u5462\uff1f",id:"acid-\u9760\u4ec0\u4e48\u4fdd\u8bc1\u7684\u5462",level:3},{value:"\u8be6\u7ec6\u8bf4\u8bf4\u5982\u4f55\u4fdd\u8bc1\u539f\u5b50\u6027\uff1f",id:"\u8be6\u7ec6\u8bf4\u8bf4\u5982\u4f55\u4fdd\u8bc1\u539f\u5b50\u6027",level:4},{value:"\u8be6\u7ec6\u8bf4\u8bf4\u5982\u4f55\u4fdd\u8bc1\u6301\u4e45\u6027\uff1f",id:"\u8be6\u7ec6\u8bf4\u8bf4\u5982\u4f55\u4fdd\u8bc1\u6301\u4e45\u6027",level:4},{value:"\u8be6\u7ec6\u8bf4\u8bf4\u5982\u4f55\u4fdd\u8bc1\u9694\u79bb\u6027\uff1f",id:"\u8be6\u7ec6\u8bf4\u8bf4\u5982\u4f55\u4fdd\u8bc1\u9694\u79bb\u6027",level:3},{value:"\u5982\u4f55\u4fdd\u8bc1\u4e00\u81f4\u6027\u5462\uff1f",id:"\u5982\u4f55\u4fdd\u8bc1\u4e00\u81f4\u6027\u5462",level:3},{value:"\u4e8b\u52a1\u4f1a\u4e0d\u4f1a\u81ea\u52a8\u63d0\u4ea4\uff1f",id:"\u4e8b\u52a1\u4f1a\u4e0d\u4f1a\u81ea\u52a8\u63d0\u4ea4",level:3},{value:"\ud83c\udf1f\u4e8b\u52a1\u7684\u9694\u79bb\u7ea7\u522b\u6709\u54ea\u4e9b\uff1f",id:"\u4e8b\u52a1\u7684\u9694\u79bb\u7ea7\u522b\u6709\u54ea\u4e9b",level:3},{value:"\u8be6\u7ec6\u8bf4\u8bf4\u8bfb\u672a\u63d0\u4ea4\uff1f",id:"\u8be6\u7ec6\u8bf4\u8bf4\u8bfb\u672a\u63d0\u4ea4",level:4},{value:"\u4ec0\u4e48\u662f\u8bfb\u5df2\u63d0\u4ea4\uff1f",id:"\u4ec0\u4e48\u662f\u8bfb\u5df2\u63d0\u4ea4",level:4},{value:"\u4ec0\u4e48\u662f\u53ef\u91cd\u590d\u8bfb\uff1f",id:"\u4ec0\u4e48\u662f\u53ef\u91cd\u590d\u8bfb",level:4},{value:"\u4ec0\u4e48\u662f\u53ef\u91cd\u590d\u8bfb\uff1f",id:"\u4ec0\u4e48\u662f\u53ef\u91cd\u590d\u8bfb-1",level:4},{value:"\u4ec0\u4e48\u662f\u4e32\u884c\u5316\uff1f",id:"\u4ec0\u4e48\u662f\u4e32\u884c\u5316",level:3},{value:"A \u4e8b\u52a1\u672a\u63d0\u4ea4\uff0cB \u4e8b\u52a1\u4e0a\u67e5\u8be2\u5230\u7684\u662f\u65e7\u503c\u8fd8\u662f\u65b0\u503c\uff1f",id:"a-\u4e8b\u52a1\u672a\u63d0\u4ea4b-\u4e8b\u52a1\u4e0a\u67e5\u8be2\u5230\u7684\u662f\u65e7\u503c\u8fd8\u662f\u65b0\u503c",level:3},{value:"\u600e\u4e48\u66f4\u6539\u4e8b\u52a1\u7684\u9694\u79bb\u7ea7\u522b\uff1f",id:"\u600e\u4e48\u66f4\u6539\u4e8b\u52a1\u7684\u9694\u79bb\u7ea7\u522b",level:3},{value:"\u4e8b\u52a1\u7684\u9694\u79bb\u7ea7\u522b\u662f\u5982\u4f55\u5b9e\u73b0\u7684\uff1f",id:"\u4e8b\u52a1\u7684\u9694\u79bb\u7ea7\u522b\u662f\u5982\u4f55\u5b9e\u73b0\u7684",level:3},{value:"\ud83c\udf1f\u8bf7\u8be6\u7ec6\u8bf4\u8bf4\u5e7b\u8bfb\u5462\uff1f",id:"\u8bf7\u8be6\u7ec6\u8bf4\u8bf4\u5e7b\u8bfb\u5462",level:3},{value:"\u5982\u4f55\u907f\u514d\u5e7b\u8bfb\uff1f",id:"\u5982\u4f55\u907f\u514d\u5e7b\u8bfb",level:3},{value:"\u4ec0\u4e48\u662f\u5f53\u524d\u8bfb\u5462\uff1f",id:"\u4ec0\u4e48\u662f\u5f53\u524d\u8bfb\u5462",level:3},{value:"\u4e3a\u4ec0\u4e48 UPDATE \u548c DELETE \u4e5f\u5c5e\u4e8e\u5f53\u524d\u8bfb\uff1f",id:"\u4e3a\u4ec0\u4e48-update-\u548c-delete-\u4e5f\u5c5e\u4e8e\u5f53\u524d\u8bfb",level:3},{value:"\u4ec0\u4e48\u662f\u5feb\u7167\u8bfb\u5462\uff1f",id:"\u4ec0\u4e48\u662f\u5feb\u7167\u8bfb\u5462",level:3},{value:"\ud83c\udf1fMVCC \u4e86\u89e3\u5417\uff1f",id:"mvcc-\u4e86\u89e3\u5417",level:3},{value:"\u8bf7\u8be6\u7ec6\u8bf4\u8bf4\u4ec0\u4e48\u662f\u7248\u672c\u94fe\uff1f",id:"\u8bf7\u8be6\u7ec6\u8bf4\u8bf4\u4ec0\u4e48\u662f\u7248\u672c\u94fe",level:3},{value:"\u8bf7\u8be6\u7ec6\u8bf4\u8bf4\u4ec0\u4e48\u662fReadView\uff1f",id:"\u8bf7\u8be6\u7ec6\u8bf4\u8bf4\u4ec0\u4e48\u662freadview",level:3},{value:"\u53ef\u91cd\u590d\u8bfb\u548c\u8bfb\u5df2\u63d0\u4ea4\u5728 ReadView \u4e0a\u7684\u533a\u522b\u662f\u4ec0\u4e48\uff1f",id:"\u53ef\u91cd\u590d\u8bfb\u548c\u8bfb\u5df2\u63d0\u4ea4\u5728-readview-\u4e0a\u7684\u533a\u522b\u662f\u4ec0\u4e48",level:3},{value:"\u9ad8\u53ef\u7528",id:"\u9ad8\u53ef\u7528",level:2},{value:"MySQL\u6570\u636e\u5e93\u8bfb\u5199\u5206\u79bb\u4e86\u89e3\u5417\uff1f",id:"mysql\u6570\u636e\u5e93\u8bfb\u5199\u5206\u79bb\u4e86\u89e3\u5417",level:3},{value:"\u8bfb\u5199\u5206\u79bb\u7684\u5b9e\u73b0\u65b9\u5f0f\u6709\u54ea\u4e9b\uff1f",id:"\u8bfb\u5199\u5206\u79bb\u7684\u5b9e\u73b0\u65b9\u5f0f\u6709\u54ea\u4e9b",level:3},{value:"\u4e3b\u4ece\u590d\u5236\u539f\u7406\u4e86\u89e3\u5417\uff1f",id:"\u4e3b\u4ece\u590d\u5236\u539f\u7406\u4e86\u89e3\u5417",level:3},{value:"\u4e3b\u4ece\u540c\u6b65\u5ef6\u8fdf\u600e\u4e48\u5904\u7406\uff1f",id:"\u4e3b\u4ece\u540c\u6b65\u5ef6\u8fdf\u600e\u4e48\u5904\u7406",level:3},{value:"\u8bf7\u8bf4\u8bf4\u534a\u540c\u6b65\u590d\u5236\u7684\u6d41\u7a0b\uff1f",id:"\u8bf7\u8bf4\u8bf4\u534a\u540c\u6b65\u590d\u5236\u7684\u6d41\u7a0b",level:3},{value:"\ud83c\udf1f\u4f60\u4eec\u4e00\u822c\u662f\u600e\u4e48\u5206\u5e93\u7684\u5462\uff1f",id:"\u4f60\u4eec\u4e00\u822c\u662f\u600e\u4e48\u5206\u5e93\u7684\u5462",level:3},{value:"\ud83c\udf1f\u90a3\u4f60\u4eec\u662f\u600e\u4e48\u5206\u8868\u7684\uff1f",id:"\u90a3\u4f60\u4eec\u662f\u600e\u4e48\u5206\u8868\u7684",level:3},{value:"\u6c34\u5e73\u5206\u5e93\u5206\u8868\u7684\u5206\u7247\u7b56\u7565\u6709\u54ea\u51e0\u79cd\uff1f",id:"\u6c34\u5e73\u5206\u5e93\u5206\u8868\u7684\u5206\u7247\u7b56\u7565\u6709\u54ea\u51e0\u79cd",level:3},{value:"\u4e0d\u505c\u673a\u6269\u5bb9\u600e\u4e48\u5b9e\u73b0\uff1f",id:"\u4e0d\u505c\u673a\u6269\u5bb9\u600e\u4e48\u5b9e\u73b0",level:3},{value:"\u5e38\u7528\u7684\u5206\u5e93\u5206\u8868\u4e2d\u95f4\u4ef6\u6709\u54ea\u4e9b\uff1f",id:"\u5e38\u7528\u7684\u5206\u5e93\u5206\u8868\u4e2d\u95f4\u4ef6\u6709\u54ea\u4e9b",level:3},{value:"\u4f60\u89c9\u5f97\u5206\u5e93\u5206\u8868\u4f1a\u5e26\u6765\u4ec0\u4e48\u95ee\u9898\u5462\uff1f",id:"\u4f60\u89c9\u5f97\u5206\u5e93\u5206\u8868\u4f1a\u5e26\u6765\u4ec0\u4e48\u95ee\u9898\u5462",level:3},{value:"\u4f60\u4eec\u9879\u76ee\u4e2d\u7684\u5206\u5e03\u5f0f\u4e3b\u952e id \u662f\u600e\u4e48\u751f\u6210\u7684\uff1f",id:"\u4f60\u4eec\u9879\u76ee\u4e2d\u7684\u5206\u5e03\u5f0f\u4e3b\u952e-id-\u662f\u600e\u4e48\u751f\u6210\u7684",level:3},{value:"\u96ea\u82b1\u7b97\u6cd5\u5177\u4f53\u662f\u600e\u4e48\u5b9e\u73b0\u7684\uff1f",id:"\u96ea\u82b1\u7b97\u6cd5\u5177\u4f53\u662f\u600e\u4e48\u5b9e\u73b0\u7684",level:3},{value:"\u8fd0\u7ef4",id:"\u8fd0\u7ef4",level:2},{value:"\u767e\u4e07\u7ea7\u522b\u4ee5\u4e0a\u7684\u6570\u636e\u5982\u4f55\u5220\u9664\uff1f",id:"\u767e\u4e07\u7ea7\u522b\u4ee5\u4e0a\u7684\u6570\u636e\u5982\u4f55\u5220\u9664",level:3},{value:"\u5343\u4e07\u7ea7\u5927\u8868\u5982\u4f55\u6dfb\u52a0\u5b57\u6bb5\uff1f",id:"\u5343\u4e07\u7ea7\u5927\u8868\u5982\u4f55\u6dfb\u52a0\u5b57\u6bb5",level:3},{value:"MySQL \u5bfc\u81f4 cpu \u98d9\u5347\u7684\u8bdd\uff0c\u8981\u600e\u4e48\u5904\u7406\u5462\uff1f",id:"mysql-\u5bfc\u81f4-cpu-\u98d9\u5347\u7684\u8bdd\u8981\u600e\u4e48\u5904\u7406\u5462",level:3},{value:"sql\u9898",id:"sql\u9898",level:2},{value:"\u65b0\u5efa\u4e00\u4e2a\u8868\u7ed3\u6784\uff0c\u521b\u5efa\u7d22\u5f15\uff0c\u5c06\u767e\u4e07\u6216\u5343\u4e07\u7ea7\u7684\u6570\u636e\u4f7f\u7528 insert \u5bfc\u5165\u8be5\u8868\uff0c\u65b0\u5efa\u4e00\u4e2a\u8868\u7ed3\u6784\uff0c\u5c06\u767e\u4e07\u6216\u5343\u4e07\u7ea7\u7684\u6570\u636e\u4f7f\u7528 isnert \u5bfc\u5165\u8be5\u8868\uff0c\u518d\u521b\u5efa\u7d22\u5f15\uff0c\u8fd9\u4e24\u79cd\u6548\u7387\u54ea\u4e2a\u9ad8\u5462\uff1f\u6216\u8005\u8bf4\u7528\u65f6\u77ed\u5462\uff1f",id:"\u65b0\u5efa\u4e00\u4e2a\u8868\u7ed3\u6784\u521b\u5efa\u7d22\u5f15\u5c06\u767e\u4e07\u6216\u5343\u4e07\u7ea7\u7684\u6570\u636e\u4f7f\u7528-insert-\u5bfc\u5165\u8be5\u8868\u65b0\u5efa\u4e00\u4e2a\u8868\u7ed3\u6784\u5c06\u767e\u4e07\u6216\u5343\u4e07\u7ea7\u7684\u6570\u636e\u4f7f\u7528-isnert-\u5bfc\u5165\u8be5\u8868\u518d\u521b\u5efa\u7d22\u5f15\u8fd9\u4e24\u79cd\u6548\u7387\u54ea\u4e2a\u9ad8\u5462\u6216\u8005\u8bf4\u7528\u65f6\u77ed\u5462",level:3},{value:"MySQL\u662f\u5148\u5efa\u7acb\u7d22\u5f15\u597d\u8fd8\u662f\u5148\u63d2\u5165\u6570\u636e\u597d\uff1f",id:"mysql\u662f\u5148\u5efa\u7acb\u7d22\u5f15\u597d\u8fd8\u662f\u5148\u63d2\u5165\u6570\u636e\u597d",level:3},{value:"\u4ec0\u4e48\u662f\u6df1\u5206\u9875\uff0cselect * from tbn limit 1000000000 \u8fd9\u4e2a\u6709\u4ec0\u4e48\u95ee\u9898\uff0c\u5982\u679c\u8868\u5927\u6216\u8005\u8868\u5c0f\u5206\u522b\u4ec0\u4e48\u95ee\u9898",id:"\u4ec0\u4e48\u662f\u6df1\u5206\u9875select--from-tbn-limit-1000000000-\u8fd9\u4e2a\u6709\u4ec0\u4e48\u95ee\u9898\u5982\u679c\u8868\u5927\u6216\u8005\u8868\u5c0f\u5206\u522b\u4ec0\u4e48\u95ee\u9898",level:3}];function t(e){const n={a:"a",blockquote:"blockquote",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,d.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"title-mysqlid-mysql-interviewdescription-mysqlslug-docsinstallationsidebar_label-mysqlsidebar_position-1tags-mysql",children:'title: "MYSQL"\r\nid: MYSQL-INTERVIEW\r\ndescription: "MYSQL"\r\nslug: /docs/installation\r\nsidebar_label: "MYSQL"\r\nsidebar_position: 1\r\ntags: [MYSQL]'}),"\n",(0,i.jsx)(n.h2,{id:"mysql-\u57fa\u7840",children:"mysql \u57fa\u7840"}),"\n",(0,i.jsx)(n.h3,{id:"mysql\u7684date\u548ctimestamp\u7684\u533a\u522b",children:"mysql\u7684date\u548ctimestamp\u7684\u533a\u522b\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u65f6\u533a \uff0c\u5b58\u50a8\u7a7a\u95f4 \uff0c\u9ed8\u8ba4\u503c \uff0c\u65e5\u671f\u8303\u56f4\r\nDATETIME \u76f4\u63a5\u5b58\u50a8\u65e5\u671f\u548c\u65f6\u95f4\u7684\u5b8c\u6574\u503c\uff0c\u4e0e\u65f6\u533a\u65e0\u5173\u3002\r\nTIMESTAMP \u5b58\u50a8\u7684\u662f Unix \u65f6\u95f4\u6233\uff0c1970-01-01 00:00:01 UTC \u4ee5\u6765\u7684\u79d2\u6570\uff0c\u53d7\u65f6\u533a\u5f71\u54cd\u3002\u6700\u5927\u53ea\u80fd\u52302038\u5e74\r\n\u800cDATETIME \u7684\u9ed8\u8ba4\u503c\u4e3a null\uff0c\u5360\u7528 8 \u4e2a\u5b57\u8282\uff1b\r\nTIMESTAMP \u7684\u9ed8\u8ba4\u503c\u4e3a\u5f53\u524d\u65f6\u95f4\u2014\u2014CURRENT_TIMESTAMP\uff0c\u5360 4 \u4e2a\u5b57\u8282\uff0c\u5b9e\u9645\u5f00\u53d1\u4e2d\u66f4\u5e38\u7528\uff0c\u56e0\u4e3a\u53ef\u4ee5\u81ea\u52a8\u66f4\u65b0\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"sql-\u67e5\u8be2\u8bed\u53e5\u7684\u6267\u884c\u987a\u5e8f\u4e86\u89e3\u5417",children:"SQL \u67e5\u8be2\u8bed\u53e5\u7684\u6267\u884c\u987a\u5e8f\u4e86\u89e3\u5417\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"waitx\r\n\u8fd9\u91cc\u8bf4\u7684\u662f\u903b\u8f91\u8fc7\u7a0b"}),"\n",(0,i.jsx)(n.p,{children:"FROM\r\nON\r\nJOIN\r\nWHERE\r\nGROUP BY\r\n\u805a\u5408\u51fd\u6570\r\nHAVING\r\nSELECT\r\nDISTINCT\r\nORDER BY\r\nLIMIT"}),"\n",(0,i.jsx)(n.h3,{id:"in-\u548c-exists\u7684\u5dee\u522b",children:"IN \u548c EXISTS\u7684\u5dee\u522b"}),"\n",(0,i.jsx)(n.p,{children:"\u5f53\u4f7f\u7528 IN \u65f6\uff0cMySQL \u4f1a\u9996\u5148\u6267\u884c\u5b50\u67e5\u8be2\uff0c\u7136\u540e\u5c06\u5b50\u67e5\u8be2\u7684\u7ed3\u679c\u96c6\u7528\u4e8e\u5916\u90e8\u67e5\u8be2\u7684\u6761\u4ef6\u3002\u8fd9\u610f\u5473\u7740\u5b50\u67e5\u8be2\u7684\u7ed3\u679c\u96c6\u9700\u8981\u5168\u90e8\u52a0\u8f7d\u5230\u5185\u5b58\u4e2d\u3002\r\n\u800c EXISTS \u4f1a\u5bf9\u5916\u90e8\u67e5\u8be2\u7684\u6bcf\u4e00\u884c\uff0c\u6267\u884c\u4e00\u6b21\u5b50\u67e5\u8be2\u3002\u5982\u679c\u5b50\u67e5\u8be2\u8fd4\u56de\u4efb\u4f55\u884c\uff0c\u5219 EXISTS \u6761\u4ef6\u4e3a\u771f\u3002EXISTS \u5173\u6ce8\u7684\u662f\u5b50\u67e5\u8be2\u662f\u5426\u8fd4\u56de\u884c\uff0c\u800c\u4e0d\u662f\u8fd4\u56de\u7684\u5177\u4f53\u503c\u3002"}),"\n",(0,i.jsx)(n.p,{children:"-- IN \u7684\u4e34\u65f6\u8868\u53ef\u80fd\u6210\u4e3a\u6027\u80fd\u74f6\u9888\r\n\u603b\u7ed3\r\nIN \u9002\u7528\u4e8e\u5b50\u67e5\u8be2\u7ed3\u679c\u96c6\u8f83\u5c0f\u7684\u60c5\u51b5\u3002\u5982\u679c\u5b50\u67e5\u8be2\u8fd4\u56de\u5927\u91cf\u6570\u636e\uff0cIN \u7684\u6027\u80fd\u53ef\u80fd\u4f1a\u4e0b\u964d\uff0c\u56e0\u4e3a\u5b83\u9700\u8981\u5c06\u6574\u4e2a\u7ed3\u679c\u96c6\u52a0\u8f7d\u5230\u5185\u5b58\u3002\r\n\u800c EXISTS \u9002\u7528\u4e8e\u5b50\u67e5\u8be2\u7ed3\u679c\u96c6\u53ef\u80fd\u5f88\u5927\u7684\u60c5\u51b5\u3002\u7531\u4e8e EXISTS \u53ea\u9700\u8981\u5224\u65ad\u5b50\u67e5\u8be2\u662f\u5426\u8fd4\u56de\u884c\uff0c\u800c\u4e0d\u9700\u8981\u52a0\u8f7d\u6574\u4e2a\u7ed3\u679c\u96c6\uff0c\u56e0\u6b64\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\u6027\u80fd\u66f4\u597d\uff0c\u7279\u522b\u662f\u5f53\u5b50\u67e5\u8be2\u53ef\u4ee5\u4f7f\u7528\u7d22\u5f15\u65f6\u3002"}),"\n",(0,i.jsx)(n.p,{children:"NULL\u503c\u9677\u4e86\u89e3\u5417\uff1f\r\nIN: \u5982\u679c\u5b50\u67e5\u8be2\u7684\u7ed3\u679c\u96c6\u4e2d\u5305\u542b NULL \u503c\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u610f\u5916\u7684\u7ed3\u679c\u3002\u4f8b\u5982\uff0cWHERE column IN (subquery)\uff0c\u5982\u679c subquery \u8fd4\u56de NULL\uff0c\u5219 column IN (subquery) \u6c38\u8fdc\u4e0d\u4f1a\u4e3a\u771f\uff0c\u9664\u975e column \u672c\u8eab\u4e5f\u4e3a NULL\u3002\r\nEXISTS: \u5bf9 NULL \u503c\u7684\u5904\u7406\u66f4\u52a0\u76f4\u63a5\u3002EXISTS \u53ea\u662f\u68c0\u67e5\u5b50\u67e5\u8be2\u662f\u5426\u8fd4\u56de\u884c\uff0c\u4e0d\u5173\u5fc3\u884c\u7684\u5177\u4f53\u503c\uff0c\u56e0\u6b64\u4e0d\u53d7 NULL \u503c\u7684\u5f71\u54cd\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u8bb0\u5f55\u8d27\u5e01\u7528\u4ec0\u4e48\u7c7b\u578b\u6bd4\u8f83\u597d",children:"\u8bb0\u5f55\u8d27\u5e01\u7528\u4ec0\u4e48\u7c7b\u578b\u6bd4\u8f83\u597d\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u5982\u679c\u662f\u7535\u5546\u3001\u4ea4\u6613\u3001\u8d26\u5355\u7b49\u6d89\u53ca\u8d27\u5e01\u7684\u573a\u666f\uff0c\u5efa\u8bae\u4f7f\u7528 DECIMAL \u7c7b\u578b\uff0c\u56e0\u4e3a DECIMAL \u7c7b\u578b\u662f\u7cbe\u786e\u6570\u503c\u7c7b\u578b\uff0c\u4e0d\u4f1a\u51fa\u73b0\u6d6e\u70b9\u6570\u8ba1\u7b97\u8bef\u5dee\u3002\r\n\u5982\u679c\u662f\u94f6\u884c\uff0c\u6d89\u53ca\u5230\u652f\u4ed8\u7684\u573a\u666f\uff0c\u5efa\u8bae\u4f7f\u7528 BIGINT \u7c7b\u578b\u3002\u53ef\u4ee5\u5c06\u8d27\u5e01\u91d1\u989d\u4e58\u4ee5\u4e00\u4e2a\u56fa\u5b9a\u56e0\u5b50\uff0c\u6bd4\u5982 100\uff0c\u8868\u793a\u4ee5\u201c\u5206\u201d\u4e3a\u5355\u4f4d\uff0c\u7136\u540e\u5b58\u50a8\u4e3a BIGINT\u3002\u8fd9\u79cd\u65b9\u5f0f\u65e2\u907f\u514d\u4e86\u6d6e\u70b9\u6570\u95ee\u9898\uff0c\u540c\u65f6\u4e5f\u63d0\u4f9b\u4e86\u4e0d\u9519\u7684\u6027\u80fd\u3002\u4f46\u5728\u5c55\u793a\u7684\u65f6\u5019\u9700\u8981\u9664\u4ee5\u76f8\u5e94\u7684\u56e0\u5b50\u3002\r\n\u4e3a\u4ec0\u4e48\u4e0d\u63a8\u8350\u4f7f\u7528 FLOAT \u6216 DOUBLE\uff1f"}),"\n",(0,i.jsx)(n.h3,{id:"dropdelete-\u4e0e-truncate-\u7684\u533a\u522b",children:"drop\u3001delete \u4e0e truncate \u7684\u533a\u522b\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"DROP \u662f\u7269\u7406\u5220\u9664\uff0c\u7528\u6765\u5220\u9664\u6574\u5f20\u8868\uff0c\u5305\u62ec\u8868\u7ed3\u6784\uff0c\u4e14\u4e0d\u80fd\u56de\u6eda\u3002\r\nDELETE \u652f\u6301\u884c\u7ea7\u5220\u9664\uff0c\u53ef\u4ee5\u5e26 WHERE \u6761\u4ef6\uff0c\u53ef\u4ee5\u56de\u6eda\u3002\r\nTRUNCATE \u7528\u4e8e\u6e05\u7a7a\u8868\u4e2d\u7684\u6240\u6709\u6570\u636e\uff0c\u4f46\u4f1a\u4fdd\u7559\u8868\u7ed3\u6784\uff0c\u4e0d\u80fd\u56de\u6eda\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u7528\u8fc7\u54ea\u4e9b-mysql-\u51fd\u6570\u8865\u5145",children:"\u7528\u8fc7\u54ea\u4e9b MySQL \u51fd\u6570\uff1f\uff08\u8865\u5145\uff09"}),"\n",(0,i.jsx)(n.h3,{id:"\u8bf4\u8bf4-mysql-\u7684\u57fa\u7840\u67b6\u6784",children:"\u8bf4\u8bf4 MySQL \u7684\u57fa\u7840\u67b6\u6784\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u67b6\u6784\u5c42\u6b21"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"\u8fde\u63a5\u5668 \uff1a \u8fde\u63a5\u5c42\u4e3b\u8981\u8d1f\u8d23\u5ba2\u6237\u7aef\u8fde\u63a5\u7684\u7ba1\u7406\uff0c\u5305\u62ec\u9a8c\u8bc1\u7528\u6237\u8eab\u4efd\u3001\u6743\u9650\u6821\u9a8c\u3001\u8fde\u63a5\u7ba1\u7406\u7b49\u3002\u53ef\u4ee5\u901a\u8fc7\u6570\u636e\u5e93\u8fde\u63a5\u6c60\u6765\u63d0\u5347\u8fde\u63a5\u7684\u5904\u7406\u6548\u7387\u3002"}),"\n",(0,i.jsx)(n.li,{children:"server \uff1a \u670d\u52a1\u5c42\u662f MySQL \u7684\u6838\u5fc3\uff0c\u4e3b\u8981\u8d1f\u8d23\u67e5\u8be2\u89e3\u6790\u3001\u4f18\u5316\u3001\u6267\u884c\u7b49\u64cd\u4f5c\u3002\u5728\u8fd9\u4e00\u5c42\uff0cSQL \u8bed\u53e5\u4f1a\u7ecf\u8fc7\u89e3\u6790\u3001\u4f18\u5316\u5668\u4f18\u5316\uff0c\u7136\u540e\u8f6c\u53d1\u5230\u5b58\u50a8\u5f15\u64ce\u6267\u884c\uff0c\u5e76\u8fd4\u56de\u7ed3\u679c\u3002\u8fd9\u4e00\u5c42\u5305\u542b\u67e5\u8be2\u89e3\u6790\u5668\u3001\u4f18\u5316\u5668\u3001\u6267\u884c\u8ba1\u5212\u751f\u6210\u5668\u3001\u65e5\u5fd7\u6a21\u5757\u7b49\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u5b58\u50a8\u5f15\u64ce \uff1a \u5b58\u50a8\u5f15\u64ce\u5c42\u8d1f\u8d23\u6570\u636e\u7684\u5b9e\u9645\u5b58\u50a8\u548c\u63d0\u53d6\u3002MySQL \u652f\u6301\u591a\u79cd\u5b58\u50a8\u5f15\u64ce\uff0c\u5982 InnoDB\u3001MyISAM\u3001Memory \u7b49\u3002"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"binlog\u5199\u5165\u5728\u54ea\u4e00\u5c42\uff1f\r\nbinlog \u5728\u670d\u52a1\u5c42\uff0c\u8d1f\u8d23\u8bb0\u5f55 SQL \u8bed\u53e5\u7684\u53d8\u5316\u3002\u5b83\u8bb0\u5f55\u4e86\u6240\u6709\u5bf9\u6570\u636e\u5e93\u8fdb\u884c\u66f4\u6539\u7684\u64cd\u4f5c\uff0c\u7528\u4e8e\u6570\u636e\u6062\u590d\u3001\u4e3b\u4ece\u590d\u5236\u7b49\u3002"}),"\n",(0,i.jsx)(n.h2,{id:"\u6570\u636e\u5e93\u67b6\u6784",children:"\u6570\u636e\u5e93\u67b6\u6784"}),"\n",(0,i.jsx)(n.h3,{id:"\u4e00\u6761\u67e5\u8be2\u8bed\u53e5\u662f\u5982\u4f55\u6267\u884c\u7684",children:"\ud83c\udf1f\u4e00\u6761\u67e5\u8be2\u8bed\u53e5\u662f\u5982\u4f55\u6267\u884c\u7684\uff1f"}),"\n",(0,i.jsx)(n.h3,{id:"\u4e00\u6761\u66f4\u65b0\u8bed\u53e5\u662f\u5982\u4f55\u6267\u884c\u7684",children:"\u4e00\u6761\u66f4\u65b0\u8bed\u53e5\u662f\u5982\u4f55\u6267\u884c\u7684\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"waitx\r\nmysql\u2014update\u6267\u884c\u6d41\u7a0b\u56fe waitx"}),"\n",(0,i.jsx)(n.h3,{id:"\u8bf4\u8bf4-mysql-\u7684\u6bb5\u533a\u9875\u884c\u8865\u5145",children:"\u8bf4\u8bf4 MySQL \u7684\u6bb5\u533a\u9875\u884c\uff08\u8865\u5145\uff09"}),"\n",(0,i.jsx)(n.p,{children:"\u2460\u3001\u6bb5\uff1a\u8868\u7a7a\u95f4\u7531\u591a\u4e2a\u6bb5\u7ec4\u6210\uff0c\u5e38\u89c1\u7684\u6bb5\u6709\u6570\u636e\u6bb5\u3001\u7d22\u5f15\u6bb5\u3001\u56de\u6eda\u6bb5\u7b49\u3002\r\n\u521b\u5efa\u7d22\u5f15\u65f6\u4f1a\u521b\u5efa\u4e24\u4e2a\u6bb5\uff0c\u6570\u636e\u6bb5\u548c\u7d22\u5f15\u6bb5\uff0c\u6570\u636e\u6bb5\u7528\u6765\u5b58\u50a8\u53f6\u5b50\u8282\u70b9\u4e2d\u7684\u6570\u636e\uff1b\u7d22\u5f15\u6bb5\u7528\u6765\u5b58\u50a8\u975e\u53f6\u5b50\u8282\u70b9\u7684\u6570\u636e\u3002\r\n\u56de\u6eda\u6bb5\u5305\u542b\u4e86\u4e8b\u52a1\u6267\u884c\u8fc7\u7a0b\u4e2d\u7528\u4e8e\u6570\u636e\u56de\u6eda\u7684\u65e7\u6570\u636e\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u2461\u3001\u533a\uff1a\u6bb5\u7531\u4e00\u4e2a\u6216\u591a\u4e2a\u533a\u7ec4\u6210\uff0c\u533a\u662f\u4e00\u7ec4\u8fde\u7eed\u7684\u9875\uff0c\u901a\u5e38\u5305\u542b 64 \u4e2a\u8fde\u7eed\u7684\u9875\uff0c\u4e5f\u5c31\u662f 1M \u7684\u6570\u636e\u3002\r\n\u4f7f\u7528\u533a\u800c\u975e\u5355\u72ec\u7684\u9875\u8fdb\u884c\u6570\u636e\u5206\u914d\u53ef\u4ee5\u4f18\u5316\u78c1\u76d8\u64cd\u4f5c\uff0c\u51cf\u5c11\u78c1\u76d8\u5bfb\u9053\u65f6\u95f4\uff0c\u7279\u522b\u662f\u5728\u5927\u91cf\u6570\u636e\u8fdb\u884c\u8bfb\u5199\u65f6\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u2462\u3001\u9875\uff1a\u9875\u662f InnoDB \u5b58\u50a8\u6570\u636e\u7684\u57fa\u672c\u5355\u5143\uff0c\u6807\u51c6\u5927\u5c0f\u4e3a 16 KB\uff0c\u7d22\u5f15\u6811\u4e0a\u7684\u4e00\u4e2a\u8282\u70b9\u5c31\u662f\u4e00\u4e2a\u9875\u3002\r\n\u4e5f\u5c31\u610f\u5473\u7740\u6570\u636e\u5e93\u6bcf\u6b21\u8bfb\u5199\u90fd\u662f\u4ee5 16 KB \u4e3a\u5355\u4f4d\u7684\uff0c\u4e00\u6b21\u6700\u5c11\u4ece\u78c1\u76d8\u4e2d\u8bfb\u53d6 16KB \u7684\u6570\u636e\u5230\u5185\u5b58\uff0c\u4e00\u6b21\u6700\u5c11\u5199\u5165 16KB \u7684\u6570\u636e\u5230\u78c1\u76d8\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u2463\u3001\u884c\uff1aInnoDB \u91c7\u7528\u884c\u5b58\u50a8\u65b9\u5f0f\uff0c\u610f\u5473\u7740\u6570\u636e\u6309\u7167\u884c\u8fdb\u884c\u7ec4\u7ec7\u548c\u7ba1\u7406\uff0c\u884c\u6570\u636e\u53ef\u80fd\u6709\u591a\u4e2a\u683c\u5f0f\uff0c\u6bd4\u5982\u8bf4 COMPACT\u3001REDUNDANT\u3001DYNAMIC \u7b49\u3002\r\nMySQL 8.0 \u9ed8\u8ba4\u7684\u884c\u683c\u5f0f\u662f DYNAMIC\uff0c\u7531COMPACT \u6f14\u53d8\u800c\u6765\uff0c\u610f\u5473\u7740\u8fd9\u4e9b\u6570\u636e\u5982\u679c\u8d85\u8fc7\u4e86\u9875\u5185\u8054\u5b58\u50a8\u7684\u9650\u5236\uff0c\u5219\u4f1a\u88ab\u5b58\u50a8\u5728\u6ea2\u51fa\u9875\u4e2d\u3002"}),"\n",(0,i.jsx)(n.p,{children:"-----  \u4e0d\u592a\u91cd\u8981 start  -----------------\r\nMySQL 5.7 \u548c 8.0 \u90fd\u652f\u6301\u4ee5\u4e0b\u56db\u79cd\u884c\u683c\u5f0f\uff1a\r\n1.REDUNDANT: \u5197\u4f59\u683c\u5f0f\uff0cMySQL 5.0 \u4e4b\u524d\u7684\u8001\u683c\u5f0f\uff0c\u7528\u4e8e\u5411\u540e\u517c\u5bb9\u3002\u5b58\u50a8\u6548\u7387\u8f83\u4f4e\uff0c\u901a\u5e38\u4e0d\u63a8\u8350\u4f7f\u7528\u3002\r\n2.COMPACT: \u7d27\u51d1\u683c\u5f0f\u3002\u6bd4 REDUNDANT\u66f4\u9ad8\u6548\u5730\u5b58\u50a8\u6570\u636e\uff0c\u4f46\u4f9d\u7136\u4f1a\u5b58\u50a8\u90e8\u5206 NULL \u503c\u7684\u4fe1\u606f\u5728\u884c\u5185\uff08\u6ea2\u51fa\u9875\u4e4b\u524d\uff09\u3002\r\n3.DYNAMIC: \u52a8\u6001\u683c\u5f0f\uff08MySQL 5.7.9 \u53ca\u4ee5\u540e\u7248\u672c\u7684\u9ed8\u8ba4\u683c\u5f0f\uff09\u3002\u8fd9\u662f COMPACT\u683c\u5f0f\u7684\u6539\u8fdb\u7248\u3002\u5bf9\u4e8e\u53ef\u80fd\u6ea2\u51fa\u7684\u5927\u5b57\u6bb5\uff08\u5982 BLOB, TEXT, VARCHAR\uff09\uff0c\u5b83\u53ea\u5728\u884c\u4e2d\u5b58\u50a8\u4e00\u4e2a 20 \u5b57\u8282\u7684\u6307\u9488\uff0c\u800c\u5c06\u5b9e\u9645\u6570\u636e\u5b8c\u5168\u5b58\u50a8\u5728\u6ea2\u51fa\u9875\u4e2d\u3002\u8fd9\u4f7f\u5f97\u884c\u5185\u80fd\u5b58\u50a8\u66f4\u591a\u7684\u6570\u636e\uff0c\u975e\u5e38\u9002\u5408\u5305\u542b\u53ef\u53d8\u957f\u5927\u6570\u636e\u5217\u7684\u8868\u3002\r\n4.COMPRESSED: \u538b\u7f29\u683c\u5f0f\u3002\u57fa\u4e8e DYNAMIC\u683c\u5f0f\uff0c\u4f46\u589e\u52a0\u4e86\u8868\u7ea7\u522b\u7684\u6570\u636e\u538b\u7f29\u529f\u80fd\uff08\u4f7f\u7528 zlib \u538b\u7f29\u7b97\u6cd5\uff09\u3002\u5b83\u4f1a\u5c06\u6570\u636e\u548c\u7d22\u5f15\u8fdb\u884c\u538b\u7f29\uff0c\u53ef\u4ee5\u663e\u8457\u51cf\u5c11\u5b58\u50a8\u7a7a\u95f4\uff0c\u4f46\u4f1a\u5e26\u6765\u989d\u5916\u7684 CPU \u5f00\u9500\u3002"}),"\n",(0,i.jsxs)(n.p,{children:["\u5176\u4e2dREDUNDANT \u548c COMPACT\r\n",(0,i.jsx)(n.img,{alt:"COMPACT",src:r(83344).A+"",width:"744",height:"164"}),"\r\n\u5dee\u522b\uff1aREDUNDANT\u683c\u5f0f\u6ca1\u6709\u4e13\u95e8\u7684NULL\u503c\u5217\u8868\uff0c\u901a\u8fc7\u5728\u5b57\u6bb5\u957f\u5ea6\u504f\u79fb\u5217\u8868\u7684\u7b2c\u4e00\u4e2a\u6bd4\u7279\u4f4d\u6765\u6807\u8bb0NULL\u503c\r\n-----  \u4e0d\u592a\u91cd\u8981 end  -----------------"]}),"\n",(0,i.jsx)(n.h2,{id:"\u5b58\u50a8\u5f15\u64ce",children:"\u5b58\u50a8\u5f15\u64ce"}),"\n",(0,i.jsx)(n.h3,{id:"mysql-\u6709\u54ea\u4e9b\u5e38\u89c1\u5b58\u50a8\u5f15\u64ce",children:"\ud83c\udf1fMySQL \u6709\u54ea\u4e9b\u5e38\u89c1\u5b58\u50a8\u5f15\u64ce\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"MyISAM\u3001InnoDB\u3001MEMORY\r\nmysql\u5b58\u50a8\u5f15\u64ce\u56fe\u7247waitx"}),"\n",(0,i.jsx)(n.p,{children:"\u2460\u3001MySQL 5.5 \u4e4b\u524d\uff0c\u9ed8\u8ba4\u5b58\u50a8\u5f15\u64ce\u662f MyISAM\uff0c5.5 \u4e4b\u540e\u662f InnoDB\u3002"}),"\n",(0,i.jsxs)(n.p,{children:["\u2461\u3001InnoDB \u652f\u6301\u7684\u54c8\u5e0c\u7d22\u5f15\u662f",(0,i.jsx)(n.strong,{children:"\u81ea\u9002\u5e94\u7684\uff0c\u4e0d\u80fd\u4eba\u4e3a\u5e72\u9884"}),"\u3002"]}),"\n",(0,i.jsx)(n.p,{children:"\u2462\u3001InnoDB \u4ece MySQL 5.6 \u5f00\u59cb\uff0c\u652f\u6301\u5168\u6587\u7d22\u5f15\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u2463\u3001InnoDB \u7684\u6700\u5c0f\u8868\u7a7a\u95f4\u7565\u5c0f\u4e8e 10M\uff0c\u6700\u5927\u8868\u7a7a\u95f4\u53d6\u51b3\u4e8e\u9875\u9762\u5927\u5c0f\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"innodb-\u548c-myisam-\u4e3b\u8981\u6709\u4ec0\u4e48\u533a\u522b",children:"InnoDB \u548c MyISAM \u4e3b\u8981\u6709\u4ec0\u4e48\u533a\u522b\uff1f"}),"\n",(0,i.jsxs)(n.p,{children:["InnoDB \u548c MyISAM \u7684\u6700\u5927\u533a\u522b\u5728\u4e8e",(0,i.jsx)(n.strong,{children:"\u4e8b\u52a1\u652f\u6301\u548c\u9501\u673a\u5236"}),"\u3002InnoDB \u652f\u6301\u4e8b\u52a1\u3001\u884c\u7ea7\u9501\uff0c\u9002\u5408\u5927\u591a\u6570\u4e1a\u52a1\u7cfb\u7edf\uff1b\u800c MyISAM \u4e0d\u652f\u6301\u4e8b\u52a1\uff0c\u7528\u7684\u662f\u8868\u9501\uff0c\u67e5\u8be2\u5feb\u4f46\u5199\u5165\u6027\u80fd\u5dee\uff0c\u9002\u5408\u8bfb\u591a\u5199\u5c11\u7684\u573a\u666f\u3002\r\n\u53e6\u5916\uff0c\u4ece\u5b58\u50a8\u7ed3\u6784\u4e0a\u6765\u8bf4\uff0c\r\nMyISAM \u7528\u4e09\u79cd\u683c\u5f0f\u7684\u6587\u4ef6\u6765\u5b58\u50a8\uff0c.frm \u6587\u4ef6\u5b58\u50a8\u8868\u7684\u5b9a\u4e49\uff1b.MYD \u5b58\u50a8\u6570\u636e\uff1b.MYI \u5b58\u50a8\u7d22\u5f15\uff1b\r\n\u800c InnoDB \u7528\u4e24\u79cd\u683c\u5f0f\u7684\u6587\u4ef6\u6765\u5b58\u50a8\uff0c.frm \u6587\u4ef6\u5b58\u50a8\u8868\u7684\u5b9a\u4e49\uff1b.ibd \u5b58\u50a8\u6570\u636e\u548c\u7d22\u5f15\u3002"]}),"\n",(0,i.jsx)(n.p,{children:"\u4ece\u7d22\u5f15\u7c7b\u578b\u4e0a\u6765\u8bf4\uff0cMyISAM \u4e3a\u975e\u805a\u7c07\u7d22\u5f15\uff0c\u7d22\u5f15\u548c\u6570\u636e\u5206\u5f00\u5b58\u50a8\uff0c\u7d22\u5f15\u4fdd\u5b58\u7684\u662f\u6570\u636e\u6587\u4ef6\u7684\u6307\u9488\u3002\r\nInnoDB \u4e3a\u805a\u7c07\u7d22\u5f15\uff0c\u7d22\u5f15\u548c\u6570\u636e\u4e0d\u5206\u5f00\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u66f4\u7ec6\u5fae\u7684\u5c42\u9762\u4e0a\u6765\u8bb2\uff0cMyISAM \u4e0d\u652f\u6301\u5916\u952e\uff0c\u53ef\u4ee5\u6ca1\u6709\u4e3b\u952e\uff0c\u8868\u7684\u5177\u4f53\u884c\u6570\u5b58\u50a8\u5728\u8868\u7684\u5c5e\u6027\u4e2d\uff0c\u67e5\u8be2\u65f6\u53ef\u4ee5\u76f4\u63a5\u8fd4\u56de\uff1b\r\nInnoDB \u652f\u6301\u5916\u952e\uff0c\u5fc5\u987b\u6709\u4e3b\u952e\uff0c\u5177\u4f53\u884c\u6570\u9700\u8981\u626b\u63cf\u6574\u4e2a\u8868\u624d\u80fd\u8fd4\u56de\uff0c\u6709\u7d22\u5f15\u7684\u60c5\u51b5\u4e0b\u4f1a\u626b\u63cf\u7d22\u5f15\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"innodb\u7684\u5185\u5b58\u7ed3\u6784\u4e86\u89e3\u5417",children:"InnoDB\u7684\u5185\u5b58\u7ed3\u6784\u4e86\u89e3\u5417\uff1f"}),"\n",(0,i.jsxs)(n.p,{children:["InnoDB \u7684\u5185\u5b58\u533a\u57df\u4e3b\u8981\u6709\u4e24\u5757\uff0cbuffer pool \u548c log buffer\u3002\r\nbuffer pool \u7528\u4e8e\u7f13\u5b58\u6570\u636e\u9875\u548c\u7d22\u5f15\u9875\uff0c\u63d0\u5347\u8bfb\u5199\u6027\u80fd\uff1b\r\nlog buffer \u7528\u4e8e\u7f13\u5b58 redo log\uff0c\u63d0\u5347\u5199\u5165\u6027\u80fd\u3002\r\n",(0,i.jsx)(n.img,{alt:"InnoDB\u7684\u5185\u5b58\u7ed3\u6784",src:r(15467).A+"",width:"1404",height:"1136"})]}),"\n",(0,i.jsx)(n.h3,{id:"\u6570\u636e\u9875\u7684\u7ed3\u6784\u4e86\u89e3\u5417-ps\u81ea\u5df1\u6682\u65f6\u4e0d\u770b",children:"\u6570\u636e\u9875\u7684\u7ed3\u6784\u4e86\u89e3\u5417\uff1f (ps:\u81ea\u5df1\u6682\u65f6\u4e0d\u770b)"}),"\n",(0,i.jsx)(n.h3,{id:"innodb-\u7684-buffer-pool\u4e86\u89e3\u5417\u8865\u5145",children:"InnoDB \u7684 Buffer Pool\u4e86\u89e3\u5417\uff1f\uff08\u8865\u5145\uff09"}),"\n",(0,i.jsxs)(n.p,{children:["Buffer Pool \u662f InnoDB \u5b58\u50a8\u5f15\u64ce\u4e2d\u7684\u4e00\u4e2a\u5185\u5b58\u7f13\u51b2\u533a\uff0c\u5b83\u4f1a\u5c06\u7ecf\u5e38\u4f7f\u7528\u7684\u6570\u636e\u9875\u3001\u7d22\u5f15\u9875\u52a0\u8f7d\u8fdb\u5185\u5b58\uff0c\u8bfb\u7684\u65f6\u5019\u5148\u67e5\u8be2 Buffer Pool\uff0c\u5982\u679c\u547d\u4e2d\u5c31\u4e0d\u7528\u8bbf\u95ee\u78c1\u76d8\u4e86\u3002\r\n![Buffer Pool](Buffer Pool.png)\r\n\u5982\u679c\u6ca1\u6709\u547d\u4e2d\uff0c\u5c31\u4ece\u78c1\u76d8\u8bfb\u53d6\uff0c\u5e76\u52a0\u8f7d\u5230 Buffer Pool\uff0c\u6b64\u65f6\u53ef\u80fd\u4f1a\u89e6\u53d1\u9875\u6dd8\u6c70\uff0c\u5c06\u4e0d\u5e38\u7528\u7684\u9875\u79fb\u51fa Buffer Pool\u3002\r\n",(0,i.jsx)(n.img,{alt:"mysql\u5185\u5b58\u6dd8\u6c70",src:r(4214).A+"",width:"1566",height:"446"}),"\r\n\u5199\u64cd\u4f5c\u65f6\u4e0d\u4f1a\u76f4\u63a5\u5199\u5165\u78c1\u76d8\uff0c\u800c\u662f\u5148\u4fee\u6539\u5185\u5b58\u4e2d\u7684\u9875\uff0c\u6b64\u65f6\u9875\u88ab\u6807\u8bb0\u4e3a\u810f\u9875\uff0c\u540e\u53f0\u7ebf\u7a0b\u4f1a\u5b9a\u671f\u5c06\u810f\u9875\u5237\u65b0\u5230\u78c1\u76d8\u3002\r\nBuffer Pool \u53ef\u4ee5\u663e\u8457\u51cf\u5c11\u78c1\u76d8\u7684\u8bfb\u5199\u6b21\u6570\uff0c\u4ece\u800c\u63d0\u5347 MySQL \u7684\u8bfb\u5199\u6027\u80fd\u3002\r\nBuffer Pool \u7684\u9ed8\u8ba4\u5927\u5c0f\u662f\u591a\u5c11\uff1f\r\n\u6211\u672c\u673a\u4e0a InnoDB \u7684 Buffer Pool \u9ed8\u8ba4\u5927\u5c0f\u662f 128MB\u3002\r\n\u4e00\u822c\u8c03\u89e3\u6210\u5bbf\u4e3b\u673a\u768470%"]}),"\n",(0,i.jsxs)(n.h4,{id:"-innodb-\u5bf9-lru-\u7b97\u6cd5\u7684\u4f18\u5316\u4e86\u89e3\u5417",children:["### ",(0,i.jsx)(n.a,{href:"https://javabetter.cn/sidebar/sanfene/mysql.html#innodb-%E5%AF%B9-lru-%E7%AE%97%E6%B3%95%E7%9A%84%E4%BC%98%E5%8C%96%E4%BA%86%E8%A7%A3%E5%90%97",children:"InnoDB \u5bf9 LRU \u7b97\u6cd5\u7684\u4f18\u5316\u4e86\u89e3\u5417\uff1f"})]}),"\n",(0,i.jsx)(n.p,{children:"\u4e86\u89e3\uff0cInnoDB \u5bf9 LRU \u7b97\u6cd5\u8fdb\u884c\u4e86\u6539\u826f\uff0c\u6700\u8fd1\u8bbf\u95ee\u7684\u6570\u636e\u5e76\u4e0d\u76f4\u63a5\u653e\u5230 LRU \u94fe\u8868\u7684\u5934\u90e8\uff0c\u800c\u662f\u653e\u5728\u4e00\u4e2a\u53eb midpoiont \u7684\u4f4d\u7f6e\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cmidpoint \u4f4d\u4e8e LRU \u5217\u8868\u7684 5/8 \u5904\u3002"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"mysql-lru",src:r(88377).A+"",width:"629",height:"184"})}),"\n",(0,i.jsx)(n.p,{children:"\u6bd4\u5982 Buffer Pool \u6709 100 \u9875\uff0c\u65b0\u9875\u63d2\u5165\u7684\u4f4d\u7f6e\u5927\u6982\u662f\u5728\u7b2c 80 \u9875\uff1b\u5f53\u9875\u6570\u636e\u88ab\u9891\u7e41\u8bbf\u95ee\u540e\uff0c\u518d\u5c06\u5176\u79fb\u52a8\u5230 young \u533a\uff0c\u8fd9\u6837\u505a\u7684\u597d\u5904\u662f\u70ed\u70b9\u9875\u80fd\u957f\u65f6\u95f4\u4fdd\u7559\u5728\u5185\u5b58\u4e2d\uff0c\u4e0d\u5bb9\u6613\u88ab\u6324\u51fa\u53bb\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u5728count(*) \u4e5f\u4f1a\u8fdb\u884c\u5168\u91cf\u6570\u636e\u7684\u52a0\u8f7d\uff0c \u4f46\u5982\u679c\u6709\u4e8c\u7ea7\u7d22\u5f15\u7684\u60c5\u51b5\u4e0b\uff0c\u4f1a\u4f18\u5148\u4f7f\u7528\u4e8c\u7ea7\u7d22\u5f15\u8fdb\u884c\u8ba1\u6570\uff0c \u5426\u5219\u5c31\u53ea\u80fd\u626b\u63cf\u6570\u636e\u884c\u5230\u5185\u5b58\u4e2d"}),"\n",(0,i.jsxs)(n.p,{children:["----\u8fd9\u90e8\u5206\u662f\u5e2e\u52a9\u5927\u5bb6\u7406\u89e3 start\uff0c\u9762\u8bd5\u4e2d\u53ef\u4e0d\u80cc----\r\n\u53ef\u4ee5\u901a\u8fc7 ",(0,i.jsx)(n.code,{children:"innodb_old_blocks_pct"})," \u53c2\u6570\u6765\u8c03\u6574 Buffer Pool \u4e2d old \u548c young \u533a\u7684\u6bd4\u4f8b\uff1b\u901a\u8fc7 ",(0,i.jsx)(n.code,{children:"innodb_old_blocks_time"})," \u53c2\u6570\u6765\u8c03\u6574\u9875\u5728 young \u533a\u7684\u505c\u7559\u65f6\u95f4\u3002\r\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cLRU \u94fe\u8868\u4e2d old \u533a\u5360 37%\uff1b\u540c\u4e00\u9875\u518d\u6b21\u8bbf\u95ee\u63d0\u5347\u7684\u6700\u5c0f\u65f6\u95f4\u95f4\u9694\u662f 1000 \u6beb\u79d2\u3002\r\n\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u67d0\u9875\u5728 1 \u79d2\u5185\u88ab\u591a\u6b21\u8bbf\u95ee\uff0c\u53ea\u4f1a\u8ba1\u7b97\u4e00\u6b21\uff0c\u4e0d\u4f1a\u7acb\u523b\u5347\u7ea7\u4e3a\u70ed\u70b9\u9875\uff0c\u9632\u6b62\u77ed\u65f6\u95f4\u6279\u91cf\u8bbf\u95ee\u5bfc\u81f4\u7f13\u5b58\u6c61\u67d3\u3002\r\n----\u8fd9\u90e8\u5206\u662f\u5e2e\u52a9\u5927\u5bb6\u7406\u89e3 end\uff0c\u9762\u8bd5\u4e2d\u53ef\u4e0d\u80cc----"]}),"\n",(0,i.jsx)(n.h2,{id:"\u65e5\u5fd7",children:"\u65e5\u5fd7"}),"\n",(0,i.jsx)(n.h3,{id:"mysql-\u65e5\u5fd7\u6587\u4ef6\u6709\u54ea\u4e9b",children:"\ud83c\udf1fMySQL \u65e5\u5fd7\u6587\u4ef6\u6709\u54ea\u4e9b\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u6709 6 \u5927\u7c7b\uff0c\u5176\u4e2d\u9519\u8bef\u65e5\u5fd7\u7528\u4e8e\u95ee\u9898\u8bca\u65ad\uff0c\r\n\u6162\u67e5\u8be2\u65e5\u5fd7\u7528\u4e8e SQL \u6027\u80fd\u5206\u6790\uff0c\r\ngeneral log \u7528\u4e8e\u8bb0\u5f55\u6240\u6709\u7684 SQL \u8bed\u53e5\uff0c\r\nbinlog \u7528\u4e8e\u4e3b\u4ece\u590d\u5236\u548c\u6570\u636e\u6062\u590d\uff0c\r\nredo log \u7528\u4e8e\u4fdd\u8bc1\u4e8b\u52a1\u6301\u4e45\u6027\uff0c\r\nundo log \u7528\u4e8e\u4e8b\u52a1\u56de\u6eda\u548c MVCC\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u8bf7\u91cd\u70b9\u8bf4\u8bf4-binlog",children:"\u8bf7\u91cd\u70b9\u8bf4\u8bf4 binlog\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"binlog \u662f\u4e00\u79cd\u7269\u7406\u65e5\u5fd7\uff0c\u4f1a\u5728\u78c1\u76d8\u4e0a\u8bb0\u5f55\u6570\u636e\u5e93\u7684\u6240\u6709\u4fee\u6539\u64cd\u4f5c\u3002\r\n\u5982\u679c\u8bef\u5220\u4e86\u6570\u636e\uff0c\u5c31\u53ef\u4ee5\u4f7f\u7528 binlog \u8fdb\u884c\u56de\u9000\u5230\u8bef\u5220\u4e4b\u524d\u7684\u72b6\u6001\u3002\r\n\u5982\u679c\u8981\u642d\u5efa\u4e3b\u4ece\u590d\u5236\uff0c\u5c31\u53ef\u4ee5\u8ba9\u4ece\u5e93\u5b9a\u65f6\u8bfb\u53d6\u4e3b\u5e93\u7684 binlog\u3002"}),"\n",(0,i.jsx)(n.p,{children:"MySQL \u63d0\u4f9b\u4e86\u4e09\u79cd\u683c\u5f0f\u7684 binlog\uff1aStatement\u3001Row \u548c Mixed\uff0c\u5206\u522b\u5bf9\u5e94 SQL \u8bed\u53e5\u7ea7\u522b\u3001\u884c\u7ea7\u522b\u548c\u6df7\u5408\u7ea7\u522b\uff0c\u9ed8\u8ba4\u4e3a\u884c\u7ea7\u522b"}),"\n",(0,i.jsx)(n.h4,{id:"binlog\u914d\u7f6e",children:"binlog\u914d\u7f6e"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"log_bin = mysql-bin"})," \u7528\u4e8e\u542f\u7528 binlog\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u5728 MySQL \u7684\u6570\u636e\u76ee\u5f55\u4e2d\u627e\u5230 db-bin.000001\u3001db-bin.000002 \u7b49\u65e5\u5fd7\u6587\u4ef6\u3002\r\n",(0,i.jsx)(n.code,{children:"max_binlog_size=104857600"})," \u7528\u4e8e\u8bbe\u7f6e\u6bcf\u4e2a binlog \u6587\u4ef6\u7684\u5927\u5c0f\uff0c\u4e0d\u5efa\u8bae\u8bbe\u7f6e\u592a\u5927\uff0c\u7f51\u7edc\u4f20\u9001\u8d77\u6765\u6bd4\u8f83\u9ebb\u70e6\u3002"]}),"\n",(0,i.jsxs)(n.p,{children:["\u5f53 binlog \u6587\u4ef6\u8fbe\u5230 max_binlog_size \u65f6\uff0cMySQL \u4f1a\u5173\u95ed\u5f53\u524d\u6587\u4ef6\u5e76\u521b\u5efa\u4e00\u4e2a\u65b0\u7684 binlog \u6587\u4ef6\u3002\r\n",(0,i.jsx)(n.code,{children:"expire_logs_days = 7"})," \u7528\u4e8e\u8bbe\u7f6e binlog \u6587\u4ef6\u7684\u81ea\u52a8\u8fc7\u671f\u65f6\u95f4\u4e3a 7 \u5929\u3002\u8fc7\u671f\u7684 binlog \u6587\u4ef6\u4f1a\u88ab\u81ea\u52a8\u5220\u9664\u3002\u9632\u6b62\u957f\u65f6\u95f4\u7d2f\u79ef\u7684 binlog \u6587\u4ef6\u5360\u7528\u8fc7\u591a\u5b58\u50a8\u7a7a\u95f4\uff0c\r\n",(0,i.jsx)(n.code,{children:"sync_binlog=0"}),"\uff0c\u8bbe\u7f6e\u6bcf\u591a\u5c11\u6b21 binlog \u5199\u64cd\u4f5c\u4f1a\u89e6\u53d1\u4e00\u6b21\u78c1\u76d8\u540c\u6b65\u64cd\u4f5c\u3002\u9ed8\u8ba4\u503c\u4e3a 0\uff0c\u8868\u793a MySQL \u4e0d\u4f1a\u4e3b\u52a8\u89e6\u53d1\u540c\u6b65\u64cd\u4f5c\uff0c\u800c\u662f\u4f9d\u8d56\u64cd\u4f5c\u7cfb\u7edf\u7684\u78c1\u76d8\u7f13\u5b58\u7b56\u7565\u3002"]}),"\n",(0,i.jsx)(n.p,{children:"\u5373\u5f53\u6267\u884c\u5199\u64cd\u4f5c\u65f6\uff0c\u6570\u636e\u4f1a\u5148\u5199\u5165\u7f13\u5b58\uff0c\u5f53\u7f13\u5b58\u533a\u6ee1\u4e86\u518d\u7531\u64cd\u4f5c\u7cfb\u7edf\u5c06\u6570\u636e\u4e00\u6b21\u6027\u5237\u5165\u78c1\u76d8\u3002\r\n\u5982\u679c\u8bbe\u7f6e\u4e3a 1\uff0c\u8868\u793a\u6bcf\u6b21 binlog \u5199\u64cd\u4f5c\u540e\u90fd\u4f1a\u540c\u6b65\u5230\u78c1\u76d8\uff0c\u867d\u7136\u53ef\u4ee5\u4fdd\u8bc1\u6570\u636e\u80fd\u591f\u53ca\u65f6\u5199\u5165\u78c1\u76d8\uff0c\u4f46\u4f1a\u964d\u4f4e\u6027\u80fd\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u6709\u4e86binlog\u4e3a\u4ec0\u4e48\u8fd8\u8981undolog-redolog",children:(0,i.jsx)(n.a,{href:"https://javabetter.cn/sidebar/sanfene/mysql.html#%E6%9C%89%E4%BA%86binlog%E4%B8%BA%E4%BB%80%E4%B9%88%E8%BF%98%E8%A6%81undolog-redolog",children:"\u6709\u4e86binlog\u4e3a\u4ec0\u4e48\u8fd8\u8981undolog redolog\uff1f"})}),"\n",(0,i.jsx)(n.p,{children:"binlog \u5c5e\u4e8e Server \u5c42\uff0c\u4e0e\u5b58\u50a8\u5f15\u64ce\u65e0\u5173\uff0c\u65e0\u6cd5\u76f4\u63a5\u64cd\u4f5c\u7269\u7406\u6570\u636e\u9875\u3002\u800c redo log \u548c undo log \u662f InnoDB \u5b58\u50a8\u5f15\u64ce\u5b9e\u73b0 ACID \u7684\u57fa\u77f3\u3002"}),"\n",(0,i.jsx)(n.p,{children:"binlog \u4f1a\u8bb0\u5f55\u6574\u4e2a SQL \u6216\u884c\u53d8\u5316\uff1bredo log \u662f\u4e3a\u4e86\u6062\u590d\u201c\u5df2\u63d0\u4ea4\u4f46\u672a\u5237\u76d8\u201d\u7684\u6570\u636e\uff0cundo log \u662f\u4e3a\u4e86\u64a4\u9500\u672a\u63d0\u4ea4\u7684\u4e8b\u52a1\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u8bf4\u8bf4-redo-log-\u7684\u5de5\u4f5c\u673a\u5236",children:(0,i.jsx)(n.a,{href:"https://javabetter.cn/sidebar/sanfene/mysql.html#%E8%AF%B4%E8%AF%B4-redo-log-%E7%9A%84%E5%B7%A5%E4%BD%9C%E6%9C%BA%E5%88%B6",children:"\u8bf4\u8bf4 redo log \u7684\u5de5\u4f5c\u673a\u5236\uff1f"})}),"\n",(0,i.jsx)(n.p,{children:"\u5f53\u4e8b\u52a1\u542f\u52a8\u65f6\uff0cMySQL \u4f1a\u4e3a\u8be5\u4e8b\u52a1\u5206\u914d\u4e00\u4e2a\u552f\u4e00\u6807\u8bc6\u7b26\u3002\r\n\u5728\u4e8b\u52a1\u6267\u884c\u8fc7\u7a0b\u4e2d\uff0c\u6bcf\u6b21\u5bf9\u6570\u636e\u8fdb\u884c\u4fee\u6539\uff0cMySQL \u90fd\u4f1a\u751f\u6210\u4e00\u6761 Redo Log\uff0c\u8bb0\u5f55\u4fee\u6539\u524d\u540e\u7684\u6570\u636e\u72b6\u6001\u3002\r\n\u8fd9\u4e9b Redo Log \u9996\u5148\u4f1a\u88ab\u5199\u5165\u5185\u5b58\u4e2d\u7684 Redo Log Buffer\u3002"}),"\n",(0,i.jsxs)(n.p,{children:["\u5f53\u4e8b\u52a1\u63d0\u4ea4\u65f6\uff0cMySQL \u518d\u5c06 Redo Log Buffer \u4e2d\u7684\u8bb0\u5f55\u5237\u65b0\u5230\u78c1\u76d8\u4e0a\u7684 Redo Log \u6587\u4ef6\u4e2d\u3002\r\n\u53ea\u6709\u5f53 Redo Log \u6210\u529f\u5199\u5165\u78c1\u76d8\uff0c\u4e8b\u52a1\u624d\u7b97\u771f\u6b63\u63d0\u4ea4\u6210\u529f\u3002\r\n",(0,i.jsx)(n.img,{alt:"redo\u5199\u5165",src:r(92109).A+"",width:"745",height:"527"})]}),"\n",(0,i.jsxs)(n.p,{children:["\u5f53 MySQL \u5d29\u6e83\u91cd\u542f\u65f6\uff0c\u4f1a\u5148\u68c0\u67e5 Redo Log\u3002\u5bf9\u4e8e\u5df2\u63d0\u4ea4\u7684\u4e8b\u52a1\uff0cMySQL \u4f1a\u91cd\u653e Redo Log \u4e2d\u7684\u8bb0\u5f55\u3002\r\n",(0,i.jsx)(n.img,{alt:"redo\u5d29\u6e83\u6062\u590d",src:r(15664).A+"",width:"895",height:"341"})]}),"\n",(0,i.jsx)(n.p,{children:"\u5bf9\u4e8e\u672a\u63d0\u4ea4\u7684\u4e8b\u52a1\uff0cMySQL \u4f1a\u901a\u8fc7 Undo Log \u56de\u6eda\u8fd9\u4e9b\u4fee\u6539\uff0c\u786e\u4fdd\u6570\u636e\u6062\u590d\u5230\u5d29\u6e83\u524d\u7684\u4e00\u81f4\u6027\u72b6\u6001\u3002\r\nRedo Log \u662f\u5faa\u73af\u4f7f\u7528\u7684\uff0c\u5f53\u6587\u4ef6\u5199\u6ee1\u540e\u4f1a\u8986\u76d6\u6700\u65e9\u7684\u8bb0\u5f55\u3002\r\n\u4e3a\u907f\u514d\u8986\u76d6\u672a\u6301\u4e45\u5316\u7684\u8bb0\u5f55\uff0cMySQL \u4f1a\u5b9a\u671f\u6267\u884c CheckPoint \u64cd\u4f5c\uff0c\u5c06\u5185\u5b58\u4e2d\u7684\u6570\u636e\u9875\u5237\u65b0\u5230\u78c1\u76d8\uff0c\u5e76\u8bb0\u5f55 CheckPoint \u70b9\u3002"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.img,{alt:"\u4e8b\u52a1\u6267\u884c\u8fc7\u7a0b",src:r(25076).A+"",width:"1788",height:"906"}),"\r\n\u91cd\u542f\u65f6\uff0cMySQL \u53ea\u4f1a\u91cd\u653e CheckPoint \u4e4b\u540e\u7684 Redo Log\uff0c\u4ece\u800c\u63d0\u9ad8\u6062\u590d\u6548\u7387\u3002"]}),"\n",(0,i.jsx)(n.h4,{id:"redo-log-\u6587\u4ef6\u7684\u5927\u5c0f\u662f\u56fa\u5b9a\u7684\u5417",children:(0,i.jsx)(n.a,{href:"https://javabetter.cn/sidebar/sanfene/mysql.html#redo-log-%E6%96%87%E4%BB%B6%E7%9A%84%E5%A4%A7%E5%B0%8F%E6%98%AF%E5%9B%BA%E5%AE%9A%E7%9A%84%E5%90%97",children:"redo log \u6587\u4ef6\u7684\u5927\u5c0f\u662f\u56fa\u5b9a\u7684\u5417\uff1f"})}),"\n",(0,i.jsx)(n.p,{children:"redo log \u6587\u4ef6\u662f\u56fa\u5b9a\u5927\u5c0f\u7684\uff0c\u901a\u5e38\u914d\u7f6e\u4e3a\u4e00\u7ec4\u6587\u4ef6\uff0c\u4f7f\u7528\u73af\u5f62\u65b9\u5f0f\u5199\u5165\uff0c\u65e7\u7684\u65e5\u5fd7\u4f1a\u5728\u7a7a\u95f4\u9700\u8981\u65f6\u88ab\u8986\u76d6\u3002"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"redolog\u7ed3\u6784",src:r(63324).A+"",width:"1080",height:"364"})}),"\n",(0,i.jsxs)(n.p,{children:["\u547d\u540d\u65b9\u5f0f\u4e3a ",(0,i.jsx)(n.code,{children:"ib_logfile0\u3001iblogfile1\u3001\u3001\u3001iblogfilen"}),"\u3002\u9ed8\u8ba4 2 \u4e2a\u6587\u4ef6\uff0c\u6bcf\u4e2a\u6587\u4ef6\u5927\u5c0f\u4e3a 48MB\u3002"]}),"\n",(0,i.jsx)(n.h4,{id:"\u8bf4\u8bf4-wal",children:(0,i.jsx)(n.a,{href:"https://javabetter.cn/sidebar/sanfene/mysql.html#%E8%AF%B4%E8%AF%B4-wal",children:"\u8bf4\u8bf4 WAL\uff1f"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"WAL\u2014\u2014Write-Ahead Logging\u3002"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u9884\u5199\u65e5\u5fd7\u662f InnoDB \u5b9e\u73b0\u4e8b\u52a1\u6301\u4e45\u5316\u7684\u6838\u5fc3\u673a\u5236\uff0c\r\n\u5b83\u7684\u601d\u60f3\u662f\uff1a\u5148\u5199\u65e5\u5fd7\u518d\u5237\u78c1\u76d8\u3002"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"\u6570\u636e\u5199\u5165\u5230\u78c1\u76d8\u7684\u8fc7\u7a0b",src:r(3180).A+"",width:"720",height:"614"})}),"\n",(0,i.jsx)(n.p,{children:"WAL \u7684\u597d\u5904\u662f\u66f4\u65b0\u65f6\u4e0d\u76f4\u63a5\u5199\u6570\u636e\u9875\uff0c\u800c\u662f\u5148\u5199\u4e00\u4efd\u53d8\u66f4\u8bb0\u5f55\u5230 redo log\uff0c\u540e\u53f0\u518d\u6162\u6162\u628a\u771f\u6b63\u7684\u6570\u636e\u9875\u5237\u76d8\uff0c\u4e00\u4e3e\u591a\u5f97\u3002\r\nredo log \u662f\u987a\u5e8f\u5199\uff0c \u6bd4\u5237\u76d8\u968f\u673a\u5199\u7684\u6548\u7387\u66f4\u9ad8"}),"\n",(0,i.jsx)(n.h3,{id:"binlog-\u548c-redo-log-\u6709\u4ec0\u4e48\u533a\u522b",children:(0,i.jsx)(n.a,{href:"https://javabetter.cn/sidebar/sanfene/mysql.html#_29-binlog-%E5%92%8C-redo-log-%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB",children:"binlog \u548c redo log \u6709\u4ec0\u4e48\u533a\u522b\uff1f"})}),"\n",(0,i.jsxs)(n.p,{children:["binlog \u7531 MySQL \u7684 Server \u5c42\u5b9e\u73b0\uff0c\u4e0e\u5b58\u50a8\u5f15\u64ce\u65e0\u5173\uff1bredo log \u7531 InnoDB \u5b58\u50a8\u5f15\u64ce\u5b9e\u73b0\u3002\r\n",(0,i.jsx)(n.img,{alt:"mysql\u65e5\u5fd7\u548c\u5bf9\u5e94\u5206\u5c42",src:r(74330).A+"",width:"621",height:"621"}),"\r\nbinlog \u8bb0\u5f55\u7684\u662f\u903b\u8f91\u65e5\u5fd7\uff0c\u5305\u62ec\u539f\u59cb\u7684 SQL \u8bed\u53e5\u6216\u8005\u884c\u6570\u636e\u53d8\u5316\uff0c\u4f8b\u5982\u201c\u5c06 id=2 \u8fd9\u884c\u6570\u636e\u7684 age \u5b57\u6bb5+1\u201d\u3002\r\nredo log \u8bb0\u5f55\u7269\u7406\u65e5\u5fd7\uff0c\u5373\u6570\u636e\u9875\u7684\u5177\u4f53\u4fee\u6539\uff0c\u4f8b\u5982\u201c\u5c06 page_id=123 \u4e0a offset=0x40 \u7684\u6570\u636e\u4ece 18 \u4fee\u6539\u4e3a 26\u201d\u3002"]}),"\n",(0,i.jsx)(n.p,{children:"binlog \u662f\u8ffd\u52a0\u5199\u5165\u7684\uff0c\u6587\u4ef6\u5199\u6ee1\u540e\u4f1a\u65b0\u5efa\u6587\u4ef6\u7ee7\u7eed\u5199\u5165\uff0c\u4e0d\u4f1a\u8986\u76d6\u5386\u53f2\u65e5\u5fd7\uff0c\u4fdd\u5b58\u7684\u662f\u5168\u91cf\u64cd\u4f5c\u8bb0\u5f55\uff1bredo log \u662f\u5faa\u73af\u5199\u5165\u7684\uff0c\u7a7a\u95f4\u662f\u56fa\u5b9a\u7684\uff0c\u5199\u6ee1\u540e\u4f1a\u8986\u76d6\u65e7\u7684\u65e5\u5fd7\uff0c\u4ec5\u4fdd\u5b58\u672a\u5237\u76d8\u7684\u810f\u9875\u65e5\u5fd7\uff0c\u5df2\u6301\u4e45\u5316\u7684\u6570\u636e\u4f1a\u88ab\u6e05\u9664\u3002\r\n\u53e6\u5916\uff0c\u4e3a\u4fdd\u8bc1\u4e24\u79cd\u65e5\u5fd7\u7684\u4e00\u81f4\u6027\uff0cinnodb \u91c7\u7528\u4e86\u4e24\u9636\u6bb5\u63d0\u4ea4\u7b56\u7565\uff0credo log \u5728\u4e8b\u52a1\u6267\u884c\u8fc7\u7a0b\u4e2d\u6301\u7eed\u5199\u5165\uff0c\u5e76\u5728\u4e8b\u52a1\u63d0\u4ea4\u524d\u8fdb\u5165 prepare \u72b6\u6001\uff1bbinlog \u5728\u4e8b\u52a1\u63d0\u4ea4\u7684\u6700\u540e\u9636\u6bb5\u5199\u5165\uff0c\u4e4b\u540e redo log \u4f1a\u88ab\u6807\u8bb0\u4e3a commit \u72b6\u6001\u3002\r\n\u53ef\u4ee5\u901a\u8fc7\u56de\u653e binlog \u5b9e\u73b0\u6570\u636e\u540c\u6b65\u6216\u8005\u6062\u590d\u5230\u6307\u5b9a\u65f6\u95f4\u70b9\uff1bredo log \u7528\u6765\u786e\u4fdd\u4e8b\u52a1\u63d0\u4ea4\u540e\u5373\u4f7f\u7cfb\u7edf\u5b95\u673a\uff0c\u6570\u636e\u4ecd\u7136\u53ef\u4ee5\u901a\u8fc7\u91cd\u653e redo log \u6062\u590d\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u4e3a\u4ec0\u4e48\u8981\u4e24\u9636\u6bb5\u63d0\u4ea4\u5462",children:"\ud83c\udf1f\u4e3a\u4ec0\u4e48\u8981\u4e24\u9636\u6bb5\u63d0\u4ea4\u5462\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u4e3a\u4e86\u4fdd\u8bc1 redo log \u548c binlog \u4e2d\u7684\u6570\u636e\u4e00\u81f4\u6027\uff0c\u9632\u6b62\u4e3b\u4ece\u590d\u5236\u548c\u4e8b\u52a1\u72b6\u6001\u4e0d\u4e00\u81f4\u3002\r\n![mysql \u4e8c\u9636\u6bb5\u63d0\u4ea4](image/mysql-review/mysql \u4e8c\u9636\u6bb5\u63d0\u4ea4.png)"}),"\n",(0,i.jsx)(n.h4,{id:"\u4e3a\u4ec0\u4e48-2pc-\u80fd\u4fdd\u8bc1-redo-log-\u548c-binlog-\u7684\u5f3a\u81f4\u6027",children:"\u4e3a\u4ec0\u4e48 2PC \u80fd\u4fdd\u8bc1 redo log \u548c binlog \u7684\u5f3a\u2f00\u81f4\u6027\uff1f"}),"\n",(0,i.jsxs)(n.p,{children:["\u5047\u5982 MySQL \u5728\u9884\u5199 redo log \u4e4b\u540e\u3001\u5199\u5165 binlog \u4e4b\u524d\u5d29\u6e83\u3002\u90a3\u4e48 MySQL \u91cd\u542f\u540e InnoDB \u4f1a\u56de\u6eda\u8be5\u4e8b\u52a1\uff0c\u56e0\u4e3a redo log \u4e0d\u662f\u63d0\u4ea4\u72b6\u6001\u3002\u5e76\u4e14\u7531\u4e8e binlog \u4e2d\u6ca1\u6709\u5199\u5165\u6570\u636e\uff0c\u6240\u4ee5\u4ece\u5e93\u4e5f\u4e0d\u4f1a\u6709\u8be5\u4e8b\u52a1\u7684\u6570\u636e\u3002\r\n",(0,i.jsx)(n.img,{alt:"redo-binlog\u4e4b\u95f4crash",src:r(43879).A+"",width:"902",height:"554"}),"\r\n\u5047\u5982 MySQL \u5728\u5199\u5165 binlog \u4e4b\u540e\u3001redo log \u63d0\u4ea4\u4e4b\u524d\u5d29\u6e83\u3002\u90a3\u4e48 MySQL \u91cd\u542f\u540e InnoDB \u4f1a\u63d0\u4ea4\u8be5\u4e8b\u52a1\uff0c\u56e0\u4e3a redo log \u662f\u5b8c\u6574\u7684 prepare \u72b6\u6001\u3002\u5e76\u4e14\u7531\u4e8e binlog \u4e2d\u6709\u5199\u5165\u6570\u636e\uff0c\u6240\u4ee5\u4ece\u5e93\u4e5f\u4f1a\u540c\u6b65\u5230\u8be5\u4e8b\u52a1\u7684\u6570\u636e\u3002t3"]}),"\n",(0,i.jsx)(n.h4,{id:"xid-\u4e86\u89e3\u5417",children:"XID \u4e86\u89e3\u5417\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"XID \u662f binlog \u4e2d\u7528\u6765\u6807\u8bc6\u4e8b\u52a1\u63d0\u4ea4\u7684\u552f\u4e00\u6807\u8bc6\u7b26\u3002\r\n\u5728\u4e8b\u52a1\u63d0\u4ea4\u65f6\uff0c\u4f1a\u5199\u5165\u4e00\u4e2a XID_EVENT \u5230 binlog\uff0c\u8868\u793a\u8fd9\u4e2a\u4e8b\u52a1\u771f\u6b63\u5b8c\u6210\u4e86\u3002\r\n\u5b83\u4e0d\u4ec5\u7528\u4e8e\u4e3b\u4ece\u590d\u5236\u4e2d\u4e8b\u52a1\u5b8c\u6574\u6027\u7684\u5224\u65ad\uff0c\u4e5f\u5728\u5d29\u6e83\u6062\u590d\u4e2d\u5bf9 redo log \u548c binlog \u7684\u4e00\u81f4\u6027\u6821\u9a8c\u8d77\u5230\u5173\u952e\u4f5c\u7528\u3002"}),"\n",(0,i.jsx)(n.p,{children:"XID \u53ef\u4ee5\u5e2e\u52a9 MySQL \u5224\u65ad\u54ea\u4e9b redo log \u662f\u5df2\u63d0\u4ea4\u7684\uff0c\u54ea\u4e9b\u662f\u672a\u63d0\u4ea4\u9700\u8981\u56de\u6eda\u7684\uff0c\u662f\u4e24\u9636\u6bb5\u63d0\u4ea4\u673a\u5236\u4e2d\u975e\u5e38\u5173\u952e\u7684\u4e00\u73af\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"redo-log-\u7684\u5199\u5165\u8fc7\u7a0b\u4e86\u89e3\u5417",children:"\ud83c\udf1fredo log \u7684\u5199\u5165\u8fc7\u7a0b\u4e86\u89e3\u5417\uff1f"}),"\n",(0,i.jsxs)(n.p,{children:["InnoDB \u4f1a\u5148\u5c06 Redo Log \u5199\u5165\u5185\u5b58\u4e2d\u7684 Redo Log Buffer\uff0c\u4e4b\u540e\u518d\u4ee5\u4e00\u5b9a\u7684\u9891\u7387\u5237\u5165\u5230\u78c1\u76d8\u7684 Redo Log File \u4e2d\u3002\r\n",(0,i.jsx)(n.img,{alt:"redo-to-disk",src:r(27287).A+"",width:"918",height:"412"})]}),"\n",(0,i.jsx)(n.h4,{id:"\u54ea\u4e9b\u573a\u666f\u4f1a\u89e6\u53d1-redo-log-\u7684\u5237\u76d8\u52a8\u4f5c",children:"\u54ea\u4e9b\u573a\u666f\u4f1a\u89e6\u53d1 redo log \u7684\u5237\u76d8\u52a8\u4f5c\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u6bd4\u5982\u8bf4 Redo Log Buffer \u7684\u7a7a\u95f4\u4e0d\u8db3\u65f6\r\n\u4e8b\u52a1\u63d0\u4ea4\u65f6\r\n\u89e6\u53d1 Checkpoint \u65f6\uff0c\u540e\u53f0\u7ebf\u7a0b\u5b9a\u671f\u5237\u76d8\u65f6"}),"\n",(0,i.jsxs)(n.p,{children:["\u4e0d\u8fc7\uff0cRedo Log Buffer \u5237\u76d8\u5230 Redo Log File \u8fd8\u4f1a\u6d89\u53ca\u5230\u64cd\u4f5c\u7cfb\u7edf\u7684\u78c1\u76d8\u7f13\u5b58\u7b56\u7565\uff0c\u53ef\u80fd\u4e0d\u4f1a\u7acb\u5373\u5237\u76d8\uff0c\u800c\u662f\u7b49\u5f85\u4e00\u5b9a\u65f6\u95f4\u540e\u624d\u5237\u76d8\u3002\r\n",(0,i.jsx)(n.img,{alt:"\u5237\u76d8",src:r(83190).A+"",width:"962",height:"1262"})]}),"\n",(0,i.jsx)(n.h4,{id:"innodb_flush_log_at_trx_commit-\u53c2\u6570\u4f60\u4e86\u89e3\u591a\u5c11",children:"innodb_flush_log_at_trx_commit \u53c2\u6570\u4f60\u4e86\u89e3\u591a\u5c11\uff1f"}),"\n",(0,i.jsxs)(n.p,{children:["innodb_flush_log_at_trx_commit \u53c2\u6570\u662f\u7528\u6765\u63a7\u5236\u4e8b\u52a1\u63d0\u4ea4\u65f6\uff0cRedo Log \u7684\u5237\u76d8\u7b56\u7565\uff0c\u4e00\u5171\u6709\u4e09\u79cd\u3002\r\n",(0,i.jsx)(n.img,{alt:"innodb_flush_log_at_trx_commit\u53c2\u6570\u7684\u533a\u522b",src:r(47541).A+"",width:"1069",height:"265"})]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"0 \u8868\u793a\u4e8b\u52a1\u63d0\u4ea4\u65f6\u4e0d\u5237\u76d8\uff0c\u800c\u662f\u4ea4\u7ed9\u540e\u53f0\u7ebf\u7a0b\u6bcf\u9694 1 \u79d2\u6267\u884c\u4e00\u6b21\u3002\u8fd9\u79cd\u65b9\u5f0f\u6027\u80fd\u6700\u597d\uff0c\u4f46\u662f\u5728 MySQL \u5b95\u673a\u65f6\u53ef\u80fd\u4f1a\u4e22\u5931\u4e00\u79d2\u5185\u7684\u4e8b\u52a1\u3002"}),"\n",(0,i.jsx)(n.li,{children:"1 \u8868\u793a\u4e8b\u52a1\u63d0\u4ea4\u65f6\u4f1a\u7acb\u5373\u5237\u76d8\uff0c\u786e\u4fdd\u4e8b\u52a1\u63d0\u4ea4\u540e\u6570\u636e\u5c31\u6301\u4e45\u5316\u5230\u78c1\u76d8\u3002\u8fd9\u79cd\u65b9\u5f0f\u662f\u6700\u5b89\u5168\u7684\uff0c\u4e5f\u662f InnoDB \u7684\u9ed8\u8ba4\u503c\u3002"}),"\n",(0,i.jsx)(n.li,{children:"2 \u8868\u793a\u4e8b\u52a1\u63d0\u4ea4\u65f6\u53ea\u628a Redo Log Buffer \u5199\u5165\u5230 Page Cache\uff0c\u7531\u64cd\u4f5c\u7cfb\u7edf\u51b3\u5b9a\u4ec0\u4e48\u65f6\u5019\u5237\u76d8\u3002\u64cd\u4f5c\u7cfb\u7edf\u5b95\u673a\u65f6\uff0c\u53ef\u80fd\u4f1a\u4e22\u5931\u4e00\u90e8\u5206\u6570\u636e\u3002"}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"\u4e00\u4e2a\u6ca1\u6709\u63d0\u4ea4\u4e8b\u52a1\u7684-redo-log\u4f1a\u4e0d\u4f1a\u5237\u76d8",children:"\u4e00\u4e2a\u6ca1\u6709\u63d0\u4ea4\u4e8b\u52a1\u7684 redo log\uff0c\u4f1a\u4e0d\u4f1a\u5237\u76d8\uff1f"}),"\n",(0,i.jsxs)(n.p,{children:["InnoDB \u6709\u4e00\u4e2a\u540e\u53f0\u7ebf\u7a0b\uff0c\u6bcf\u9694 1 \u79d2\u4f1a\u628a Redo Log Buffer \u4e2d\u7684\u65e5\u5fd7\u5199\u5165\u5230\u6587\u4ef6\u7cfb\u7edf\u7684\u7f13\u5b58\u4e2d\uff0c\u7136\u540e\u8c03\u7528\u5237\u76d8\u64cd\u4f5c\u3002\r\n",(0,i.jsx)(n.img,{alt:"\u540e\u53f0\u5237redo",src:r(4294).A+"",width:"915",height:"487"}),"\r\n\u56e0\u6b64\uff0c\u4e00\u4e2a\u6ca1\u6709\u63d0\u4ea4\u4e8b\u52a1\u7684 Redo Log \u4e5f\u53ef\u80fd\u4f1a\u88ab\u5237\u65b0\u5230\u78c1\u76d8\u4e2d\u3002\r\n\u53e6\u5916\uff0c\u5982\u679c\u5f53 Redo Log Buffer \u5360\u7528\u7684\u7a7a\u95f4\u5373\u5c06\u8fbe\u5230 innodb_log_buffer_size \u7684\u4e00\u534a\u65f6\uff0c\u4e5f\u4f1a\u89e6\u53d1\u5237\u76d8\u64cd\u4f5c\u3002"]}),"\n",(0,i.jsx)(n.h4,{id:"redo-log-buffer-\u662f\u987a\u5e8f\u5199\u8fd8\u662f\u968f\u673a\u5199",children:"Redo Log Buffer \u662f\u987a\u5e8f\u5199\u8fd8\u662f\u968f\u673a\u5199\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"MySQL \u5728\u542f\u52a8\u540e\u4f1a\u5411\u64cd\u4f5c\u7cfb\u7edf\u7533\u8bf7\u4e00\u5757\u8fde\u7eed\u7684\u5185\u5b58\u7a7a\u95f4\u4f5c\u4e3a Redo Log Buffer\uff0c\u5e76\u5c06\u5176\u5206\u4e3a\u82e5\u5e72\u4e2a\u8fde\u7eed\u7684 Redo Log Block\u3002\r\n\u90a3\u4e3a\u4e86\u63d0\u9ad8\u5199\u5165\u6548\u7387\uff0cRedo Log Buffer \u91c7\u7528\u4e86\u987a\u5e8f\u5199\u5165\u7684\u65b9\u5f0f\uff0c\u4f1a\u5148\u5f80\u524d\u9762\u7684 Redo Log Block \u4e2d\u5199\u5165\uff0c\u5f53\u5199\u6ee1\u540e\u518d\u5f80\u540e\u9762\u7684 Block \u4e2d\u5199\u5165\u3002"}),"\n",(0,i.jsx)(n.h4,{id:"buf_next_to_write-\u4e86\u89e3\u5417",children:"buf_next_to_write \u4e86\u89e3\u5417\uff1f"}),"\n",(0,i.jsx)(n.h4,{id:"\u4e86\u89e3-mtr-\u5417",children:"\u4e86\u89e3 MTR \u5417\uff1f"}),"\n",(0,i.jsx)(n.h4,{id:"redo-log-block-\u7684\u7ed3\u6784\u4e86\u89e3\u5417",children:"Redo Log Block \u7684\u7ed3\u6784\u4e86\u89e3\u5417\uff1f"}),"\n",(0,i.jsx)(n.h4,{id:"redo-log-block-\u4e3a\u4ec0\u4e48\u8bbe\u8ba1\u6210-512-\u5b57\u8282",children:"Redo Log Block \u4e3a\u4ec0\u4e48\u8bbe\u8ba1\u6210 512 \u5b57\u8282\uff1f"}),"\n",(0,i.jsx)(n.h4,{id:"lsn-\u4e86\u89e3\u5417",children:"LSN \u4e86\u89e3\u5417\uff1f"}),"\n",(0,i.jsx)(n.h4,{id:"checkpoint-\u4e86\u89e3\u591a\u5c11waitx",children:"Checkpoint \u4e86\u89e3\u591a\u5c11\uff1fwaitx"}),"\n",(0,i.jsx)(n.h3,{id:"\u4ec0\u4e48\u662f\u6162-sql",children:"\ud83c\udf1f\u4ec0\u4e48\u662f\u6162 SQL\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"MySQL \u4e2d\u6709\u4e00\u4e2a\u53eb long_query_time \u7684\u53c2\u6570\uff0c\u539f\u5219\u4e0a\u6267\u884c\u65f6\u95f4\u8d85\u8fc7\u8be5\u53c2\u6570\u503c\u7684 SQL \u5c31\u662f\u6162 SQL\uff0c\u4f1a\u88ab\u8bb0\u5f55\u5230\u6162\u67e5\u8be2\u65e5\u5fd7\u4e2d\u3002"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://juejin.cn/post/7048974570228809741",children:"https://juejin.cn/post/7048974570228809741"})}),"\n",(0,i.jsx)(n.h3,{id:"sql-\u7684\u6267\u884c\u8fc7\u7a0b\u4e86\u89e3\u5417",children:"SQL \u7684\u6267\u884c\u8fc7\u7a0b\u4e86\u89e3\u5417\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"SQL \u7684\u6267\u884c\u8fc7\u7a0b\u5927\u81f4\u53ef\u4ee5\u5206\u4e3a\u516d\u4e2a\u9636\u6bb5\uff1a\u8fde\u63a5\u7ba1\u7406\u3001\u8bed\u6cd5\u89e3\u6790\u3001\u8bed\u4e49\u5206\u6790\u3001\u67e5\u8be2\u4f18\u5316\u3001\u6267\u884c\u5668\u8c03\u5ea6\u3001\u5b58\u50a8\u5f15\u64ce\u8bfb\u5199\u7b49\u3002Server \u5c42\u8d1f\u8d23\u7406\u89e3\u548c\u89c4\u5212 SQL \u600e\u4e48\u6267\u884c\uff0c\u5b58\u50a8\u5f15\u64ce\u5c42\u8d1f\u8d23\u6570\u636e\u7684\u771f\u6b63\u8bfb\u5199"}),"\n",(0,i.jsx)(n.p,{children:"----\u8fd9\u90e8\u5206\u662f\u5e2e\u52a9\u5927\u5bb6\u7406\u89e3 start\uff0c\u9762\u8bd5\u4e2d\u53ef\u4e0d\u80cc----\r\n\u6765\u8be6\u7ec6\u62c6\u89e3\u4e00\u4e0b\uff1a\r\n\u5ba2\u6237\u7aef\u53d1\u9001 SQL \u8bed\u53e5\u7ed9 MySQL \u670d\u52a1\u5668\u3002\r\n\u5982\u679c\u67e5\u8be2\u7f13\u5b58\u6253\u5f00\u5219\u4f1a\u4f18\u5148\u67e5\u8be2\u7f13\u5b58\uff0c\u7f13\u5b58\u4e2d\u6709\u5bf9\u5e94\u7684\u7ed3\u679c\u5c31\u76f4\u63a5\u8fd4\u56de\u3002\u4e0d\u8fc7\uff0cMySQL 8.0 \u5df2\u7ecf\u79fb\u9664\u4e86\u67e5\u8be2\u7f13\u5b58\u3002\u8fd9\u90e8\u5206\u7684\u529f\u80fd\u6b63\u5728\u88ab Redis \u7b49\u7f13\u5b58\u4e2d\u95f4\u4ef6\u53d6\u4ee3\u3002\r\n\u5206\u6790\u5668\u5bf9 SQL \u8bed\u53e5\u8fdb\u884c\u8bed\u6cd5\u5206\u6790\uff0c\u5224\u65ad\u662f\u5426\u6709\u8bed\u6cd5\u9519\u8bef\u3002\r\n\u641e\u6e05\u695a SQL \u8bed\u53e5\u8981\u5e72\u561b\u540e\uff0cMySQL \u4f1a\u901a\u8fc7\u4f18\u5316\u5668\u751f\u6210\u6267\u884c\u8ba1\u5212\u3002\r\n\u6267\u884c\u5668\u8c03\u7528\u5b58\u50a8\u5f15\u64ce\u7684\u63a5\u53e3\uff0c\u6267\u884c SQL \u8bed\u53e5\u3002\r\nSQL \u6267\u884c\u8fc7\u7a0b\u4e2d\uff0c\u4f18\u5316\u5668\u901a\u8fc7\u6210\u672c\u8ba1\u7b97\u9884\u4f30\u51fa\u6267\u884c\u6548\u7387\u6700\u9ad8\u7684\u65b9\u5f0f\uff0c\u57fa\u672c\u7684\u9884\u4f30\u7ef4\u5ea6\u4e3a\uff1a"}),"\n",(0,i.jsx)(n.p,{children:"IO \u6210\u672c\uff1a\u4ece\u78c1\u76d8\u8bfb\u53d6\u6570\u636e\u5230\u5185\u5b58\u7684\u5f00\u9500\u3002\r\nCPU \u6210\u672c\uff1aCPU \u5904\u7406\u5185\u5b58\u4e2d\u6570\u636e\u7684\u5f00\u9500\u3002\r\n\u57fa\u4e8e\u8fd9\u4e24\u4e2a\u7ef4\u5ea6\uff0c\u53ef\u4ee5\u5f97\u51fa\u5f71\u54cd SQL \u6267\u884c\u6548\u7387\u7684\u56e0\u7d20\u6709\uff1a"}),"\n",(0,i.jsx)(n.p,{children:"\u2460\u3001IO \u6210\u672c\uff0c\u6570\u636e\u91cf\u8d8a\u5927\uff0cIO \u6210\u672c\u8d8a\u9ad8\u3002\u6240\u4ee5\u8981\u5c3d\u91cf\u67e5\u8be2\u5fc5\u8981\u7684\u5b57\u6bb5\uff1b\u5c3d\u91cf\u5206\u9875\u67e5\u8be2\uff1b\u5c3d\u91cf\u901a\u8fc7\u7d22\u5f15\u52a0\u5feb\u67e5\u8be2\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u2461\u3001CPU \u6210\u672c\uff0c\u5c3d\u91cf\u907f\u514d\u590d\u6742\u7684\u67e5\u8be2\u6761\u4ef6\uff0c\u5982\u6709\u5fc5\u8981\uff0c\u8003\u8651\u5bf9\u5b50\u67e5\u8be2\u7ed3\u679c\u8fdb\u884c\u8fc7\u6ee4\u3002\r\n----\u8fd9\u90e8\u5206\u662f\u5e2e\u52a9\u5927\u5bb6\u7406\u89e3 end\uff0c\u9762\u8bd5\u4e2d\u53ef\u4e0d\u80cc----"}),"\n",(0,i.jsx)(n.h3,{id:"\u5982\u4f55\u4f18\u5316\u6162-sql-\u5462",children:"\u5982\u4f55\u4f18\u5316\u6162 SQL \u5462\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u9996\u5148\uff0c\u9700\u8981\u627e\u5230\u90a3\u4e9b\u6bd4\u8f83\u6162\u7684 SQL\uff0c\u53ef\u4ee5\u901a\u8fc7\u542f\u7528\u6162\u67e5\u8be2\u65e5\u5fd7\uff0c\u8bb0\u5f55\u90a3\u4e9b\u8d85\u8fc7\u6307\u5b9a\u6267\u884c\u65f6\u95f4\u7684 SQL \u67e5\u8be2\u3002\r\n\u4e5f\u53ef\u4ee5\u4f7f\u7528 show processlist; \u547d\u4ee4\u67e5\u770b\u5f53\u524d\u6b63\u5728\u6267\u884c\u7684 SQL \u8bed\u53e5\uff0c\u627e\u51fa\u6267\u884c\u65f6\u95f4\u8f83\u957f\u7684 SQL\u3002\r\n\u6216\u8005\u5728\u4e1a\u52a1\u57fa\u5efa\u4e2d\u52a0\u5165\u5bf9\u6162 SQL \u7684\u76d1\u63a7\uff0c\u5e38\u89c1\u7684\u65b9\u6848\u6709\u5b57\u8282\u7801\u63d2\u6869\u3001\u8fde\u63a5\u6c60\u6269\u5c55\u3001ORM \u6846\u67b6\u6269\u5c55\u7b49\u3002\r\n\u7136\u540e\uff0c\u4f7f\u7528 EXPLAIN \u67e5\u770b\u6162 SQL \u7684\u6267\u884c\u8ba1\u5212\uff0c\u770b\u770b\u6709\u6ca1\u6709\u7528\u7d22\u5f15\uff0c\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\uff0c\u6162 SQL \u7684\u539f\u56e0\u90fd\u662f\u56e0\u4e3a\u6ca1\u6709\u7528\u5230\u7d22\u5f15\u3002\r\n\u6700\u540e\uff0c\u6839\u636e\u5206\u6790\u7ed3\u679c\uff0c\u901a\u8fc7\u6dfb\u52a0\u7d22\u5f15\u3001\u4f18\u5316\u67e5\u8be2\u6761\u4ef6\u3001\u51cf\u5c11\u8fd4\u56de\u5b57\u6bb5\u7b49\u65b9\u5f0f\u8fdb\u884c\u4f18\u5316\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u4f60\u77e5\u9053\u54ea\u4e9b\u65b9\u6cd5\u6765\u4f18\u5316-sql",children:"\ud83c\udf1f\u4f60\u77e5\u9053\u54ea\u4e9b\u65b9\u6cd5\u6765\u4f18\u5316 SQL\uff1f"}),"\n",(0,i.jsxs)(n.p,{children:["SQL \u4f18\u5316\u7684\u65b9\u6cd5\u975e\u5e38\u591a\uff0c\u4f46\u672c\u8d28\u4e0a\u5c31\u4e00\u53e5\u8bdd\uff1a\u5c3d\u53ef\u80fd\u5c11\u5730\u626b\u63cf\u3001\u5c3d\u5feb\u5730\u8fd4\u56de\u7ed3\u679c\u3002\r\n\u6700\u5e38\u89c1\u7684\u505a\u6cd5\u5c31\u662f\u52a0\u7d22\u5f15\u3001\u6539\u5199 SQL \u8ba9\u5b83\u7528\u4e0a\u7d22\u5f15\uff0c\u6bd4\u5982\u8bf4\u4f7f\u7528\u8986\u76d6\u7d22\u5f15\u3001\u8ba9\u8054\u5408\u7d22\u5f15\u9075\u5b88\u6700\u5de6\u524d\u7f00\u539f\u5219\u7b49\u3002\r\n",(0,i.jsx)(n.img,{alt:"sql\u4f18\u5316",src:r(43717).A+"",width:"1238",height:"1426"})]}),"\n",(0,i.jsx)(n.h3,{id:"\u5982\u4f55\u5229\u7528\u8986\u76d6\u7d22\u5f15",children:"\u5982\u4f55\u5229\u7528\u8986\u76d6\u7d22\u5f15\uff1f"}),"\n",(0,i.jsxs)(n.p,{children:["\u8986\u76d6\u7d22\u5f15\u7684\u6838\u5fc3\u662f\u201c\u67e5\u8be2\u6240\u9700\u7684\u5b57\u6bb5\u90fd\u5728\u540c\u4e00\u4e2a\u7d22\u5f15\u91cc\u201d\uff0c\u8fd9\u6837 MySQL \u5c31\u4e0d\u9700\u8981\u56de\u8868\uff0c\u76f4\u63a5\u4ece\u7d22\u5f15\u4e2d\u8fd4\u56de\u7ed3\u679c\u3002\r\n",(0,i.jsx)(n.img,{alt:"\u8986\u76d6\u7d22\u5f15",src:r(30184).A+"",width:"1789",height:"654"}),"\r\n----\u8fd9\u90e8\u5206\u662f\u5e2e\u52a9\u5927\u5bb6\u7406\u89e3 start\uff0c\u9762\u8bd5\u4e2d\u53ef\u4e0d\u80cc----\r\n\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u73b0\u5728\u8981\u4ece test \u8868\u4e2d\u67e5\u8be2 city \u4e3a\u4e0a\u6d77\u7684 name \u5b57\u6bb5\u3002\r\nselect name from test where city='\u4e0a\u6d77'\r\n\u5982\u679c\u4ec5\u5728 city \u5b57\u6bb5\u4e0a\u6dfb\u52a0\u7d22\u5f15\uff0c\u90a3\u4e48\u8fd9\u6761\u67e5\u8be2\u8bed\u53e5\u4f1a\u5148\u901a\u8fc7\u7d22\u5f15\u627e\u5230 city \u4e3a\u4e0a\u6d77\u7684\u884c\uff0c\u7136\u540e\u518d\u56de\u8868\u67e5\u8be2 name \u5b57\u6bb5\u3002\r\n\u4e3a\u4e86\u907f\u514d\u56de\u8868\u67e5\u8be2\uff0c\u53ef\u4ee5\u5728 city \u548c name \u5b57\u6bb5\u4e0a\u5efa\u7acb\u8054\u5408\u7d22\u5f15\uff0c\u8fd9\u6837\u67e5\u8be2\u7ed3\u679c\u5c31\u53ef\u4ee5\u76f4\u63a5\u4ece\u7d22\u5f15\u4e2d\u83b7\u53d6\u3002\r\nalter table test add index index1(city,name);\r\n----\u8fd9\u90e8\u5206\u662f\u5e2e\u52a9\u5927\u5bb6\u7406\u89e3 end\uff0c\u9762\u8bd5\u4e2d\u53ef\u4e0d\u80cc----"]}),"\n",(0,i.jsx)(n.h3,{id:"\u5982\u4f55\u6b63\u786e\u4f7f\u7528\u8054\u5408\u7d22\u5f15",children:"\u5982\u4f55\u6b63\u786e\u4f7f\u7528\u8054\u5408\u7d22\u5f15\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u4f7f\u7528\u8054\u5408\u7d22\u5f15\u6700\u91cd\u8981\u7684\u4e00\u6761\u662f\u9075\u5b88\u6700\u5de6\u524d\u7f00\u539f\u5219\uff0c\u4e5f\u5c31\u662f\u67e5\u8be2\u6761\u4ef6\u9700\u8981\u4ece\u7d22\u5f15\u7684\u5de6\u4fa7\u5b57\u6bb5\u5f00\u59cb\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u5982\u4f55\u8fdb\u884c\u5206\u9875\u4f18\u5316",children:"\u5982\u4f55\u8fdb\u884c\u5206\u9875\u4f18\u5316\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u5206\u9875\u4f18\u5316\u7684\u6838\u5fc3\u662f\u907f\u514d\u6df1\u5ea6\u504f\u79fb\u5e26\u6765\u7684\u5168\u8868\u626b\u63cf\uff0c\u53ef\u4ee5\u901a\u8fc7\u4e24\u79cd\u65b9\u5f0f\u6765\u4f18\u5316\uff1a"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"\u5ef6\u8fdf\u5173\u8054 : \u901a\u8fc7\u4f7f\u7528\u8986\u76d6\u7d22\u5f15\uff08Covering Index\uff09\u5feb\u901f\u5b9a\u4f4d\u5230\u9700\u8981\u7684\u4e3b\u952eID\uff0c\u7136\u540e\u518d\u901a\u8fc7\u4e3b\u952eID\u5173\u8054\u56de\u539f\u8868\uff0c\u83b7\u53d6\u6240\u9700\u7684\u5168\u90e8\u884c\u6570\u636e\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u6dfb\u52a0\u4e66\u7b7e : \u4e5f\u9700\u8981\u7d22\u5f15\u8986\u76d6\uff0c\u9700\u8981\u6709\u5e8f\u4e14\u552f\u4e00\u7684\u5b57\u6bb5\u7ec4\u5408\uff0c\u4e0d\u652f\u6301\u968f\u673a\u8df3\u9875"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u5ef6\u8fdf\u5173\u8054\u9002\u7528\u4e8e\u9700\u8981\u4ece\u591a\u4e2a\u8868\u4e2d\u83b7\u53d6\u6570\u636e\u4e14\u4e3b\u8868\u884c\u6570\u8f83\u591a\u7684\u60c5\u51b5\u3002\u5b83\u9996\u5148\u4ece\u7d22\u5f15\u8868\u4e2d\u68c0\u7d22\u51fa\u9700\u8981\u7684\u884c ID\uff0c\u7136\u540e\u518d\u6839\u636e\u8fd9\u4e9b ID \u53bb\u5173\u8054\u5176\u4ed6\u7684\u8868\u83b7\u53d6\u8be6\u7ec6\u4fe1\u606f\u3002"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-mysql",children:"SELECT e.id, e.name, d.details\r\nFROM employees e\r\nJOIN department d ON e.department_id = d.id\r\nORDER BY e.id\r\nLIMIT 1000, 20;\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u5ef6\u8fdf\u5173\u8054\u540e\uff0c\u7b2c\u4e00\u6b65\u53ea\u67e5\u4e3b\u952e\uff0c\u901f\u5ea6\u5feb\uff0c\u7b2c\u4e8c\u6b65\u53ea\u5904\u7406 20 \u6761\u6570\u636e\uff0c\u6548\u7387\u9ad8\u3002"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-mysql",children:"SELECT e.id, e.name, d.details\r\nFROM (\r\nSELECT id\r\nFROM employees\r\nORDER BY id\r\nLIMIT 1000, 20\r\n) AS sub\r\nJOIN employees e ON sub.id = e.id\r\nJOIN department d ON e.department_id = d.id;\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u5047\u8bbe\u9700\u8981\u5bf9\u7528\u6237\u8868\u8fdb\u884c\u5206\u9875\u3002\r\n\u6dfb\u52a0\u4e66\u7b7e\u7684\u65b9\u5f0f\u662f\u901a\u8fc7\u8bb0\u4f4f\u4e0a\u4e00\u6b21\u67e5\u8be2\u8fd4\u56de\u7684\u6700\u540e\u4e00\u884c\u4e3b\u952e\u503c\uff0c\u7136\u540e\u5728\u4e0b\u4e00\u6b21\u67e5\u8be2\u7684\u65f6\u5019\u4ece\u8fd9\u4e2a\u503c\u5f00\u59cb\uff0c\u4ece\u800c\u8df3\u8fc7\u504f\u79fb\u91cf\u8ba1\u7b97\uff0c\u4ec5\u626b\u63cf\u76ee\u6807\u6570\u636e\uff0c\u9002\u5408\u7ffb\u9875\u3001\u8d44\u8baf\u6d41\u7b49\u573a\u666f\u3002\r\n\u901a\u8fc7\u6dfb\u52a0\u4e66\u7b7e\u6765\u4f18\u5316\u540e\uff0c\u67e5\u8be2\u4e0d\u518d\u4f7f\u7528OFFSET\uff0c\u800c\u662f\u4ece\u4e0a\u4e00\u9875\u6700\u540e\u4e00\u4e2a\u7528\u6237\u7684 ID \u5f00\u59cb\u67e5\u8be2\u3002\u8fd9\u79cd\u65b9\u6cd5\u53ef\u4ee5\u6709\u6548\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u6570\u636e\u626b\u63cf\uff0c\u63d0\u9ad8\u4e86\u5206\u9875\u67e5\u8be2\u7684\u6548\u7387\u3002"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-mysql",children:"-- 1. \u83b7\u53d6\u7b2c\u4e00\u9875\u6570\u636e\uff0c\u6309\u9700\u8981\u6392\u5e8f\u7684\u5b57\u6bb5\uff08\u5982 create_time \u548c id\uff09\u6392\u5e8f\r\nSELECT id, name, create_time\r\nFROM promo_feedback_rule\r\nORDER BY create_time DESC, id DESC\r\nLIMIT 10;\r\n\r\n-- 2. \u83b7\u53d6\u4e0b\u4e00\u9875\u6570\u636e\uff1a\u5c06\u4e0a\u4e00\u9875\u6700\u540e\u4e00\u6761\u8bb0\u5f55\u7684 create_time \u548c id \u4f5c\u4e3a\u201c\u4e66\u7b7e\u201d\u5e26\u5230\u4e0b\u4e00\u9875\u67e5\u8be2\u6761\u4ef6\u4e2d\r\nSELECT id, name, create_time\r\nFROM promo_feedback_rule\r\nWHERE (create_time < '2024-01-01 12:00:00')\r\n   OR (create_time = '2024-01-01 12:00:00' AND id < 100)\r\nORDER BY create_time DESC, id DESC\r\nLIMIT 10;\r\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u4e3a\u4ec0\u4e48\u5206\u9875\u4f1a\u53d8\u6162",children:"\u4e3a\u4ec0\u4e48\u5206\u9875\u4f1a\u53d8\u6162\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u5206\u9875\u67e5\u8be2\u7684\u6548\u7387\u95ee\u9898\u4e3b\u8981\u662f\u7531\u4e8e OFFSET \u7684\u5b58\u5728\uff0cOFFSET \u4f1a\u5bfc\u81f4 MySQL \u5fc5\u987b\u626b\u63cf\u548c\u8df3\u8fc7 offset + limit \u6761\u6570\u636e\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u662f\u975e\u5e38\u8017\u65f6\u7684\u3002\r\n\u6bd4\u5982\u8bf4\uff0c\u6211\u4eec\u8981\u67e5\u8be2\u7b2c 100000 \u6761\u6570\u636e\uff0c\u90a3\u4e48 MySQL \u5c31\u5fc5\u987b\u626b\u63cf 100000 \u6761\u6570\u636e\uff0c\u7136\u540e\u518d\u8fd4\u56de 10 \u6761\u6570\u636e\u3002\r\nSELECT * FROM user ORDER BY id LIMIT 100000, 10;\r\n\u6570\u636e\u8d8a\u591a\u3001\u504f\u79fb\u8d8a\u5927\uff0c\u5c31\u8d8a\u6162\uff01"}),"\n",(0,i.jsx)(n.h3,{id:"join-\u4ee3\u66ff\u5b50\u67e5\u8be2\u6709\u4ec0\u4e48\u597d\u5904",children:"JOIN \u4ee3\u66ff\u5b50\u67e5\u8be2\u6709\u4ec0\u4e48\u597d\u5904\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u7b2c\u4e00\uff0cJOIN \u7684 ON \u6761\u4ef6\u80fd\u66f4\u76f4\u63a5\u5730\u89e6\u53d1\u7d22\u5f15\uff0c\u800c\u5b50\u67e5\u8be2\u53ef\u80fd\u56e0\u5d4c\u5957\u5bfc\u81f4\u7d22\u5f15\u5931\u6548\u3002\r\n\u7b2c\u4e8c\uff0cJOIN \u7684\u4e00\u6b21\u8fde\u63a5\u64cd\u4f5c\u66ff\u4ee3\u4e86\u5b50\u67e5\u8be2\u7684\u591a\u6b21\u91cd\u590d\u6267\u884c\uff0c\u5c24\u5176\u5728\u5927\u6570\u636e\u91cf\u7684\u60c5\u51b5\u4e0b\u6027\u80fd\u5dee\u5f02\u660e\u663e\u3002"}),"\n",(0,i.jsx)(n.p,{children:"----\u8fd9\u90e8\u5206\u662f\u5e2e\u52a9\u5927\u5bb6\u7406\u89e3 start\uff0c\u9762\u8bd5\u4e2d\u53ef\u4e0d\u80cc----\r\n\u6bd4\u5982\u8bf4\u6211\u4eec\u6709\u4e24\u4e2a\u8868 orders \u548c customers\u3002"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"CREATE TABLE orders (\r\norder_id INT PRIMARY KEY,\r\ncustomer_id INT,\r\namount DECIMAL(10,2),\r\nINDEX idx_customer_id (customer_id)  -- customer_id\u5b57\u6bb5\u6709\u7d22\u5f15\r\n);\r\nCREATE TABLE customers (\r\ncustomer_id INT PRIMARY KEY,\r\nname VARCHAR(100)\r\n);\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u5b50\u67e5\u8be2\u7684\u5199\u6cd5\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"SELECT o.order_id, o.amount,\r\n(SELECT c.name\r\nFROM customers c\r\nWHERE c.customer_id = o.customer_id) AS customer_name\r\nFROM orders o;\n"})}),"\n",(0,i.jsx)(n.p,{children:"JOIN \u7684\u5199\u6cd5\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"SELECT o.order_id, o.amount, c.name AS customer_name\r\nFROM orders o\r\nJOIN customers c ON o.customer_id = c.customer_id;\n"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"\u7d22\u5f15\u4f7f\u7528\r\n\u5185\u5c42\u5b50\u67e5\u8be2 WHERE c.customer_id = o.customer_id \u6bcf\u6b21\u6267\u884c\u65f6\uff0c\u53ef\u80fd\u65e0\u6cd5\u76f4\u63a5\u5229\u7528 orders \u8868\u7684 customer_id \u7d22\u5f15\u3002\r\nJOIN \u7684 ON \u6761\u4ef6 o.customer_id = c.customer_id \u53ef\u4ee5\u76f4\u63a5\u5229\u7528 orders \u7684 idx_customer_id \u7d22\u5f15\uff0c\u52a0\u901f\u8fde\u63a5\u8fc7\u7a0b\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u6267\u884c\u8ba1\u5212\r\n\u5b50\u67e5\u8be2\u4f1a\u88ab\u91cd\u590d\u6267\u884c\uff08\u6bcf\u6b21\u5916\u5c42 orders \u884c\u90fd\u4f1a\u89e6\u53d1\u4e00\u6b21\u5b50\u67e5\u8be2\uff09\uff0c\u5bfc\u81f4\u5168\u8868\u626b\u63cf\u3002\r\n\u4f18\u5316\u5668\u53ef\u80fd\u9009\u62e9\u901a\u8fc7\u7d22\u5f15\u5feb\u901f\u5173\u8054\u4e24\u5f20\u8868\uff0c\u51cf\u5c11\u6570\u636e\u626b\u63cf\u91cf\u3002\u4f8b\u5982\uff0c\u5148\u901a\u8fc7 orders \u7684\u7d22\u5f15\u627e\u5230 customer_id\uff0c\u518d\u4e0e customers \u4e3b\u952e\u5feb\u901f\u5339\u914d\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u6027\u80fd\u8868\u73b0\r\n\u5f53 orders \u8868\u6570\u636e\u91cf\u5927\u65f6\uff0c\u5b50\u67e5\u8be2\u53ef\u80fd\u56e0\u91cd\u590d\u6267\u884c\u5bfc\u81f4\u6027\u80fd\u6025\u5267\u4e0b\u964d\u3002\r\nJOIN \u7684\u4e00\u6b21\u8fde\u63a5\u64cd\u4f5c\u901a\u5e38\u66f4\u9ad8\u6548\uff0c\u5c24\u5176\u5728\u5927\u6570\u636e\u91cf\u65f6\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u5bf9\u4e8e\u5b50\u67e5\u8be2\uff0c\u6267\u884c\u6d41\u7a0b\u662f\u8fd9\u6837\u7684\uff1a\r\n\u5916\u5c42 orders \u8868\u7684\u6bcf\u4e00\u884c\u90fd\u4f1a\u89e6\u53d1\u4e00\u6b21\u5b50\u67e5\u8be2\u3002\r\n\u5982\u679c orders \u8868\u6709 1000 \u6761\u8bb0\u5f55\uff0c\u5219\u5b50\u67e5\u8be2\u4f1a\u6267\u884c 1000 \u6b21\u3002\r\n\u6bcf\u6b21\u5b50\u67e5\u8be2\u90fd\u9700\u8981\u5355\u72ec\u67e5\u8be2 customers \u8868\uff08\u5373\u4f7f customer_id \u76f8\u540c\uff09\u3002"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u800c JOIN \u7684\u6267\u884c\u6d41\u7a0b\u662f\u8fd9\u6837\u7684\uff1a\r\n\u6570\u636e\u5e93\u4f18\u5316\u5668\u4f1a\u5c06\u4e24\u5f20\u8868\u7684\u8fde\u63a5\u64cd\u4f5c\u5408\u5e76\u4e3a\u4e00\u6b21\u6267\u884c\u3002\r\n\u901a\u8fc7\u7d22\u5f15\uff08\u5982 orders.customer_id \u548c customers.customer_id\uff09\u5feb\u901f\u5173\u8054\u6570\u636e\u3002\r\n\u4ec5\u6267\u884c\u4e00\u6b21\u5173\u8054\u64cd\u4f5c\uff0c\u800c\u975e\u591a\u6b21\u5b50\u67e5\u8be2\u3002\r\n\u6765\u770b\u4e00\u4e0b\u5b50\u67e5\u8be2\u7684\u6267\u884c\u8ba1\u5212\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"EXPLAIN SELECT o.order_id,\r\n(SELECT c.name FROM customers c WHERE c.customer_id = o.customer_id)\r\nFROM orders o;\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u4e8c\u54e5\u7684 Java \u8fdb\u9636\u4e4b\u8def\uff1a\u5b50\u67e5\u8be2\u7684\u6267\u884c\u8ba1\u5212\r\n\u4e8c\u54e5\u7684 Java \u8fdb\u9636\u4e4b\u8def\uff1a\u5b50\u67e5\u8be2\u7684\u6267\u884c\u8ba1\u5212\r\n\u5b50\u67e5\u8be2\uff08DEPENDENT SUBQUERY\uff09\u7c7b\u578b\u8868\u660e\u5176\u4f9d\u8d56\u5916\u5c42\u67e5\u8be2\u7684\u6bcf\u4e00\u884c\uff0c\u5bfc\u81f4\u91cd\u590d\u6267\u884c\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u518d\u5bf9\u6bd4\u770b\u4e00\u4e0b JOIN \u7684\u6267\u884c\u8ba1\u5212\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"EXPLAIN SELECT o.order_id,\r\n(SELECT c.name FROM customers c WHERE c.customer_id = o.customer_id)\r\nFROM orders o;\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u4e8c\u54e5\u7684 Java \u8fdb\u9636\u4e4b\u8def\uff1aJOIN \u7684\u6267\u884c\u8ba1\u5212\r\nJOIN \u901a\u8fc7 eq_ref \u7c7b\u578b\u76f4\u63a5\u5229\u7528\u4e3b\u952e\uff08customers.customer_id\uff09\u5feb\u901f\u5173\u8054\uff0c\u51cf\u5c11\u626b\u63cf\u6b21\u6570\u3002\r\n----\u8fd9\u90e8\u5206\u662f\u5e2e\u52a9\u5927\u5bb6\u7406\u89e3 end\uff0c\u9762\u8bd5\u4e2d\u53ef\u4e0d\u80cc----"}),"\n",(0,i.jsx)(n.h3,{id:"join\u64cd\u4f5c\u4e3a\u4ec0\u4e48\u8981\u5c0f\u8868\u9a71\u52a8\u5927\u8868",children:"JOIN\u64cd\u4f5c\u4e3a\u4ec0\u4e48\u8981\u5c0f\u8868\u9a71\u52a8\u5927\u8868\uff1f"}),"\n",(0,i.jsxs)(n.p,{children:["\u7b2c\u4e00\uff0c\u5982\u679c\u5927\u8868\u7684 JOIN \u5b57\u6bb5\u6709\u7d22\u5f15\uff0c\u90a3\u4e48\u5c0f\u8868\u7684\u6bcf\u4e00\u884c\u90fd\u53ef\u4ee5\u901a\u8fc7\u7d22\u5f15\u5feb\u901f\u5339\u914d\u5927\u8868\u3002\r\n\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a\u5c0f\u8868\u884c\u6570 N \u4e58\u4ee5\u5927\u8868\u7d22\u5f15\u67e5\u627e\u590d\u6742\u5ea6 log(\u5927\u8868\u884c\u6570 M)\uff0c\u603b\u590d\u6742\u5ea6\u4e3a N",(0,i.jsx)(n.em,{children:"log(M)\u3002\r\n\u663e\u7136\u5c0f\u8868\u505a\u9a71\u52a8\u8868\u6bd4\u5927\u8868\u505a\u9a71\u52a8\u8868\u7684\u65f6\u95f4\u590d\u6742\u5ea6 M"}),"log(N) \u66f4\u4f4e\u3002\r\n",(0,i.jsx)(n.img,{alt:"\u6709\u7d22\u5f15join",src:r(36925).A+"",width:"1182",height:"902"})]}),"\n",(0,i.jsxs)(n.p,{children:["\u7b2c\u4e8c\uff0c\u5982\u679c\u5927\u8868\u6ca1\u6709\u7d22\u5f15\uff0c\u9700\u8981\u5c06\u5c0f\u8868\u7684\u6570\u636e\u52a0\u8f7d\u5230\u5185\u5b58\uff0c\u518d\u5168\u8868\u626b\u63cf\u5927\u8868\u8fdb\u884c\u5339\u914d\u3002\r\n",(0,i.jsx)(n.img,{alt:"\u65e0\u7d22\u5f15join",src:r(90600).A+"",width:"950",height:"816"}),"\r\n\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a\u5c0f\u8868\u5206\u6bb5\u6570 K \u4e58\u4ee5\u5927\u8868\u884c\u6570 M\uff0c\u5176\u4e2d K = \u5c0f\u8868\u884c\u6570 N / \u5185\u5b58\u5927\u5c0f join_buffer_size\u3002\r\n\u663e\u7136\u5c0f\u8868\u505a\u9a71\u52a8\u8868\u7684\u65f6\u5019 K \u7684\u503c\u66f4\u5c0f\uff0c\u5927\u8868\u505a\u9a71\u52a8\u8868\u7684\u65f6\u5019\u9700\u8981\u591a\u6b21\u5206\u6bb5\u3002"]}),"\n",(0,i.jsx)(n.p,{children:"\u5f53\u4f7f\u7528 left join \u65f6\uff0c\u5de6\u8868\u662f\u9a71\u52a8\u8868\uff0c\u53f3\u8868\u662f\u88ab\u9a71\u52a8\u8868\u3002\r\n\u5f53\u4f7f\u7528 right join \u65f6\uff0c\u521a\u597d\u76f8\u53cd\u3002\r\n\u5f53\u4f7f\u7528 join \u65f6\uff0cMySQL \u4f1a\u9009\u62e9\u6570\u636e\u91cf\u6bd4\u8f83\u5c0f\u7684\u8868\u4f5c\u4e3a\u9a71\u52a8\u8868\uff0c\u5927\u8868\u4f5c\u4e3a\u88ab\u9a71\u52a8\u8868\u3002\r\n\u8fd9\u91cc\u7684\u5c0f\u8868\u6307\u5b9e\u9645\u53c2\u4e0e JOIN \u7684\u6570\u636e\u91cf\uff0c\u800c\u4e0d\u662f\u8868\u7684\u603b\u884c\u6570\u3002\u5927\u8868\u7ecf\u8fc7 where \u6761\u4ef6\u8fc7\u6ee4\u540e\u4e5f\u53ef\u80fd\u6210\u4e3a\u903b\u8f91\u5c0f\u8868\u3002\r\n\u4e5f\u53ef\u4ee5\u5f3a\u5236\u901a\u8fc7 STRAIGHT_JOIN \u63d0\u793a MySQL \u4f7f\u7528\u6307\u5b9a\u7684\u9a71\u52a8\u8868\u3002\r\nps:  \u81ea\u5df1\u5b9e\u9a8c\uff0c left join \u548cright join\u4e0d\u662f\u7edd\u5bf9\u7684\uff0c\u5982\u679c\u5728where\u5305\u542b\u53f3\u8fb9\u975e\u7a7a\u6761\u4ef6\uff0c\u53ef\u80fd\u4f1a\u88ab\u4f18\u5316\u4e3ainner join \u67e5\u8be2\u5417\uff0c\u4f7f\u7528 EXPLAIN\u547d\u4ee4\u67e5\u770b\u6267\u884c\u8ba1\u5212\u786e\u5b9a"}),"\n",(0,i.jsx)(n.h3,{id:"\u4e3a\u4ec0\u4e48\u8981\u907f\u514d\u4f7f\u7528-join-\u5173\u8054\u592a\u591a\u7684\u8868",children:"\u4e3a\u4ec0\u4e48\u8981\u907f\u514d\u4f7f\u7528 JOIN \u5173\u8054\u592a\u591a\u7684\u8868\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u7b2c\u4e00\uff0c\u591a\u8868 JOIN \u7684\u6267\u884c\u8def\u5f84\u4f1a\u968f\u7740\u8868\u7684\u6570\u91cf\u5448\u73b0\u6307\u6570\u7ea7\u589e\u957f\uff0c\u4f18\u5316\u5668\u9700\u8981\u4f30\u7b97\u6240\u6709\u8def\u5f84\u7684\u6210\u672c\uff0c\u6709\u53ef\u80fd\u4f1a\u5bfc\u81f4\u51fa\u73b0\u5927\u8868\u9a71\u52a8\u5c0f\u8868\u7684\u60c5\u51b5\u3002\r\n\u7b2c\u4e8c\uff0c\u591a\u8868 JOIN \u9700\u8981\u7f13\u5b58\u4e2d\u95f4\u7ed3\u679c\u96c6\uff0c\u53ef\u80fd\u8d85\u51fa join_buffer_size\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e0b\u5185\u5b58\u4e34\u65f6\u8868\u5c31\u4f1a\u8f6c\u4e3a\u78c1\u76d8\u4e34\u65f6\u8868\uff0c\u6027\u80fd\u4e5f\u4f1a\u6025\u5267\u4e0b\u964d\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u5982\u4f55\u8fdb\u884c\u6392\u5e8f\u4f18\u5316",children:"\u5982\u4f55\u8fdb\u884c\u6392\u5e8f\u4f18\u5316\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u7b2c\u4e00\uff0c\u5bf9 ORDER BY \u6d89\u53ca\u7684\u5b57\u6bb5\u521b\u5efa\u7d22\u5f15\uff0c\u907f\u514d filesort\u3002\r\n\u5982\u679c\u662f\u591a\u4e2a\u5b57\u6bb5\uff0c\u8054\u5408\u7d22\u5f15\u9700\u8981\u4fdd\u8bc1 ORDER BY \u7684\u5217\u662f\u7d22\u5f15\u7684\u6700\u5de6\u524d\u7f00\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u7b2c\u4e8c\uff0c\u53ef\u4ee5\u9002\u5f53\u8c03\u6574\u6392\u5e8f\u53c2\u6570\uff0c\u5982\u589e\u5927 sort_buffer_size\u3001max_length_for_sort_data \u7b49\uff0c\u8ba9\u6392\u5e8f\u5728\u5185\u5b58\u4e2d\u5b8c\u6210\u3002\r\n----\u8fd9\u90e8\u5206\u662f\u5e2e\u52a9\u5927\u5bb6\u7406\u89e3 start\uff0c\u9762\u8bd5\u4e2d\u53ef\u4e0d\u80cc----\r\nsort_buffer_size\uff1a\u7528\u4e8e\u63a7\u5236\u6392\u5e8f\u7f13\u51b2\u533a\u7684\u5927\u5c0f\uff0c\u9ed8\u8ba4\u4e3a 256KB\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u6392\u5e8f\u7684\u6570\u636e\u91cf\u5c0f\u4e8e 256KB\uff0cMySQL \u4f1a\u5728\u5185\u5b58\u4e2d\u76f4\u63a5\u6392\u5e8f\uff1b\u5426\u5219\u5c31\u8981\u5728\u78c1\u76d8\u4e0a\u8fdb\u884c filesort\u3002\r\nmax_length_for_sort_data\uff1a\u5355\u884c\u6570\u636e\u7684\u6700\u5927\u957f\u5ea6\uff0c\u4f1a\u5f71\u54cd\u6392\u5e8f\u7b97\u6cd5\u9009\u62e9\u3002\u5982\u679c\u5355\u884c\u6570\u636e\u8d85\u8fc7\u8be5\u503c\uff0cMySQL \u4f1a\u4f7f\u7528\u53cc\u8def\u6392\u5e8f\uff0c\u5426\u5219\u4f7f\u7528\u5355\u8def\u6392\u5e8f\u3002\r\nmax_sort_length\uff1a\u9650\u5236\u5b57\u7b26\u4e32\u6392\u5e8f\u65f6\u6bd4\u8f83\u7684\u524d\u7f00\u957f\u5ea6\u3002\u5f53 MySQL \u4e0d\u5f97\u4e0d\u5bf9 text\u3001blob \u5b57\u6bb5\u8fdb\u884c\u6392\u5e8f\u65f6\uff0c\u4f1a\u622a\u53d6\u524d max_sort_length \u4e2a\u5b57\u7b26\u8fdb\u884c\u6bd4\u8f83\u3002\r\n----\u8fd9\u90e8\u5206\u662f\u5e2e\u52a9\u5927\u5bb6\u7406\u89e3 end\uff0c\u9762\u8bd5\u4e2d\u53ef\u4e0d\u80cc----"}),"\n",(0,i.jsx)(n.p,{children:"\u7b2c\u4e09\uff0c\u53ef\u4ee5\u901a\u8fc7 where \u548c limit \u9650\u5236\u5f85\u6392\u5e8f\u7684\u6570\u636e\u91cf\uff0c\u51cf\u5c11\u6392\u5e8f\u7684\u5f00\u9500\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u4ec0\u4e48\u662f-filesort",children:"\u4ec0\u4e48\u662f filesort\uff1f"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://petrunia.net/2007/08/29/how-mysql-executes-order-by/",children:"https://petrunia.net/2007/08/29/how-mysql-executes-order-by/"}),"\r\n\u5f53\u4e0d\u80fd\u4f7f\u7528\u7d22\u5f15\u751f\u6210\u6392\u5e8f\u7ed3\u679c\u7684\u65f6\u5019\uff0cMySQL \u9700\u8981\u81ea\u5df1\u8fdb\u884c\u6392\u5e8f\uff0c\u5982\u679c\u6570\u636e\u91cf\u6bd4\u8f83\u5c0f\uff0c\u4f1a\u5728\u5185\u5b58\u4e2d\u8fdb\u884c\uff1b\u5982\u679c\u6570\u636e\u91cf\u6bd4\u8f83\u5927\u5c31\u9700\u8981\u5199\u4e34\u65f6\u6587\u4ef6\u5230\u78c1\u76d8\u518d\u6392\u5e8f\uff0c\u6211\u4eec\u5c06\u8fd9\u4e2a\u8fc7\u7a0b\u79f0\u4e3a\u6587\u4ef6\u6392\u5e8f\u3002\r\n",(0,i.jsx)(n.img,{alt:"filesort_\u6587\u4ef6\u6392\u5e8f",src:r(59700).A+"",width:"1168",height:"724"})]}),"\n",(0,i.jsx)(n.h3,{id:"\u5168\u5b57\u6bb5\u6392\u5e8f\u548c-rowid-\u6392\u5e8f\u4e86\u89e3\u591a\u5c11",children:"\u5168\u5b57\u6bb5\u6392\u5e8f\u548c rowid \u6392\u5e8f\u4e86\u89e3\u591a\u5c11\uff1f"}),"\n",(0,i.jsxs)(n.p,{children:["\u5f53\u6392\u5e8f\u5b57\u6bb5\u662f\u7d22\u5f15\u5b57\u6bb5\u4e14\u6ee1\u8db3\u6700\u5de6\u524d\u7f00\u539f\u5219\u65f6\uff0cMySQL \u53ef\u4ee5\u76f4\u63a5\u5229\u7528\u7d22\u5f15\u7684\u6709\u5e8f\u6027\u5b8c\u6210\u6392\u5e8f\u3002\r\n",(0,i.jsx)(n.img,{alt:"\u7d22\u5f15\u6392\u5e8f",src:r(36737).A+"",width:"511",height:"497"}),"\r\n\u5f53\u65e0\u6cd5\u4f7f\u7528\u7d22\u5f15\u6392\u5e8f\u65f6\uff0cMySQL \u9700\u8981\u5728\u5185\u5b58\u6216\u78c1\u76d8\u4e2d\u8fdb\u884c\u6392\u5e8f\u64cd\u4f5c\uff0c\u5206\u4e3a\u5168\u5b57\u6bb5\u6392\u5e8f\u548c rowid \u6392\u5e8f\u4e24\u79cd\u7b97\u6cd5\u3002\r\n",(0,i.jsx)(n.img,{alt:"\u5168\u5b57\u6bb5\u6392\u5e8f",src:r(51190).A+"",width:"1142",height:"856"}),'\r\n\u5168\u5b57\u6bb5\u6392\u5e8f\u4f1a\u4e00\u6b21\u6027\u53d6\u51fa\u6ee1\u8db3\u6761\u4ef6\u884c\u7684\u6240\u6709\u5b57\u6bb5\uff0c\u7136\u540e\u5728 sort buffer \u4e2d\u8fdb\u884c\u6392\u5e8f\uff0c\u6392\u5e8f\u540e\u76f4\u63a5\u8fd4\u56de\u7ed3\u679c\uff0c\u65e0\u9700\u56de\u8868\u3002\r\n\u4ee5 SELECT * FROM user WHERE name = "\u738b\u4e8c" ORDER BY age \u4e3a\u4f8b\uff1a']}),"\n",(0,i.jsx)(n.p,{children:"\u4ece name \u7d22\u5f15\u4e2d\u627e\u5230\u7b2c\u4e00\u4e2a\u6ee1\u8db3 name='\u5f20\u4e09' \u7684\u4e3b\u952e id\uff1b\r\n\u6839\u636e\u4e3b\u952e id \u53d6\u51fa\u6574\u884c\u6240\u6709\u7684\u5b57\u6bb5\uff0c\u5b58\u5165 sort buffer\uff1b\r\n\u91cd\u590d\u4e0a\u8ff0\u8fc7\u7a0b\u76f4\u5230\u5904\u7406\u5b8c\u6240\u6709\u6ee1\u8db3\u6761\u4ef6\u7684\u884c\r\n\u5bf9 sort buffer \u4e2d\u7684\u6570\u636e\u6309 age \u6392\u5e8f\uff0c\u8fd4\u56de\u7ed3\u679c\u3002\r\n\u4f18\u70b9\u662f\u4ec5\u9700\u8981\u4e00\u6b21\u78c1\u76d8 IO\uff0c\u7f3a\u70b9\u662f\u5185\u5b58\u5360\u7528\u5927\uff0c\u5982\u679c\u6570\u91cf\u8d85\u8fc7 sort buffer \u7684\u8bdd\uff0c\u9700\u8981\u5206\u7247\u8bfb\u53d6\u5e76\u501f\u52a9\u4e34\u65f6\u6587\u4ef6\u5408\u5e76\u6392\u5e8f\uff0cIO \u6b21\u6570\u53cd\u800c\u4f1a\u589e\u52a0\u3002"}),"\n",(0,i.jsxs)(n.p,{children:["\u4e5f\u65e0\u6cd5\u5904\u7406\u5305\u542b text \u548c blob \u7c7b\u578b\u7684\u5b57\u6bb5\u3002\r\n",(0,i.jsx)(n.img,{alt:"rowId\u6392\u5e8f",src:r(30529).A+"",width:"1142",height:"856"})]}),"\n",(0,i.jsx)(n.p,{children:'rowid \u6392\u5e8f\u5206\u4e3a\u4e24\u4e2a\u9636\u6bb5\uff1a\r\n\u7b2c\u4e00\u9636\u6bb5\uff1a\u6839\u636e\u67e5\u8be2\u6761\u4ef6\u53d6\u51fa\u6392\u5e8f\u5b57\u6bb5\u548c\u4e3b\u952e ID\uff0c\u5b58\u5165 sort buffer \u8fdb\u884c\u6392\u5e8f\uff1b\r\n\u7b2c\u4e8c\u9636\u6bb5\uff1a\u6839\u636e\u6392\u5e8f\u540e\u7684\u4e3b\u952e ID \u56de\u8868\u53d6\u51fa\u5176\u4ed6\u9700\u8981\u7684\u5b57\u6bb5\u3002\r\n\u540c\u6837\u4ee5 SELECT * FROM user WHERE name = "\u738b\u4e8c" ORDER BY age \u4e3a\u4f8b\uff1a'}),"\n",(0,i.jsx)(n.p,{children:"\u4ece name \u7d22\u5f15\u4e2d\u627e\u5230\u7b2c\u4e00\u4e2a\u6ee1\u8db3 name='\u5f20\u4e09' \u7684\u4e3b\u952e id\uff1b\r\n\u6839\u636e\u4e3b\u952e id \u53d6\u51fa\u6392\u5e8f\u5b57\u6bb5 age\uff0c\u8fde\u540c\u4e3b\u952e id \u4e00\u8d77\u5b58\u5165 sort buffer\uff1b\r\n\u91cd\u590d\u4e0a\u8ff0\u8fc7\u7a0b\u76f4\u5230\u5904\u7406\u5b8c\u6240\u6709\u6ee1\u8db3\u6761\u4ef6\u7684\u884c\r\n\u5bf9 sort buffer \u4e2d\u7684\u6570\u636e\u6309 age \u6392\u5e8f\uff1b\r\n\u904d\u5386\u6392\u5e8f\u540e\u7684\u4e3b\u952e id\uff0c\u56de\u8868\u53d6\u51fa\u5176\u4ed6\u6240\u9700\u5b57\u6bb5\uff0c\u8fd4\u56de\u7ed3\u679c\u3002\r\n\u4f18\u70b9\u662f\u5185\u5b58\u5360\u7528\u8f83\u5c11\uff0c\u9002\u5408\u5b57\u6bb5\u591a\u6216\u8005\u6570\u636e\u91cf\u5927\u7684\u573a\u666f\uff0c\u7f3a\u70b9\u662f\u9700\u8981\u4e24\u6b21\u78c1\u76d8 IO\u3002"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"MySQL \u4f1a\u6839\u636e\u7cfb\u7edf\u53d8\u91cf max_length_for_sort_data \u548c\u67e5\u8be2\u5b57\u6bb5\u7684\u603b\u5927\u5c0f\u6765\u51b3\u5b9a\u4f7f\u7528\u5168\u5b57\u6bb5\u6392\u5e8f\u8fd8\u662f rowid \u6392\u5e8f\u3002"}),"\r\n",(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"\u5982\u679c\u67e5\u8be2\u5b57\u6bb5\u603b\u957f\u5ea6 <= max_length_for_sort_data\uff0cMySQL \u4f1a\u4f7f\u7528\u5168\u5b57\u6bb5\u6392\u5e8f\uff1b\u5426\u5219\u4f1a\u4f7f\u7528 rowid \u6392\u5e8f"})})]}),"\n",(0,i.jsx)(n.h3,{id:"\u4f60\u5bf9-sort_merge_passes-\u53c2\u6570\u4e86\u89e3\u5417",children:"\u4f60\u5bf9 Sort_merge_passes \u53c2\u6570\u4e86\u89e3\u5417\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"Sort_merge_passes \u662f\u4e00\u4e2a\u72b6\u6001\u53d8\u91cf\uff0c\u7528\u4e8e\u7edf\u8ba1 MySQL \u5728\u6267\u884c\u6392\u5e8f\u64cd\u4f5c\u65f6\u8fdb\u884c\u5f52\u5e76\u6392\u5e8f\u7684\u6b21\u6570\u3002\r\n\u5f53 MySQL \u9700\u8981\u8fdb\u884c\u6392\u5e8f\u4f46\u6392\u5e8f\u6570\u636e\u65e0\u6cd5\u5b8c\u5168\u653e\u5165 sort_buffer_size \u5b9a\u4e49\u7684\u5185\u5b58\u7f13\u51b2\u533a\u65f6\uff0c\u5c31\u4f1a\u4f7f\u7528\u4e34\u65f6\u6587\u4ef6\u8fdb\u884c\u5916\u90e8\u6392\u5e8f\uff0c\u8fd9\u65f6\u5c31\u4f1a\u4ea7\u751f Sort_merge_passes\u3002\r\n\u5982\u679c Sort_merge_passes \u5728\u77ed\u65f6\u95f4\u5185\u5feb\u901f\u6fc0\u589e\uff0c\u8bf4\u660e\u6392\u5e8f\u64cd\u4f5c\u7684\u6570\u636e\u91cf\u8f83\u5927\uff0c\u9700\u8981\u8c03\u6574 sort_buffer_size \u6216\u8005\u4f18\u5316\u67e5\u8be2\u8bed\u53e5\u3002"}),"\n",(0,i.jsxs)(n.p,{children:["MySQL \u5728\u6267\u884c\u6392\u5e8f\u64cd\u4f5c\u65f6\uff0c\u4f1a\u7ecf\u5386\u4e24\u4e2a\u8fc7\u7a0b\uff1a\r\n\u5185\u5b58\u6392\u5e8f\u9636\u6bb5\uff0cMySQL \u9996\u5148\u5c1d\u8bd5\u5728 sort buffer \u4e2d\u8fdb\u884c\u6392\u5e8f\u3002\u5982\u679c\u6570\u636e\u91cf\u5c0f\u4e8e sort_buffer_size \u7f13\u51b2\u533a\u5927\u5c0f\uff0c\u4f1a\u5b8c\u5168\u5728\u5185\u5b58\u4e2d\u5b8c\u6210\u5feb\u901f\u6392\u5e8f\u3002\r\n\u5916\u90e8\u6392\u5e8f\u9636\u6bb5\uff0c\u5982\u679c\u6570\u636e\u91cf\u8d85\u8fc7 sort_buffer_size\uff0cMySQL \u4f1a\u5c06\u6570\u636e\u5206\u6210\u591a\u4e2a\u5757\uff0c\u6bcf\u5757\u5355\u72ec\u6392\u5e8f\u540e\u5199\u5165\u4e34\u65f6\u6587\u4ef6\uff0c\u7136\u540e\u5bf9\u8fd9\u4e9b\u5df2\u6392\u5e8f\u7684\u5757\u8fdb\u884c\u5f52\u5e76\u6392\u5e8f\u3002\u6bcf\u6b21\u5f52\u5e76\u64cd\u4f5c\u90fd\u4f1a\u589e\u52a0 Sort_merge_passes \u7684\u8ba1\u6570\u3002\r\n",(0,i.jsx)(n.img,{alt:"mysql\u5185\u5b58\u548c\u6587\u4ef6\u6392\u5e8f",src:r(73894).A+"",width:"1126",height:"1296"})]}),"\n",(0,i.jsx)(n.h3,{id:"\u6761\u4ef6\u4e0b\u63a8\u4f60\u4e86\u89e3\u591a\u5c11",children:"\u6761\u4ef6\u4e0b\u63a8\u4f60\u4e86\u89e3\u591a\u5c11\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"waitx-wait-vertify\r\n\u6761\u4ef6\u4e0b\u63a8\u7684\u6838\u5fc3\u601d\u60f3\u662f\u5c06\u5916\u5c42\u7684\u8fc7\u6ee4\u6761\u4ef6\uff0c\u6bd4\u5982\u8bf4 where\u3001join \u7b49\uff0c\u5c3d\u53ef\u80fd\u5730\u4e0b\u63a8\u5230\u67e5\u8be2\u8ba1\u5212\u7684\u66f4\u5e95\u5c42\uff0c\u6bd4\u5982\u8bf4\u5b50\u67e5\u8be2\u3001\u8fde\u63a5\u64cd\u4f5c\u4e4b\u524d\uff0c\u4ece\u800c\u51cf\u5c11\u4e2d\u95f4\u7ed3\u679c\u7684\u6570\u636e\u91cf\u3002\r\n\u6bd4\u5982\u8bf4\u539f\u59cb\u67e5\u8be2\u662f\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-mysql",children:"SELECT * FROM (\r\nSELECT * FROM orders WHERE total > 100\r\n) AS subquery\r\nWHERE subquery.status = 'shipped';\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u5c31\u53ef\u4ee5\u5c06\u6761\u4ef6\u4e0b\u63a8\u5230\u5b50\u67e5\u8be2\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-mysql",children:"SELECT * FROM (\r\nSELECT * FROM orders WHERE total > 100 AND status = 'shipped'\r\n) AS subquery;\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u8fd9\u6837\u5c31\u53ef\u4ee5\u51cf\u5c11\u67e5\u8be2\u8fd4\u56de\u7684\u6570\u636e\u91cf\uff0c\u907f\u514d\u5916\u5c42\u518d\u8fc7\u6ee4\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u518d\u6bd4\u5982\u8bf4 union \u4e2d\u7684\u539f\u59cb\u67e5\u8be2\u662f\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-mysql",children:"(SELECT * FROM t1)\r\nUNION ALL\r\n(SELECT * FROM t2)\r\nORDER BY col LIMIT 10;\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u5c31\u53ef\u4ee5\u5c06\u6761\u4ef6\u4e0b\u63a8\u5230\u6bcf\u4e2a\u5b50\u67e5\u8be2\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-mysql",children:"(SELECT * FROM t1 ORDER BY col LIMIT 10)\r\nUNION ALL\r\n(SELECT * FROM t2 ORDER BY col LIMIT 10);\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u6bcf\u4e2a\u5b50\u67e5\u8be2\u4ec5\u8fd4\u56de\u524d 10 \u6761\u6570\u636e\uff0c\u51cf\u5c11\u4e34\u65f6\u8868\u7684\u6570\u636e\u91cf\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u518d\u6bd4\u5982\u8bf4\u8fde\u63a5\u67e5\u8be2 join \u4e2d\u7684\u539f\u59cb\u67e5\u8be2\u662f\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-mysql",children:"SELECT * FROM orders\r\nJOIN customers ON orders.customer_id = customers.id\r\nWHERE customers.country = 'china';\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u5c31\u53ef\u4ee5\u5c06\u6761\u4ef6\u4e0b\u63a8\u5230\u8868\u626b\u63cf\u7684\u65f6\u5019\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-mysql",children:"SELECT * FROM orders\r\nJOIN (\r\nSELECT * FROM customers WHERE country = 'china'\r\n) AS filtered_customers\r\nON orders.customer_id = filtered_customers.id;\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u5148\u8fc7\u6ee4 customers \u8868\uff0c\u51cf\u5c11 join \u65f6\u7684\u6570\u636e\u91cf\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u4e3a\u4ec0\u4e48\u8981\u5c3d\u91cf\u907f\u514d\u4f7f\u7528-select-",children:"\u4e3a\u4ec0\u4e48\u8981\u5c3d\u91cf\u907f\u514d\u4f7f\u7528 select *\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"SELECT * \u4f1a\u5f3a\u5236 MySQL \u8bfb\u53d6\u8868\u4e2d\u6240\u6709\u5b57\u6bb5\u7684\u6570\u636e\uff0c\u5305\u62ec\u5e94\u7528\u7a0b\u5e8f\u53ef\u80fd\u5e76\u4e0d\u9700\u8981\u7684\uff0c\u6bd4\u5982 text\u3001blob \u7c7b\u578b\u7684\u5927\u5b57\u6bb5\u3002\r\n\u5728\u884c\u5185\u4e0d\u5b58\u50a8\u5b9e\u9645\u5185\u5bb9\u800c\u662f\u6307\u9488\u7684\u65f6\u5019\u624d\u6709\u7528"}),"\n",(0,i.jsx)(n.p,{children:"\u52a0\u8f7d\u5197\u4f59\u6570\u636e\u4f1a\u5360\u7528\u66f4\u591a\u7684\u7f13\u5b58\u7a7a\u95f4\uff0c\u4ece\u800c\u6324\u5360\u5176\u4ed6\u91cd\u8981\u6570\u636e\u7684\u7f13\u5b58\u8d44\u6e90\uff0c\u964d\u4f4e\u6574\u4f53\u7cfb\u7edf\u7684\u541e\u5410\u91cf\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u4e5f\u4f1a\u589e\u52a0\u7f51\u7edc\u4f20\u8f93\u7684\u5f00\u9500\uff0c\u5c24\u5176\u662f\u5728\u5927\u5b57\u6bb5\u7684\u60c5\u51b5\u4e0b\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u6700\u91cd\u8981\u7684\u662f\uff0cSELECT * \u53ef\u80fd\u4f1a\u5bfc\u81f4\u8986\u76d6\u7d22\u5f15\u5931\u6548\uff0c\u672c\u6765\u53ef\u4ee5\u8d70\u7d22\u5f15\u7684\u67e5\u8be2\u6700\u540e\u53d8\u6210\u4e86\u5168\u8868\u626b\u63cf\u3002"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-mysql",children:"-- \u4f7f\u7528\u8986\u76d6\u7d22\u5f15\uff08\u5047\u8bbe\u7d22\u5f15\u4e3a idx_country\uff09\r\nSELECT id, country FROM users WHERE country = 'china';  -- \u53ef\u80fd\u4ec5\u626b\u63cf\u7d22\u5f15\r\n-- \u4f7f\u7528 SELECT *\r\nSELECT * FROM users WHERE country = 'china';            -- \u9700\u56de\u8868\u8bfb\u53d6\u6240\u6709\u5217\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u4f60\u8fd8\u77e5\u9053\u54ea\u4e9b-sql-\u4f18\u5316\u65b9\u6cd5",children:"\u4f60\u8fd8\u77e5\u9053\u54ea\u4e9b SQL \u4f18\u5316\u65b9\u6cd5\uff1f"}),"\n",(0,i.jsxs)(n.p,{children:["\u2460\u3001\u907f\u514d\u4f7f\u7528 != \u6216\u8005 ",(0,i.jsx)(n.code,{children:"<>"})," \u64cd\u4f5c\u7b26\r\n!= \u6216\u8005 ",(0,i.jsx)(n.code,{children:"<>"})," \u64cd\u4f5c\u7b26\u4f1a\u5bfc\u81f4 MySQL \u65e0\u6cd5\u4f7f\u7528\u7d22\u5f15\uff0c\u4ece\u800c\u5bfc\u81f4\u5168\u8868\u626b\u63cf\u3002\r\n",(0,i.jsx)(n.code,{children:"\u53ef\u4ee5\u628acolumn<>'aaa'\uff0c\u6539\u6210column>'aaa' or column<'aaa'"}),"\u3002\r\n\u2461\u3001\u4f7f\u7528\u524d\u7f00\u7d22\u5f15\r\n\u6bd4\u5982\uff0c\u90ae\u7bb1\u7684\u540e\u7f00\u4e00\u822c\u90fd\u662f\u56fa\u5b9a\u7684@xxx.com\uff0c\u90a3\u4e48\u7c7b\u4f3c\u8fd9\u79cd\u540e\u9762\u51e0\u4f4d\u4e3a\u56fa\u5b9a\u503c\u7684\u5b57\u6bb5\u5c31\u975e\u5e38\u9002\u5408\u5b9a\u4e49\u4e3a\u524d\u7f00\u7d22\u5f15\uff1a\r\n\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cMySQL \u65e0\u6cd5\u5229\u7528\u524d\u7f00\u7d22\u5f15\u505a order by \u548c group by \u64cd\u4f5c\u3002\r\n\u2462\u3001\u907f\u514d\u5728\u5217\u4e0a\u4f7f\u7528\u51fd\u6570"]}),"\n",(0,i.jsx)(n.p,{children:"\u5728 where \u5b50\u53e5\u4e2d\u76f4\u63a5\u5bf9\u5217\u4f7f\u7528\u51fd\u6570\u4f1a\u5bfc\u81f4\u7d22\u5f15\u5931\u6548\uff0c\u56e0\u4e3a MySQL \u9700\u8981\u5bf9\u6bcf\u884c\u7684\u5217\u5e94\u7528\u51fd\u6570\u540e\u518d\u8fdb\u884c\u6bd4\u8f83\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"explain\u5e73\u5e38\u6709\u7528\u8fc7\u5417",children:"\ud83c\udf1fexplain\u5e73\u5e38\u6709\u7528\u8fc7\u5417\uff1f"}),"\n",(0,i.jsxs)(n.p,{children:["\u7ecf\u5e38\u7528\uff0cexplain \u662f MySQL \u63d0\u4f9b\u7684\u4e00\u4e2a\u7528\u4e8e\u67e5\u770b SQL \u6267\u884c\u8ba1\u5212\u7684\u5de5\u5177\uff0c\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u5206\u6790\u67e5\u8be2\u8bed\u53e5\u7684\u6027\u80fd\u95ee\u9898\u3002\r\n",(0,i.jsx)(n.img,{alt:"img_1.png",src:r(78438).A+"",width:"968",height:"1344"})]}),"\n",(0,i.jsx)(n.h4,{id:"explain-\u8f93\u51fa\u7ed3\u679c\u4e2d\u5e38\u89c1\u7684\u5b57\u6bb5\u542b\u4e49\u7406\u89e3\u5417",children:"explain \u8f93\u51fa\u7ed3\u679c\u4e2d\u5e38\u89c1\u7684\u5b57\u6bb5\u542b\u4e49\u7406\u89e3\u5417\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u6211\u4f1a\u901a\u8fc7\u5b83\u4eec\u5224\u65ad SQL \u6709\u6ca1\u6709\u8d70\u7d22\u5f15\u3001\u662f\u5426\u5168\u8868\u626b\u63cf\u3001\u9884\u4f30\u626b\u63cf\u884c\u6570\u662f\u5426\u592a\u5927\uff0c\u4ee5\u53ca\u662f\u5426\u89e6\u53d1\u4e86 filesort \u6216\u4e34\u65f6\u8868\u3002\u4e00\u65e6\u53d1\u73b0\u95ee\u9898\uff0c\u6bd4\u5982 type=ALL \u6216\u8005 Extra=Using filesort\uff0c\u6211\u4f1a\u8003\u8651\u5efa\u7d22\u5f15\u3001\u6539\u5199 SQL \u6216\u63a7\u5236\u67e5\u8be2\u7ed3\u679c\u96c6\u6765\u505a\u4f18\u5316\u3002"}),"\n",(0,i.jsx)(n.p,{children:"----\u8fd9\u90e8\u5206\u662f\u5e2e\u52a9\u5927\u5bb6\u7406\u89e3 start\uff0c\u9762\u8bd5\u4e2d\u53ef\u4e0d\u80cc----\r\n\u2460\u3001id \u5217\uff1a\u67e5\u8be2\u7684\u6267\u884c\u987a\u5e8f\u7f16\u53f7\u3002id \u76f8\u540c\uff1a\u540c\u4e00\u6267\u884c\u5c42\u7ea7\uff0c\u6309 table \u5217\u4ece\u4e0a\u5230\u4e0b\u987a\u5e8f\u6267\u884c\uff08\u5982\u591a\u8868 JOIN\uff09\uff1bid \u9012\u589e\uff1a\u5d4c\u5957\u5b50\u67e5\u8be2\uff0c\u6570\u503c\u8d8a\u5927\u4f18\u5148\u7ea7\u8d8a\u9ad8\uff0c\u8d8a\u5148\u6267\u884c\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u2461\u3001select_type \u5217\uff1a\u67e5\u8be2\u7684\u7c7b\u578b\u3002\u5e38\u89c1\u7684\u7c7b\u578b\u6709\uff1a"}),"\n",(0,i.jsx)(n.p,{children:"SIMPLE\uff1a\u7b80\u5355\u67e5\u8be2\uff0c\u4e0d\u5305\u542b\u5b50\u67e5\u8be2\u6216\u8005 UNION\u3002\r\nPRIMARY\uff1a\u67e5\u8be2\u4e2d\u5982\u679c\u5305\u542b\u5b50\u67e5\u8be2\uff0c\u5219\u6700\u5916\u5c42\u67e5\u8be2\u88ab\u6807\u8bb0\u4e3a PRIMARY\u3002\u9700\u8981\u5173\u6ce8\u5b50\u67e5\u8be2\u6216\u6d3e\u751f\u8868\u6027\u80fd\u3002\r\nSUBQUERY\uff1a\u5b50\u67e5\u8be2\uff1b\u9700\u8981\u907f\u514d\u591a\u5c42\u5d4c\u5957\uff0c\u5c3d\u91cf\u6539\u5199\u4e3a JOIN\u3002\r\nDERIVED\uff1a\u6d3e\u751f\u8868\uff08FROM \u5b50\u53e5\u4e2d\u7684\u5b50\u67e5\u8be2\uff09\u3002\u9700\u8981\u51cf\u5c11\u6d3e\u751f\u8868\u6570\u636e\u91cf\uff0c\u6216\u7269\u5316\u4e3a\u4e34\u65f6\u8868\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u2462\u3001table \u5217\uff1a\u67e5\u7684\u54ea\u4e2a\u8868\u3002"}),"\n",(0,i.jsx)(n.p,{children:"derivedN\uff1a\u8868\u793a\u6d3e\u751f\u8868\uff08N \u5bf9\u5e94 id\uff09\u3002\r\nunionNM,N\uff1a\u8868\u793a UNION \u5408\u5e76\u7684\u7ed3\u679c\uff08M\u3001N \u4e3a\u53c2\u4e0e UNION \u7684 id\uff09\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u2463\u3001type \u5217\uff1a\u8868\u793a MySQL \u5728\u8868\u4e2d\u627e\u5230\u6240\u9700\u884c\u7684\u65b9\u5f0f\u3002"}),"\n",(0,i.jsxs)(n.p,{children:["system\uff0c\u8868\u4ec5\u6709\u4e00\u884c\uff08\u7cfb\u7edf\u8868\u6216\u884d\u751f\u8868\uff09\uff0c\u65e0\u9700\u4f18\u5316\u3002\r\nconst\uff1a\u901a\u8fc7\u4e3b\u952e\u6216\u552f\u4e00\u7d22\u5f15\u627e\u5230\u4e00\u884c\uff08\u5982 WHERE id = 1\uff09\u3002\u7406\u60f3\u60c5\u51b5\u3002\r\neq_ref\uff1a\u5bf9\u4e3b\u952e/\u552f\u4e00\u7d22\u5f15 JOIN \u5339\u914d\uff08\u5982 A JOIN B ON A.id = B.id\uff09\u3002\u786e\u4fdd JOIN \u5b57\u6bb5\u6709\u7d22\u5f15\u3002\r\nref\uff1a\u975e\u552f\u4e00\u7d22\u5f15\u5339\u914d\uff08\u5982 WHERE name = '\u738b\u4e8c'\uff0cname \u6709\u666e\u901a\u7d22\u5f15\uff09\u3002\r\nrange\uff1a\u53ea\u68c0\u7d22\u7ed9\u5b9a\u8303\u56f4\u7684\u884c\uff0c\u4f7f\u7528\u7d22\u5f15\u6765\u68c0\u7d22\u3002\u5728where\u8bed\u53e5\u4e2d\u4f7f\u7528 ",(0,i.jsx)(n.code,{children:"bettween...and\u3001<\u3001>\u3001<=\u3001in"})," \u7b49\u6761\u4ef6\u67e5\u8be2 type \u90fd\u662f range\u3002\r\nindex\uff1a\u5168\u7d22\u5f15\u626b\u63cf\uff0c\u5982\u679c\u4e0d\u9700\u8981\u56de\u8868\uff0c\u53ef\u63a5\u53d7\uff1b\u5426\u5219\u8003\u8651\u8986\u76d6\u7d22\u5f15\u3002\r\nALL\uff1a\u5168\u8868\u626b\u63cf\uff0c\u6548\u7387\u6700\u4f4e\u3002"]}),"\n",(0,i.jsx)(n.p,{children:"\u2464\u3001possible_keys \u5217\uff1a\u53ef\u80fd\u4f1a\u7528\u5230\u7684\u7d22\u5f15\uff0c\u4f46\u5e76\u4e0d\u4e00\u5b9a\u5b9e\u9645\u88ab\u4f7f\u7528\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u2465\u3001key \u5217\uff1a\u5b9e\u9645\u4f7f\u7528\u7684\u7d22\u5f15\u3002\u5982\u679c\u4e3a NULL\uff0c\u5219\u6ca1\u6709\u4f7f\u7528\u7d22\u5f15\u3002\u5982\u679c\u4e3a PRIMARY\uff0c\u5219\u4f7f\u7528\u4e86\u4e3b\u952e\u7d22\u5f15\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u2466\u3001key_len \u5217\uff1a\u4f7f\u7528\u7684\u7d22\u5f15\u5b57\u8282\u6570\uff0c\u53cd\u6620\u7d22\u5f15\u5217\u7684\u5229\u7528\u7387\u3002\u4f7f\u7528\u8054\u5408\u7d22\u5f15 (a, b)\uff0ckey_len \u662f a \u548c b \u7684\u5b57\u8282\u603b\u548c\uff08\u4ec5\u5f53\u67e5\u8be2\u6761\u4ef6\u7528\u5230 a \u6216 a+b \u65f6\u6709\u6548\uff09\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u2467\u3001ref \u5217\uff1a\u4e0e\u7d22\u5f15\u5217\u6bd4\u8f83\u7684\u503c\u6216\u5217\u3002"}),"\n",(0,i.jsx)(n.p,{children:"const\uff1a\u5e38\u91cf\u3002\u4f8b\u5982 WHERE column = 'value'\u3002\r\nfunc\uff1a\u51fd\u6570\u3002\u4f8b\u5982 WHERE column = func(column)\u3002\r\n\u2468\u3001rows \u5217\uff1a\u4f18\u5316\u5668\u4f30\u7b97\u7684\u9700\u8981\u626b\u63cf\u7684\u884c\u6570\u3002\u6570\u503c\u8d8a\u5c0f\u8d8a\u597d\uff0c\u82e5\u4e0e\u5b9e\u9645\u5dee\u8ddd\u5927\uff0c\u53ef\u80fd\u7edf\u8ba1\u4fe1\u606f\u8fc7\u671f\uff08\u9700 ANALYZE TABLE\uff09\u3002\u7ed3\u5408 filtered \u5b57\u6bb5\u53ef\u4ee5\u8ba1\u7b97\u6700\u7ec8\u8fd4\u56de\u884c\u6570\uff08rows \xd7 filtered\uff09\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u2469\u3001Extra \u5217\uff1a\u9644\u52a0\u4fe1\u606f\u3002"}),"\n",(0,i.jsx)(n.p,{children:"Using index\uff1a\u8986\u76d6\u7d22\u5f15\uff0c\u65e0\u9700\u56de\u8868\u3002\r\nUsing where\uff1a\u5b58\u50a8\u5f15\u64ce\u8fd4\u56de\u7ed3\u679c\u540e\uff0cServer \u5c42\u9700\u8981\u518d\u6b21\u8fc7\u6ee4\uff08\u6761\u4ef6\u672a\u5b8c\u5168\u4e0b\u63a8\uff09\u3002\r\nUsing temporary \uff1a\u4f7f\u7528\u4e34\u65f6\u8868\uff08\u5e38\u89c1\u4e8e GROUP BY\u3001DISTINCT\uff09\u3002\r\nUsing filesort\uff1a\u6587\u4ef6\u6392\u5e8f\uff08\u5e38\u89c1\u4e8e ORDER BY\uff09\u3002\u8003\u8651\u4e3a ORDER BY \u5b57\u6bb5\u6dfb\u52a0\u7d22\u5f15\u3002\r\nSelect tables optimized away\uff1a\u4f18\u5316\u5668\u5df2\u4f18\u5316\uff08\u5982 COUNT(*) \u901a\u8fc7\u7d22\u5f15\u76f4\u63a5\u7edf\u8ba1\uff09\u3002\r\nUsing join buffer\uff1a\u4f7f\u7528\u8fde\u63a5\u7f13\u51b2\u533a\uff08Block Nested Loop \u6216 Hash Join\uff09\u3002\u8003\u8651\u589e\u5927 join_buffer_size\u3002\r\n----\u8fd9\u90e8\u5206\u662f\u5e2e\u52a9\u5927\u5bb6\u7406\u89e3 end\uff0c\u9762\u8bd5\u4e2d\u53ef\u4e0d\u80cc----"}),"\n",(0,i.jsx)(n.h3,{id:"type\u7684\u6267\u884c\u6548\u7387\u7b49\u7ea7\u8fbe\u5230\u4ec0\u4e48\u7ea7\u522b\u6bd4\u8f83\u5408\u9002",children:"type\u7684\u6267\u884c\u6548\u7387\u7b49\u7ea7\uff0c\u8fbe\u5230\u4ec0\u4e48\u7ea7\u522b\u6bd4\u8f83\u5408\u9002\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u4ece\u9ad8\u5230\u4f4e\u7684\u6548\u7387\u6392\u5e8f\u662f system\u3001const\u3001eq_ref\u3001ref\u3001range\u3001index \u548c ALL\u3002\r\n\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u5efa\u8bae type \u503c\u8fbe\u5230 const\u3001eq_ref \u6216 ref\uff0c\u56e0\u4e3a\u8fd9\u4e9b\u7c7b\u578b\u8868\u660e\u67e5\u8be2\u4f7f\u7528\u4e86\u7d22\u5f15\uff0c\u6548\u7387\u8f83\u9ad8\u3002\r\n\u5982\u679c\u662f\u8303\u56f4\u67e5\u8be2\uff0crange \u7c7b\u578b\u4e5f\u662f\u53ef\u4ee5\u63a5\u53d7\u7684\u3002\r\nALL \u7c7b\u578b\u8868\u793a\u5168\u8868\u626b\u63cf\uff0c\u6027\u80fd\u6700\u5dee\uff0c\u5f80\u5f80\u4e0d\u53ef\u63a5\u53d7\uff0c\u9700\u8981\u4f18\u5316\u3002"}),"\n",(0,i.jsx)(n.h2,{id:"\u7d22\u5f15",children:"\u7d22\u5f15"}),"\n",(0,i.jsx)(n.h3,{id:"\u7d22\u5f15\u4e3a\u4ec0\u4e48\u80fd\u63d0\u9ad8mysql\u67e5\u8be2\u6548\u7387",children:"\ud83c\udf1f\u7d22\u5f15\u4e3a\u4ec0\u4e48\u80fd\u63d0\u9ad8MySQL\u67e5\u8be2\u6548\u7387\uff1f"}),"\n",(0,i.jsxs)(n.p,{children:["\u7d22\u5f15\u5c31\u50cf\u4e00\u672c\u4e66\u7684\u76ee\u5f55\uff0c\u80fd\u8ba9 MySQL \u5feb\u901f\u5b9a\u4f4d\u6570\u636e\uff0c\u907f\u514d\u5168\u8868\u626b\u63cf\u3002\r\n\u5b83\u4e00\u822c\u662f B+ \u6811\u7ed3\u6784\uff0c\u67e5\u627e\u6548\u7387\u662f O(log n)\uff0c\u6bd4\u4ece\u5934\u5230\u5c3e\u626b\u4e00\u904d\u6570\u636e\u8981\u5feb\u5f97\u591a\u3002\r\n",(0,i.jsx)(n.img,{alt:"img_2.png",src:r(62205).A+"",width:"1620",height:"1032"}),"\r\n\u9664\u4e86\u67e5\u5f97\u5feb\uff0c\u7d22\u5f15\u8fd8\u80fd\u52a0\u901f\u6392\u5e8f\u3001\u5206\u7ec4\u3001\u8fde\u63a5\u7b49\u64cd\u4f5c\u3002"]}),"\n",(0,i.jsx)(n.h3,{id:"\u80fd\u7b80\u5355\u8bf4\u4e00\u4e0b\u7d22\u5f15\u7684\u5206\u7c7b\u5417",children:"\ud83c\udf1f\u80fd\u7b80\u5355\u8bf4\u4e00\u4e0b\u7d22\u5f15\u7684\u5206\u7c7b\u5417\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u4ece\u529f\u80fd\u4e0a\u5206\u7c7b\u7684\u8bdd\uff0c\u6709\u4e3b\u952e\u7d22\u5f15\u3001\u552f\u4e00\u7d22\u5f15\u3001\u5168\u6587\u7d22\u5f15\uff1b\r\n\u4ece\u6570\u636e\u7ed3\u6784\u4e0a\u5206\u7c7b\u7684\u8bdd\uff0c\u6709 B+ \u6811\u7d22\u5f15\u3001\u54c8\u5e0c\u7d22\u5f15\uff1b\r\n\u4ece\u5b58\u50a8\u5185\u5bb9\u4e0a\u5206\u7c7b\u7684\u8bdd\uff0c\u6709\u805a\u7c07\u7d22\u5f15\u3001\u975e\u805a\u7c07\u7d22\u5f15\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u4f60\u5bf9\u4e3b\u952e\u7d22\u5f15\u4e86\u89e3\u591a\u5c11",children:"\u4f60\u5bf9\u4e3b\u952e\u7d22\u5f15\u4e86\u89e3\u591a\u5c11\uff1f"}),"\n",(0,i.jsxs)(n.p,{children:["\u4e3b\u952e\u7d22\u5f15\u7528\u4e8e\u552f\u4e00\u6807\u8bc6\u8868\u4e2d\u7684\u6bcf\u6761\u8bb0\u5f55\uff0c\u5176\u5217\u503c\u5fc5\u987b\u552f\u4e00\u4e14\u975e\u7a7a\u3002\u521b\u5efa\u4e3b\u952e\u65f6\uff0cMySQL \u4f1a\u81ea\u52a8\u751f\u6210\u5bf9\u5e94\u7684\u552f\u4e00\u7d22\u5f15\u3002\r\n",(0,i.jsx)(n.img,{alt:"img_3.png",src:r(41076).A+"",width:"1642",height:"538"}),"\r\n\u6bcf\u4e2a\u8868\u53ea\u80fd\u6709\u4e00\u4e2a\u4e3b\u952e\u7d22\u5f15\uff0c\u4e00\u822c\u662f\u8868\u4e2d\u7684\u81ea\u589e id \u5b57\u6bb5\u3002"]}),"\n",(0,i.jsx)(n.h3,{id:"\u552f\u4e00\u7d22\u5f15\u548c\u4e3b\u952e\u7d22\u5f15\u6709\u4ec0\u4e48\u533a\u522b",children:"\u552f\u4e00\u7d22\u5f15\u548c\u4e3b\u952e\u7d22\u5f15\u6709\u4ec0\u4e48\u533a\u522b\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u4e3b\u952e\u7d22\u5f15=\u552f\u4e00\u7d22\u5f15+\u975e\u7a7a\u3002\u6bcf\u4e2a\u8868\u53ea\u80fd\u6709\u4e00\u4e2a\u4e3b\u952e\u7d22\u5f15\uff0c\u4f46\u53ef\u4ee5\u6709\u591a\u4e2a\u552f\u4e00\u7d22\u5f15\u3002\r\n\u4e3b\u952e\u7d22\u5f15\u4e0d\u5141\u8bb8\u63d2\u5165 NULL \u503c\uff0c\u5c1d\u8bd5\u63d2\u5165 NULL \u4f1a\u62a5\u9519\uff1b\u552f\u4e00\u7d22\u5f15\u5141\u8bb8\u63d2\u5165\u591a\u4e2a NULL \u503c\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"unique-key-\u548c-unique-index-\u6709\u4ec0\u4e48\u533a\u522b",children:"unique key \u548c unique index \u6709\u4ec0\u4e48\u533a\u522b\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u521b\u5efa\u552f\u4e00\u952e\u65f6\uff0cMySQL \u4f1a\u81ea\u52a8\u751f\u6210\u4e00\u4e2a\u540c\u540d\u7684\u552f\u4e00\u7d22\u5f15\uff1b\u53cd\u4e4b\uff0c\u521b\u5efa\u552f\u4e00\u7d22\u5f15\u4e5f\u4f1a\u9690\u5f0f\u6dfb\u52a0\u552f\u4e00\u6027\u7ea6\u675f\u3002\r\n\u53ef\u901a\u8fc7 UNIQUE KEY uk_name \u5b9a\u4e49\u6216\u8005 CONSTRAINT uk_name UNIQUE \u5b9a\u4e49\u552f\u4e00\u952e\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u666e\u901a\u7d22\u5f15\u548c\u552f\u4e00\u7d22\u5f15\u6709\u4ec0\u4e48\u533a\u522b",children:"\u666e\u901a\u7d22\u5f15\u548c\u552f\u4e00\u7d22\u5f15\u6709\u4ec0\u4e48\u533a\u522b\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u666e\u901a\u7d22\u5f15\u4ec5\u7528\u4e8e\u52a0\u901f\u67e5\u8be2\uff0c\u4e0d\u9650\u5236\u5b57\u6bb5\u503c\u7684\u552f\u4e00\u6027\uff1b\u9002\u7528\u4e8e\u9ad8\u9891\u5199\u5165\u7684\u5b57\u6bb5\u3001\u8303\u56f4\u67e5\u8be2\u7684\u5b57\u6bb5\u3002\r\n\u552f\u4e00\u7d22\u5f15\u5f3a\u5236\u5b57\u6bb5\u503c\u7684\u552f\u4e00\u6027\uff0c\u63d2\u5165\u6216\u66f4\u65b0\u65f6\u4f1a\u89e6\u53d1\u552f\u4e00\u6027\u68c0\u67e5\uff1b\u9002\u7528\u4e8e\u4e1a\u52a1\u552f\u4e00\u6027\u7ea6\u675f\u7684\u5b57\u6bb5\u3001\u9632\u6b62\u6570\u636e\u91cd\u590d\u63d2\u5165\u7684\u5b57\u6bb5\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u4f60\u5bf9\u5168\u6587\u7d22\u5f15\u4e86\u89e3\u591a\u5c11",children:"\u4f60\u5bf9\u5168\u6587\u7d22\u5f15\u4e86\u89e3\u591a\u5c11\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u6587\u7d22\u5f15\u662f MySQL \u4e00\u79cd\u4f18\u5316\u6587\u672c\u6570\u636e\u68c0\u7d22\u7684\u7279\u6b8a\u7c7b\u578b\u7d22\u5f15\uff0c\u9002\u7528\u4e8e CHAR\u3001VARCHAR \u548c TEXT \u7b49\u5b57\u6bb5\u3002"}),"\n",(0,i.jsx)(n.p,{children:"MySQL 5.7 \u53ca\u4ee5\u4e0a\u7248\u672c\u5185\u7f6e\u4e86 ngram \u89e3\u6790\u5668\uff0c\u53ef\u5904\u7406\u4e2d\u6587\u3001\u65e5\u6587\u548c\u97e9\u6587\u7b49\u5206\u8bcd\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u5efa\u8868\u65f6\u901a\u8fc7 FULLTEXT (title, body) \u6765\u5b9a\u4e49\u3002\u901a\u8fc7 MATCH(col1, col2) AGAINST('keyword') \u8fdb\u884c\u68c0\u7d22\uff0c\u9ed8\u8ba4\u6309\u7167\u964d\u5e8f\u8fd4\u56de\u7ed3\u679c\uff0c\u652f\u6301\u5e03\u5c14\u6a21\u5f0f\u67e5\u8be2\u3002"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u8868\u793a\u5fc5\u987b\u5305\u542b\uff1b"}),"\n"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u8868\u793a\u6392\u9664\uff1b"}),"\n"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u8868\u793a\u901a\u914d\u7b26\uff1b\r\n\u5e95\u5c42\u4f7f\u7528\u5012\u6392\u7d22\u5f15\u5c06\u5b57\u6bb5\u4e2d\u7684\u6587\u672c\u5185\u5bb9\u8fdb\u884c\u5206\u8bcd\uff0c\u7136\u540e\u5efa\u7acb\u4e00\u4e2a\u5012\u6392\u8868\u3002\u6027\u80fd\u6bd4 LIKE '%keyword%' \u9ad8\u5f88\u591a\u3002"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"---- \u8fd9\u90e8\u5206\u662f\u5e2e\u52a9\u5927\u5bb6\u7406\u89e3 start\uff0c\u9762\u8bd5\u4e2d\u53ef\u4e0d\u80cc ----"}),"\n",(0,i.jsx)(n.p,{children:"\u5012\u6392\u7d22\u5f15\u901a\u8fc7\u4e00\u4e2a\u8f85\u52a9\u8868\u5b58\u50a8\u5355\u8bcd\u4e0e\u5355\u8bcd\u81ea\u8eab\u5728\u4e00\u4e2a\u6216\u591a\u4e2a\u6587\u6863\u4e2d\u6240\u5728\u4f4d\u7f6e\u4e4b\u95f4\u7684\u6620\u5c04\uff0c\u901a\u5e38\u91c7\u7528\u5173\u8054\u6570\u7ec4\u5b9e\u73b0\u3002"}),"\n",(0,i.jsxs)(n.p,{children:["\u6709\u4e24\u79cd\u8868\u73b0\u5f62\u5f0f\uff1a",(0,i.jsx)(n.code,{children:"inverted file index\uff08{\u5355\u8bcd\uff0c\u5355\u8bcd\u6240\u5728\u6587\u6863\u7684ID}\uff09\u548cfull inverted index\uff08{\u5355\u8bcd\uff0c(\u5355\u8bcd\u6240\u5728\u6587\u6863\u7684ID\uff0c\u5728\u5177\u4f53\u6587\u6863\u4e2d\u7684\u4f4d\u7f6e)}\uff09"}),"\r\n\u6bd4\u5982\u6709\u8fd9\u6837\u4e00\u4e2a\u6587\u6863\uff1a"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:" DocumentId  Text  \r\n1          Pease porridge hot, pease porridge cold  \r\n2          Pease porridge in the pot  \r\n3          Nine days old  \r\n4          Some like it hot, some like it cold  \r\n5          Some like it in the pot  \r\n6          Nine days old\n"})}),"\n",(0,i.jsx)(n.p,{children:"inverted file index \u7684\u5173\u8054\u6570\u7ec4\u5b58\u50a8\u5f62\u5f0f\u4e3a\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:"days \u2192 3,6  \r\nold \u2192 3,6  \r\npease \u2192 1,2  \r\nporridge \u2192 1,2  \n"})}),"\n",(0,i.jsx)(n.p,{children:"full inverted index \u66f4\u52a0\u8be6\u7ec6\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:"days \u2192 (3:5),(6:5)  \r\nold \u2192 (3:11),(6:11)  \r\npease \u2192 (1:1),(1:7),(2:1)  \r\nporridge \u2192 (1:7),(2:7)  \n"})}),"\n",(0,i.jsx)(n.p,{children:"full inverted index \u4e0d\u4ec5\u5b58\u50a8\u4e86\u6587\u6863 ID\uff0c\u8fd8\u5b58\u50a8\u4e86\u5355\u8bcd\u5728\u6587\u6863\u4e2d\u7684\u5177\u4f53\u4f4d\u7f6e\u3002"}),"\n",(0,i.jsx)(n.p,{children:"InnoDB \u91c7\u7528\u7684\u662f full inverted index \u7684\u65b9\u5f0f\u5b9e\u73b0\u5168\u6587\u7d22\u5f15\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u5982\u679c\u9700\u8981\u5904\u7406\u4e2d\u6587\u5206\u8bcd\u7684\u8bdd\uff0c\u4e00\u5b9a\u8981\u8bb0\u5f97\u52a0\u4e0a WITH PARSER ngram\uff0c\u5426\u5219\u53ef\u80fd\u67e5\u4e0d\u51fa\u6765\u6570\u636e\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u521b\u5efa\u7d22\u5f15\u6709\u54ea\u4e9b\u6ce8\u610f\u70b9",children:"\ud83c\udf1f\u521b\u5efa\u7d22\u5f15\u6709\u54ea\u4e9b\u6ce8\u610f\u70b9\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u7b2c\u4e00\uff0c\u9009\u62e9\u5408\u9002\u7684\u5b57\u6bb5"}),"\n",(0,i.jsx)(n.p,{children:"\u6bd4\u5982\u8bf4\u9891\u7e41\u51fa\u73b0\u5728 WHERE\u3001JOIN\u3001ORDER BY\u3001GROUP BY \u4e2d\u7684\u5b57\u6bb5\u3002\r\n\u4f18\u5148\u9009\u62e9\u533a\u5206\u5ea6\u9ad8\u7684\u5b57\u6bb5\uff0c\u6bd4\u5982\u7528\u6237 ID\u3001\u624b\u673a\u53f7\u7b49\u552f\u4e00\u503c\u591a\u7684\uff0c\u800c\u4e0d\u662f\u6027\u522b\u3001\u72b6\u6001\u7b49\u533a\u5206\u5ea6\u6781\u4f4e\u7684\u5b57\u6bb5\uff0c\u5982\u679c\u771f\u7684\u9700\u8981\uff0c\u53ef\u4ee5\u8003\u8651\u8054\u5408\u7d22\u5f15\u3002\r\n\u7b2c\u4e8c\uff0c\u8981\u63a7\u5236\u7d22\u5f15\u7684\u6570\u91cf\uff0c\u907f\u514d\u8fc7\u5ea6\u7d22\u5f15\uff0c\u6bcf\u4e2a\u7d22\u5f15\u90fd\u8981\u5360\u7528\u5b58\u50a8\u7a7a\u95f4\uff0c\u5355\u8868\u7684\u7d22\u5f15\u6570\u91cf\u4e0d\u5efa\u8bae\u8d85\u8fc7 5 \u4e2a\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u8981\u5b9a\u671f\u901a\u8fc7 SHOW INDEX FROM table_name \u67e5\u770b\u7d22\u5f15\u7684\u4f7f\u7528\u60c5\u51b5\uff0c\u5220\u9664\u4e0d\u5fc5\u8981\u7684\u7d22\u5f15\u3002\u6bd4\u5982\u8bf4\u5df2\u7ecf\u6709\u8054\u5408\u7d22\u5f15 (a, b)\uff0c\u5355\u7d22\u5f15\uff08a\uff09\u5c31\u662f\u5197\u4f59\u7684\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u7b2c\u4e09\uff0c\u8054\u5408\u7d22\u5f15\u7684\u65f6\u5019\u8981\u9075\u5faa\u6700\u5de6\u524d\u7f00\u539f\u5219\uff0c\u5373\u5728\u67e5\u8be2\u6761\u4ef6\u4e2d\u4f7f\u7528\u8054\u5408\u7d22\u5f15\u7684\u7b2c\u4e00\u4e2a\u5b57\u6bb5\uff0c\u624d\u80fd\u5145\u5206\u5229\u7528\u7d22\u5f15\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u6bd4\u5982\u8bf4\u8054\u5408\u7d22\u5f15 (A, B, C) \u53ef\u652f\u6301 A\u3001A+B\u3001A+B+C \u7684\u67e5\u8be2\uff0c\u4f46\u65e0\u6cd5\u652f\u6301 B \u6216 C \u7684\u5355\u72ec\u67e5\u8be2\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u533a\u5206\u5ea6\u9ad8\u7684\u5b57\u6bb5\u653e\u5728\u5de6\u4fa7\uff0c\u7b49\u503c\u67e5\u8be2\u7684\u5b57\u6bb5\u4f18\u5148\u4e8e\u8303\u56f4\u67e5\u8be2\u7684\u5b57\u6bb5\u3002\u4f8b\u5982 WHERE A=1 AND B>10 AND C=2\uff0c\u4f18\u5148 (A, C, B)\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u5982\u679c\u8054\u5408\u7d22\u5f15\u5305\u542b\u67e5\u8be2\u7684\u6240\u9700\u5b57\u6bb5\uff0c\u8fd8\u53ef\u4ee5\u907f\u514d\u56de\u8868\uff0c\u63d0\u9ad8\u67e5\u8be2\u6548\u7387\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u7d22\u5f15\u54ea\u4e9b\u60c5\u51b5\u4e0b\u4f1a\u5931\u6548\u5462",children:"\ud83c\udf1f\u7d22\u5f15\u54ea\u4e9b\u60c5\u51b5\u4e0b\u4f1a\u5931\u6548\u5462\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u7b80\u7248\uff1a\u6bd4\u5982\u7d22\u5f15\u5217\u4f7f\u7528\u4e86\u51fd\u6570\u3001\u4f7f\u7528\u4e86\u901a\u914d\u7b26\u5f00\u5934\u7684\u6a21\u7cca\u67e5\u8be2\u3001\u8054\u5408\u7d22\u5f15\u4e0d\u6ee1\u8db3\u6700\u5de6\u524d\u7f00\u539f\u5219\uff0c\u6216\u8005\u4f7f\u7528 or \u7684\u65f6\u5019\u90e8\u5206\u5b57\u6bb5\u65e0\u7d22\u5f15\u7b49\u3002"}),"\n",(0,i.jsxs)(n.p,{children:["\u7b2c\u4e00\uff0c\u5bf9\u7d22\u5f15\u5217\u4f7f\u7528\u51fd\u6570\u6216\u8868\u8fbe\u5f0f\u4f1a\u5bfc\u81f4\u7d22\u5f15\u5931\u6548\u3002\r\n\u7b2c\u4e8c\uff0cLIKE \u6a21\u7cca\u67e5\u8be2\u4ee5\u901a\u914d\u7b26\u5f00\u5934\u4f1a\u5bfc\u81f4\u7d22\u5f15\u5931\u6548\u3002\r\n\u7b2c\u4e09\uff0c\u8054\u5408\u7d22\u5f15\u8fdd\u53cd\u4e86\u6700\u5de6\u524d\u7f00\u539f\u5219\uff0c\u7d22\u5f15\u4f1a\u5931\u6548\u3002\r\n\u8054\u5408\u7d22\u5f15\uff0c\u4f46 WHERE \u4e0d\u6ee1\u8db3\u6700\u5de6\u524d\u7f00\u539f\u5219\uff0c\u7d22\u5f15\u65e0\u6cd5\u8d77\u6548\u3002\u4f8b\u5982\uff1aSELECT * FROM table WHERE column2 = 2\uff0c\u8054\u5408\u7d22\u5f15\u4e3a (column1, column2)\u3002\r\n\u7b2c\u56db\uff0c\u4f7f\u7528 OR \u8fde\u63a5\u975e\u7d22\u5f15\u5217\u6761\u4ef6\uff0c\u4f1a\u5bfc\u81f4\u7d22\u5f15\u5931\u6548\r\n\u7b2c\u4e94\uff0c\u4f7f\u7528 != \u6216 ",(0,i.jsx)(n.code,{children:"<>"})," \u4e0d\u7b49\u503c\u67e5\u8be2\u4f1a\u5bfc\u81f4\u7d22\u5f15\u5931\u6548\u3002"]}),"\n",(0,i.jsx)(n.h4,{id:"\u4ec0\u4e48\u60c5\u51b5\u4e0b\u6a21\u7cca\u67e5\u8be2\u4e0d\u8d70\u7d22\u5f15",children:"\u4ec0\u4e48\u60c5\u51b5\u4e0b\u6a21\u7cca\u67e5\u8be2\u4e0d\u8d70\u7d22\u5f15\uff1f"}),"\n",(0,i.jsx)(n.h3,{id:"\u7d22\u5f15\u4e0d\u9002\u5408\u54ea\u4e9b\u573a\u666f\u5462",children:"\u7d22\u5f15\u4e0d\u9002\u5408\u54ea\u4e9b\u573a\u666f\u5462\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u7b2c\u4e00\uff0c\u533a\u5206\u5ea6\u4f4e\u7684\u5217\uff0c\u53ef\u4ee5\u548c\u5176\u4ed6\u9ad8\u533a\u5206\u5ea6\u7684\u5217\u7ec4\u6210\u8054\u5408\u7d22\u5f15\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u7b2c\u4e8c\uff0c\u9891\u7e41\u66f4\u65b0\u7684\u5217\uff0c\u7d22\u5f15\u4f1a\u589e\u52a0\u66f4\u65b0\u7684\u6210\u672c\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u7b2c\u4e09\uff0cTEXT\u3001BLOB \u7b49\u5927\u5bf9\u8c61\u7c7b\u578b\u7684\u5b57\u6bb5\uff0c\u53ef\u4ee5\u4f7f\u7528\u524d\u7f00\u7d22\u5f15\u3001\u5168\u6587\u7d22\u5f15\u66ff\u4ee3\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u7b2c\u56db\uff0c\u5f53\u8868\u7684\u6570\u636e\u91cf\u5f88\u5c0f\u7684\u65f6\u5019\uff0c\u4e0d\u8d85\u8fc7 1000 \u884c\uff0c\u5168\u8868\u626b\u63cf\u53ef\u80fd\u6bd4\u4f7f\u7528\u7d22\u5f15\u66f4\u5feb\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u6027\u522b\u5b57\u6bb5\u8981\u5efa\u7acb\u7d22\u5f15\u5417",children:"\u6027\u522b\u5b57\u6bb5\u8981\u5efa\u7acb\u7d22\u5f15\u5417\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u6027\u522b\u5b57\u6bb5\u4e0d\u9002\u5408\u5efa\u7acb\u5355\u72ec\u7d22\u5f15\u3002\u56e0\u4e3a\u6027\u522b\u5b57\u6bb5\u7684\u533a\u5206\u5ea6\u5f88\u4f4e\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u5982\u679c\u6027\u522b\u5b57\u6bb5\u786e\u5b9e\u7ecf\u5e38\u7528\u4e8e\u67e5\u8be2\u6761\u4ef6\uff0c\u6570\u636e\u89c4\u6a21\u4e5f\u6bd4\u8f83\u5927\uff0c\u53ef\u4ee5\u5c06\u6027\u522b\u5b57\u6bb5\u4f5c\u4e3a\u8054\u5408\u7d22\u5f15\u7684\u4e00\u90e8\u5206\uff0c\u4e0e\u533a\u5206\u5ea6\u9ad8\u7684\u5b57\u6bb5\u4e00\u8d77\uff0c\u6548\u679c\u4f1a\u597d\u5f88\u591a\u3002"}),"\n",(0,i.jsx)(n.h4,{id:"\u4ec0\u4e48\u662f\u533a\u5206\u5ea6",children:"\u4ec0\u4e48\u662f\u533a\u5206\u5ea6\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u533a\u5206\u5ea6\u662f\u8861\u91cf\u4e00\u4e2a\u5b57\u6bb5\u5728 MySQL \u8868\u4e2d\u552f\u4e00\u503c\u7684\u6bd4\u4f8b\u3002\r\n\u533a\u5206\u5ea6 = \u5b57\u6bb5\u7684\u552f\u4e00\u503c\u6570\u91cf / \u5b57\u6bb5\u7684\u603b\u8bb0\u5f55\u6570\uff1b\u8d8a\u63a5\u8fd1 1\uff0c\u5c31\u8d8a\u9002\u5408\u4f5c\u4e3a\u7d22\u5f15\u3002\u56e0\u4e3a\u7d22\u5f15\u53ef\u4ee5\u66f4\u6709\u6548\u5730\u7f29\u5c0f\u67e5\u8be2\u8303\u56f4\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u4f8b\u5982\uff0c\u4e00\u4e2a\u8868\u4e2d\u6709 1000 \u6761\u8bb0\u5f55\uff0c\u5176\u4e2d\u6027\u522b\u5b57\u6bb5\u53ea\u6709\u4e24\u4e2a\u503c\uff08\u7537\u3001\u5973\uff09\uff0c\u90a3\u4e48\u6027\u522b\u5b57\u6bb5\u7684\u533a\u5206\u5ea6\u53ea\u6709 0.002\uff0c\u5c31\u4e0d\u9002\u5408\u5efa\u7acb\u7d22\u5f15\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u4ec0\u4e48\u6837\u7684\u5b57\u6bb5\u9002\u5408\u52a0\u7d22\u5f15",children:"\u4ec0\u4e48\u6837\u7684\u5b57\u6bb5\u9002\u5408\u52a0\u7d22\u5f15\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u4e00\u822c\u6765\u8bf4\uff0c\u4e3b\u952e\u3001\u552f\u4e00\u952e\u3001\u4ee5\u53ca\u7ecf\u5e38\u4f5c\u4e3a\u67e5\u8be2\u6761\u4ef6\u7684\u5b57\u6bb5\u6700\u9002\u5408\u52a0\u7d22\u5f15\u3002\u9664\u6b64\u4e4b\u5916\uff0c\u5b57\u6bb5\u7684\u533a\u5206\u5ea6\u8981\u9ad8\uff0c\u8fd9\u6837\u7d22\u5f15\u624d\u80fd\u8d77\u5230\u8fc7\u6ee4\u4f5c\u7528\uff1b\u5982\u679c\u5b57\u6bb5\u7ecf\u5e38\u7528\u4e8e\u8868\u8fde\u63a5\u3001\u6392\u5e8f\u6216\u5206\u7ec4\uff0c\u4e5f\u5efa\u8bae\u52a0\u7d22\u5f15\u3002\u540c\u65f6\u5982\u679c\u591a\u4e2a\u5b57\u6bb5\u7ecf\u5e38\u4e00\u8d77\u51fa\u73b0\u5728\u67e5\u8be2\u6761\u4ef6\u4e2d\uff0c\u4e5f\u53ef\u4ee5\u5efa\u7acb\u8054\u5408\u7d22\u5f15\u6765\u63d0\u5347\u6027\u80fd\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u7d22\u5f15\u662f\u4e0d\u662f\u5efa\u7684\u8d8a\u591a\u8d8a\u597d",children:"\u7d22\u5f15\u662f\u4e0d\u662f\u5efa\u7684\u8d8a\u591a\u8d8a\u597d\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u7d22\u5f15\u4e0d\u662f\u8d8a\u591a\u8d8a\u597d\u3002\u867d\u7136\u7d22\u5f15\u53ef\u4ee5\u52a0\u5feb\u67e5\u8be2\uff0c\u4f46\u4e5f\u4f1a\u5e26\u6765\u5199\u5165\u53d8\u6162\u3001\u5360\u7528\u66f4\u591a\u5b58\u50a8\u7a7a\u95f4\u3001\u751a\u81f3\u8ba9\u4f18\u5316\u5668\u9009\u9519\u7d22\u5f15\u7684\u98ce\u9669\u3002\r\n\u5355\u8868\u7d22\u5f15\u6570\u91cf\u5efa\u8bae\u4e0d\u8d85\u8fc7 5 \u4e2a\uff0cMySQL \u5b98\u65b9\u5efa\u8bae\u5355\u8868\u7d22\u5f15\u603b\u5b57\u6bb5\u6570 \u2264 \u8868\u5b57\u6bb5\u6570\u7684 30%\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u8bf4\u8bf4\u7d22\u5f15\u4f18\u5316\u7684\u601d\u8def",children:"\u8bf4\u8bf4\u7d22\u5f15\u4f18\u5316\u7684\u601d\u8def\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u5148\u901a\u8fc7\u6162\u67e5\u8be2\u65e5\u5fd7\u627e\u51fa\u6027\u80fd\u74f6\u9888\uff0c\u7136\u540e\u7528 EXPLAIN \u5206\u6790\u6267\u884c\u8ba1\u5212\uff0c\u5224\u65ad\u662f\u5426\u8d70\u4e86\u7d22\u5f15\u3001\u662f\u5426\u56de\u8868\u3001\u662f\u5426\u6392\u5e8f\u3002\u63a5\u7740\u6839\u636e\u5b57\u6bb5\u7279\u6027\u8bbe\u8ba1\u5408\u9002\u7684\u7d22\u5f15\uff0c\u5982\u9009\u62e9\u533a\u5206\u5ea6\u9ad8\u7684\u5b57\u6bb5\uff0c\u4f7f\u7528\u8054\u5408\u7d22\u5f15\u548c\u8986\u76d6\u7d22\u5f15\uff0c\u907f\u514d\u7d22\u5f15\u5931\u6548\u7684\u5199\u6cd5\uff0c\u6700\u540e\u901a\u8fc7\u5b9e\u6d4b\u6765\u9a8c\u8bc1\u4f18\u5316\u6548\u679c\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u4e3a\u4ec0\u4e48-innodb-\u8981\u4f7f\u7528-b\u6811\u4f5c\u4e3a\u7d22\u5f15",children:"\ud83c\udf1f\u4e3a\u4ec0\u4e48 InnoDB \u8981\u4f7f\u7528 B+\u6811\u4f5c\u4e3a\u7d22\u5f15\uff1f"}),"\n",(0,i.jsxs)(n.p,{children:["\u56e0\u4e3a B+ \u6811\u662f\u4e00\u79cd\u9ad8\u5ea6\u5e73\u8861\u7684\u591a\u8def\u67e5\u627e\u6811\uff0c\u80fd\u6709\u6548\u964d\u4f4e\u78c1\u76d8\u7684 IO \u6b21\u6570\uff0c\u5e76\u4e14\u652f\u6301\u6709\u5e8f\u904d\u5386\u548c\u8303\u56f4\u67e5\u8be2\u3002\r\n",(0,i.jsx)(n.img,{alt:"img_4.png",src:r(33067).A+"",width:"1080",height:"737"}),"\r\n\u67e5\u8be2\u6027\u80fd\u975e\u5e38\u9ad8\uff0c\u5176\u7ed3\u6784\u4e5f\u9002\u5408 MySQL \u6309\u7167\u9875\u4e3a\u5355\u4f4d\u5728\u78c1\u76d8\u4e0a\u5b58\u50a8\u3002"]}),"\n",(0,i.jsx)(n.p,{children:"\u50cf\u5176\u4ed6\u9009\u9879\uff0c\u6bd4\u5982\u8bf4\u54c8\u5e0c\u8868\u4e0d\u652f\u6301\u8303\u56f4\u67e5\u8be2\uff0c\u4e8c\u53c9\u6811\u5c42\u7ea7\u592a\u6df1\uff0cB \u6811\u53c8\u4e0d\u65b9\u4fbf\u8303\u56f4\u626b\u63cf\uff0c\u6240\u4ee5\u6700\u7ec8\u9009\u62e9\u4e86 B+ \u6811\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u518d\u6362\u4e00\u79cd\u56de\u7b54\uff1a"}),"\n",(0,i.jsx)(n.p,{children:"\u76f8\u6bd4\u54c8\u5e0c\u8868\uff1aB+ \u6811\u652f\u6301\u8303\u56f4\u67e5\u8be2\u548c\u6392\u5e8f\r\n\u76f8\u6bd4\u4e8c\u53c9\u6811\u548c\u7ea2\u9ed1\u6811\uff1aB+ \u6811\u66f4\u201c\u77ee\u80d6\u201d\uff0c\u5c42\u7ea7\u66f4\u5c11\uff0c\u78c1\u76d8 IO \u6b21\u6570\u66f4\u5c11\r\n\u76f8\u6bd4 B \u6811\uff1aB+ \u6811\u7684\u975e\u53f6\u5b50\u8282\u70b9\u53ea\u5b58\u50a8\u952e\u503c\uff0c\u53f6\u5b50\u8282\u70b9\u5b58\u50a8\u6570\u636e\u5e76\u901a\u8fc7\u94fe\u8868\u8fde\u63a5\uff0c\u652f\u6301\u8303\u56f4\u67e5\u8be2\r\n\u53e6\u5916\u4e00\u79cd\u56de\u7b54\u7248\u672c\uff1a"}),"\n",(0,i.jsx)(n.p,{children:"B+\u6811\u662f\u4e00\u79cd\u81ea\u5e73\u8861\u7684\u591a\u8def\u67e5\u627e\u6811\uff0c\u548c\u7ea2\u9ed1\u6811\u3001\u4e8c\u53c9\u5e73\u8861\u6811\u4e0d\u540c\uff0cB+\u6811\u7684\u6bcf\u4e2a\u8282\u70b9\u53ef\u4ee5\u6709 m \u4e2a\u5b50\u8282\u70b9\uff0c\u800c\u7ea2\u9ed1\u6811\u548c\u4e8c\u53c9\u5e73\u8861\u6811\u90fd\u53ea\u6709 2 \u4e2a\u3002"}),"\n",(0,i.jsxs)(n.p,{children:["\u53e6\u5916\uff0c\u548c B \u6811\u4e0d\u540c\uff0cB+\u6811\u7684\u975e\u53f6\u5b50\u8282\u70b9\u53ea\u5b58\u50a8\u952e\u503c\uff0c\u4e0d\u5b58\u50a8\u6570\u636e\uff0c\u800c\u53f6\u5b50\u8282\u70b9\u5b58\u50a8\u4e86\u6240\u6709\u7684\u6570\u636e\uff0c\u5e76\u4e14\u6784\u6210\u4e86\u4e00\u4e2a\u6709\u5e8f\u94fe\u8868\u3002\r\n",(0,i.jsx)(n.img,{alt:"img_5.png",src:r(69410).A+"",width:"1200",height:"530"}),"\r\n\u8fd9\u6837\u505a\u7684\u597d\u5904\u662f\uff0c\u975e\u53f6\u5b50\u8282\u70b9\u4e0a\u7531\u4e8e\u6ca1\u6709\u5b58\u50a8\u6570\u636e\uff0c\u5c31\u53ef\u4ee5\u5b58\u50a8\u66f4\u591a\u7684\u952e\u503c\u5bf9\uff0c\u518d\u52a0\u4e0a\u53f6\u5b50\u8282\u70b9\u6784\u6210\u4e86\u4e00\u4e2a\u6709\u5e8f\u94fe\u8868\uff0c\u8303\u56f4\u67e5\u8be2\u65f6\u5c31\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7\u53f6\u5b50\u8282\u70b9\u95f4\u7684\u6307\u9488\u987a\u5e8f\u8bbf\u95ee\u6574\u4e2a\u67e5\u8be2\u8303\u56f4\u5185\u7684\u6240\u6709\u8bb0\u5f55\uff0c\u800c\u65e0\u9700\u5bf9\u6811\u8fdb\u884c\u591a\u6b21\u904d\u5386\u3002\u67e5\u8be2\u7684\u6548\u7387\u6bd4 B \u6811\u66f4\u9ad8\u3002"]}),"\n",(0,i.jsx)(n.p,{children:"---- \u8fd9\u90e8\u5206\u662f\u5e2e\u52a9\u5927\u5bb6\u7406\u89e3 start\uff0c\u9762\u8bd5\u4e2d\u53ef\u4e0d\u80cc ----"}),"\n",(0,i.jsx)(n.p,{children:"\u5148\u8bf4\u8bf4 B \u6811\u3002"}),"\n",(0,i.jsx)(n.p,{children:"B \u6811\u662f\u4e00\u79cd\u81ea\u5e73\u8861\u7684\u591a\u8def\u67e5\u627e\u6811\uff0c\u548c\u7ea2\u9ed1\u6811\u3001\u4e8c\u53c9\u5e73\u8861\u6811\u4e0d\u540c\uff0cB \u6811\u7684\u6bcf\u4e2a\u8282\u70b9\u53ef\u4ee5\u6709 m \u4e2a\u5b50\u8282\u70b9\uff0c\u800c\u7ea2\u9ed1\u6811\u548c\u4e8c\u53c9\u5e73\u8861\u6811\u90fd\u53ea\u6709 2 \u4e2a\u3002"}),"\n",(0,i.jsxs)(n.p,{children:["\u6362\u53e5\u8bdd\u8bf4\uff0c\u7ea2\u9ed1\u6811\u3001\u4e8c\u53c9\u5e73\u8861\u6811\u662f\u7ec6\u9ad8\u4e2a\uff0c\u800c B \u6811\u662f\u77ee\u80d6\u5b50\u3002\r\n",(0,i.jsx)(n.img,{alt:"img_6.png",src:r(83417).A+"",width:"782",height:"314"}),"\r\n\u518d\u6765\u8bf4\u8bf4\u5185\u5b58\u548c\u78c1\u76d8\u7684 IO \u8bfb\u5199\u3002\r\n",(0,i.jsx)(n.img,{alt:"img_7.png",src:r(67664).A+"",width:"778",height:"256"}),"\r\n\u4e3a\u4e86\u63d0\u9ad8\u8bfb\u5199\u6548\u7387\uff0c\u4ece\u78c1\u76d8\u5f80\u5185\u5b58\u4e2d\u8bfb\u6570\u636e\u7684\u65f6\u5019\uff0c\u4e00\u6b21\u4f1a\u8bfb\u53d6\u81f3\u5c11\u4e00\u9875\u7684\u6570\u636e\uff0c\u5982\u679c\u4e0d\u6ee1\u4e00\u9875\uff0c\u4f1a\u518d\u591a\u8bfb\u70b9\u3002"]}),"\n",(0,i.jsx)(n.p,{children:"\u6bd4\u5982\u8bf4\u67e5\u8be2\u53ea\u9700\u8981\u8bfb\u53d6 2KB \u7684\u6570\u636e\uff0c\u4f46 MySQL \u5b9e\u9645\u4e0a\u4f1a\u8bfb\u53d6 4KB \u7684\u6570\u636e\uff0c\u4ee5\u88c5\u6ee1\u6574\u9875\u3002\u9875\u662f MySQL \u8fdb\u884c\u5185\u5b58\u548c\u78c1\u76d8\u4ea4\u4e92\u7684\u6700\u5c0f\u903b\u8f91\u5355\u5143\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u518d\u6bd4\u5982\u8bf4\u9700\u8981\u8bfb\u53d6 5KB \u7684\u6570\u636e\uff0c\u5b9e\u9645\u4e0a MySQL \u4f1a\u8bfb\u53d6 8KB \u7684\u6570\u636e\uff0c\u521a\u597d\u4e24\u9875\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u56e0\u4e3a\u8bfb\u7684\u6b21\u6570\u8d8a\u591a\uff0c\u6548\u7387\u5c31\u8d8a\u4f4e\u3002\u5c31\u597d\u6bd4\u6211\u4eec\u5728\u5de5\u5730\u4e0a\u642c\u7816\uff0c\u4e00\u6b21\u642c 10 \u5757\u7816\u80af\u5b9a\u6bd4\u4e00\u6b21\u642c 1 \u5757\u7816\u7684\u6548\u7387\u8981\u9ad8\uff0c\u53cd\u6b63\u6211\u6bcf\u6b21\u90fd\u642c 10 \u5757\uff08\ud83d\ude01\uff09\u3002"}),"\n",(0,i.jsxs)(n.p,{children:["\u5bf9\u4e8e\u7ea2\u9ed1\u6811\u3001\u4e8c\u53c9\u5e73\u8861\u6811\u8fd9\u79cd\u7ec6\u9ad8\u4e2a\u6765\u8bf4\uff0c\u6bcf\u6b21\u642c\u7684\u7816\u5c11\uff0c\u56e0\u4e3a\u529b\u6c14\u4e0d\u591f\u561b\uff0c\u90a3\u6765\u56de\u8dd1\u7684\u6b21\u6570\u5c31\u8d8a\u591a\u3002\r\n\u6811\u8d8a\u9ad8\uff0c\u610f\u5473\u7740\u67e5\u627e\u6570\u636e\u65f6\u5c31\u9700\u8981\u66f4\u591a\u7684\u78c1\u76d8 IO\uff0c\u56e0\u4e3a\u6bcf\u4e00\u5c42\u90fd\u53ef\u80fd\u9700\u8981\u4ece\u78c1\u76d8\u52a0\u8f7d\u65b0\u7684\u8282\u70b9\u3002\r\n",(0,i.jsx)(n.img,{alt:"img_8.png",src:r(41495).A+"",width:"1019",height:"558"}),"\r\nB \u6811\u7684\u8282\u70b9\u901a\u5e38\u4e0e\u9875\u7684\u5927\u5c0f\u5bf9\u9f50\uff0c\u8fd9\u6837\u6bcf\u6b21\u4ece\u78c1\u76d8\u52a0\u8f7d\u4e00\u4e2a\u8282\u70b9\u65f6\uff0c\u6b63\u597d\u5c31\u662f\u4e00\u9875\u7684\u5927\u5c0f\u3002\r\n",(0,i.jsx)(n.img,{alt:"img_9.png",src:r(51502).A+"",width:"1080",height:"480"}),"\r\nB \u6811\u7684\u4e00\u4e2a\u8282\u70b9\u901a\u5e38\u5305\u62ec\u4e09\u4e2a\u90e8\u5206\uff1a"]}),"\n",(0,i.jsx)(n.p,{children:"\u952e\u503c\uff1a\u5373\u8868\u4e2d\u7684\u4e3b\u952e\r\n\u6307\u9488\uff1a\u5b58\u50a8\u5b50\u8282\u70b9\u7684\u4fe1\u606f\r\n\u6570\u636e\uff1a\u9664\u4e3b\u952e\u5916\u7684\u884c\u6570\u636e\r\n\u6b63\u6240\u8c13\u201c\u7978\u516e\u798f\u6240\u501a\uff0c\u798f\u516e\u7978\u6240\u4f0f\u201d\uff0c\u56e0\u4e3a B \u6811\u7684\u6bcf\u4e2a\u8282\u70b9\u4e0a\u90fd\u5b58\u50a8\u4e86\u6570\u636e\uff0c\u5c31\u5bfc\u81f4\u6bcf\u4e2a\u8282\u70b9\u80fd\u5b58\u50a8\u7684\u952e\u503c\u548c\u6307\u9488\u53d8\u5c11\u4e86\uff0c\u56e0\u4e3a\u6bcf\u4e00\u4e2a\u8282\u70b9\u7684\u5927\u5c0f\u662f\u56fa\u5b9a\u7684\uff0c\u5bf9\u5427\uff1f"}),"\n",(0,i.jsxs)(n.p,{children:["\u4e8e\u662f B+\u6811\u5c31\u6765\u4e86\uff0cB+\u6811\u7684\u975e\u53f6\u5b50\u8282\u70b9\u53ea\u5b58\u50a8\u952e\u503c\uff0c\u4e0d\u5b58\u50a8\u6570\u636e\uff0c\u800c\u53f6\u5b50\u8282\u70b9\u4f1a\u5b58\u50a8\u6240\u6709\u7684\u884c\u6570\u636e\uff0c\u5e76\u4e14\u6784\u6210\u4e00\u4e2a\u6709\u5e8f\u94fe\u8868\u3002\r\n",(0,i.jsx)(n.img,{alt:"img_10.png",src:r(66004).A+"",width:"1366",height:"598"}),"\r\n\u8fd9\u6837\u505a\u7684\u597d\u5904\u662f\uff0c\u975e\u53f6\u5b50\u8282\u70b9\u7531\u4e8e\u6ca1\u6709\u5b58\u50a8\u6570\u636e\uff0c\u5c31\u53ef\u4ee5\u5b58\u50a8\u66f4\u591a\u7684\u952e\u503c\u5bf9\uff0c\u6811\u5c31\u53d8\u5f97\u66f4\u52a0\u77ee\u80d6\u4e86\uff0c\u4e8e\u662f\u5c31\u66f4\u6709\u52b2\u4e86\uff0c\u6bcf\u6b21\u642c\u7684\u7816\u4e5f\u5c31\u66f4\u591a\u4e86\uff08\ud83d\ude02\uff09\u3002\r\n\u7531\u6b64\u4e00\u6765\uff0c\u67e5\u627e\u6570\u636e\u8fdb\u884c\u7684\u78c1\u76d8 IO \u5c31\u66f4\u5c11\u4e86\uff0c\u67e5\u8be2\u7684\u6548\u7387\u4e5f\u5c31\u66f4\u9ad8\u4e86\u3002"]}),"\n",(0,i.jsx)(n.p,{children:"\u518d\u52a0\u4e0a\u53f6\u5b50\u8282\u70b9\u6784\u6210\u4e86\u4e00\u4e2a\u6709\u5e8f\u94fe\u8868\uff0c\u8303\u56f4\u67e5\u8be2\u65f6\u5c31\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7\u53f6\u5b50\u8282\u70b9\u95f4\u7684\u6307\u9488\u987a\u5e8f\u8bbf\u95ee\u6574\u4e2a\u67e5\u8be2\u8303\u56f4\u5185\u7684\u6240\u6709\u8bb0\u5f55\uff0c\u800c\u65e0\u9700\u5bf9\u6811\u8fdb\u884c\u591a\u6b21\u904d\u5386\u3002"}),"\n",(0,i.jsx)(n.p,{children:"B \u6811\u5c31\u505a\u4e0d\u5230\u8fd9\u4e00\u70b9\u3002"}),"\n",(0,i.jsx)(n.p,{children:"ps: \u76f8\u6bd4 B \u6811\uff0cB+ \u6811\u7684\u975e\u53f6\u5b50\u8282\u70b9\u53ef\u5bb9\u7eb3\u7684\u952e\u503c\u66f4\u591a\uff0c\u4e00\u4e2a 16KB \u7684\u8282\u70b9\u53ef\u5b58\u50a8\u7ea6 1200 \u4e2a\u952e\u503c\uff0c\u5927\u5e45\u964d\u4f4e\u6811\u7684\u9ad8\u5ea6\u3002\r\n---- \u8fd9\u90e8\u5206\u662f\u5e2e\u52a9\u5927\u5bb6\u7406\u89e3 end\uff0c\u9762\u8bd5\u4e2d\u53ef\u4e0d\u80cc ----"}),"\n",(0,i.jsx)(n.h3,{id:"b\u6811\u7684\u53f6\u5b50\u8282\u70b9\u662f\u5355\u5411\u94fe\u8868\u8fd8\u662f\u53cc\u5411\u94fe\u8868\u5982\u679c\u4ece\u5927\u503c\u5411\u5c0f\u503c\u68c0\u7d22\u5982\u4f55\u64cd\u4f5c",children:"B+\u6811\u7684\u53f6\u5b50\u8282\u70b9\u662f\u5355\u5411\u94fe\u8868\u8fd8\u662f\u53cc\u5411\u94fe\u8868\uff1f\u5982\u679c\u4ece\u5927\u503c\u5411\u5c0f\u503c\u68c0\u7d22\uff0c\u5982\u4f55\u64cd\u4f5c\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"B+\u6811\u7684\u53f6\u5b50\u8282\u70b9\u662f\u901a\u8fc7\u53cc\u5411\u94fe\u8868\u8fde\u63a5\u7684\uff0c\u8fd9\u6837\u53ef\u4ee5\u65b9\u4fbf\u8303\u56f4\u67e5\u8be2\u548c\u53cd\u5411\u904d\u5386\u3002"}),"\n",(0,i.jsxs)(n.p,{children:["\u5f53\u6267\u884c\u8303\u56f4\u67e5\u8be2\u65f6\uff0c\u53ef\u4ee5\u4ece\u8303\u56f4\u7684\u5f00\u59cb\u70b9\u6216\u7ed3\u675f\u70b9\u5f00\u59cb\uff0c\u5411\u524d\u6216\u5411\u540e\u904d\u5386\u3002\r\n\u5728\u9700\u8981\u5bf9\u6570\u636e\u8fdb\u884c\u9006\u5e8f\u5904\u7406\u65f6\uff0c\u53cc\u5411\u94fe\u8868\u975e\u5e38\u6709\u7528\u3002\r\n\u5982\u679c\u9700\u8981\u5728 B+\u6811\u4e2d\u4ece\u5927\u503c\u5411\u5c0f\u503c\u8fdb\u884c\u68c0\u7d22\uff0c\u53ef\u4ee5\u5148\u5b9a\u4f4d\u5230\u6700\u53f3\u4fa7\u8282\u70b9\uff0c\u627e\u5230\u5305\u542b\u6700\u5927\u503c\u7684\u53f6\u5b50\u8282\u70b9\u3002\u4ece\u6839\u8282\u70b9\u5f00\u59cb\u5411\u53f3\u904d\u5386\u6811\u7684\u65b9\u5f0f\u5b9e\u73b0\u3002\r\n",(0,i.jsx)(n.img,{alt:"img_11.png",src:r(99037).A+"",width:"1623",height:"652"}),"\r\n\u5b9a\u4f4d\u5230\u6700\u53f3\u4fa7\u7684\u53f6\u5b50\u8282\u70b9\u540e\uff0c\u518d\u5229\u7528\u53f6\u8282\u70b9\u95f4\u7684\u53cc\u5411\u94fe\u8868\u5411\u5de6\u904d\u5386\u5c31\u597d\u4e86\u3002"]}),"\n",(0,i.jsxs)(n.p,{children:["\u4e3a\u4ec0\u4e48 MongoDB \u7684\u7d22\u5f15\u7528 B\u6811\uff0c\u800c MySQL \u7528 B+ \u6811\uff1f\r\nMongoDB \u901a\u5e38\u4ee5 JSON \u683c\u5f0f\u5b58\u50a8\u6587\u6863\uff0c\u67e5\u8be2\u4ee5\u5355\u952e\u67e5\u8be2",(0,i.jsx)(n.code,{children:"\uff08\u5982 find({_id: 123})\uff09"}),"\u4e3a\u4e3b\u3002B \u6811\u7684\u201c\u8282\u70b9\u65e2\u5b58\u952e\u53c8\u5b58\u6570\u636e\u201d\u7684\u7279\u6027\u5141\u8bb8\u67e5\u8be2\u5728\u975e\u53f6\u5b50\u8282\u70b9\u63d0\u524d\u7ec8\u6b62\uff0c\u4ece\u800c\u51cf\u5c11 I/O \u6b21\u6570\u3002\r\n",(0,i.jsx)(n.img,{alt:"img_12.png",src:r(17830).A+"",width:"1600",height:"550"}),"\r\nMySQL \u7684\u67e5\u8be2\u901a\u5e38\u6d89\u53ca\u8303\u56f4\uff08WHERE id > 100\uff09\u3001\u6392\u5e8f\uff08ORDER BY\uff09\u3001\u8fde\u63a5\uff08JOIN\uff09\u7b49\u64cd\u4f5c\u3002B+ \u6811\u7684\u53f6\u5b50\u8282\u70b9\u662f\u94fe\u8868\u7ed3\u6784\uff0c\u5929\u7136\u652f\u6301\u987a\u5e8f\u904d\u5386\uff0c\u65e0\u9700\u56de\u6eaf\u81f3\u6839\u8282\u70b9\u6216\u4e2d\u5e8f\u904d\u5386\uff0c\u6548\u7387\u8fdc\u9ad8\u4e8e B \u6811\u3002\r\n",(0,i.jsx)(n.img,{alt:"img_13.png",src:r(56847).A+"",width:"1586",height:"648"})]}),"\n",(0,i.jsxs)(n.p,{children:["\u63a8\u8350\u9605\u8bfb\uff1a\u4e3a\u4ec0\u4e48 MongoDB \u7d22\u5f15\u7528 B\u6811\uff0c\u800c MySQL \u7528 B+ \u6811\uff1f\r\n",(0,i.jsx)(n.a,{href:"https://www.cnblogs.com/rjzheng/p/12316685.html",children:"https://www.cnblogs.com/rjzheng/p/12316685.html"})]}),"\n",(0,i.jsx)(n.h3,{id:"\u4e00\u68f5b\u6811\u80fd\u5b58\u50a8\u591a\u5c11\u6761\u6570\u636e\u5462",children:"\ud83c\udf1f\u4e00\u68f5B+\u6811\u80fd\u5b58\u50a8\u591a\u5c11\u6761\u6570\u636e\u5462\uff1f"}),"\n",(0,i.jsxs)(n.p,{children:["\u4e00\u68f5 B+ \u6811\u80fd\u5b58\u591a\u5c11\u6570\u636e\uff0c\u53d6\u51b3\u4e8e\u5b83\u7684\u5206\u652f\u56e0\u5b50\u548c\u9ad8\u5ea6\u3002\u5728 InnoDB \u4e2d\uff0c\u9875\u7684\u9ed8\u8ba4\u5927\u5c0f\u4e3a 16KB\uff0c\u5f53\u4e3b\u952e\u4e3a bigint \u65f6\uff0c3 \u5c42 B+ \u6811\u901a\u5e38\u53ef\u4ee5\u5b58\u50a8\u7ea6 2000 \u4e07\u6761\u6570\u636e\u3002\r\n",(0,i.jsx)(n.img,{alt:"1756473130992",src:r(60918).A+"",width:"1080",height:"451"})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://juejin.cn/post/6904293886626103309",children:"https://juejin.cn/post/6904293886626103309"})}),"\n",(0,i.jsx)(n.h3,{id:"\u73b0\u5728\u6709\u4e00\u5f20\u8868-2kw-\u6570\u636e\u6211\u8fd9\u4e2a-b\u6811\u7684\u9ad8\u5ea6\u6709\u51e0\u5c42",children:"\u73b0\u5728\u6709\u4e00\u5f20\u8868 2kw \u6570\u636e\uff0c\u6211\u8fd9\u4e2a b+\u6811\u7684\u9ad8\u5ea6\u6709\u51e0\u5c42\uff1f"}),"\n",(0,i.jsxs)(n.p,{children:["\u5bf9\u4e8e 2KW \u6761\u6570\u636e\u6765\u8bf4\uff0cB+\u6811\u7684\u9ad8\u5ea6\u4e3a 3 \u5c42\u5c31\u591f\u4e86\u3002\r\n",(0,i.jsx)(n.img,{alt:"1756473246248",src:r(85364).A+"",width:"1622",height:"562"}),"\r\n",(0,i.jsx)(n.a,{href:"https://www.cnblogs.com/yifanSJ/p/17662132.html",children:"https://www.cnblogs.com/yifanSJ/p/17662132.html"})]}),"\n",(0,i.jsx)(n.h3,{id:"\u6bcf\u4e2a\u53f6\u5b50\u8282\u70b9\u80fd\u5b58\u653e\u591a\u5c11\u6761\u6570\u636e",children:"\u6bcf\u4e2a\u53f6\u5b50\u8282\u70b9\u80fd\u5b58\u653e\u591a\u5c11\u6761\u6570\u636e\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u5982\u679c\u5355\u884c\u6570\u636e\u5927\u5c0f\u4e3a 1KB\uff0c\u90a3\u4e48\u6bcf\u9875\u53ef\u5b58\u50a8\u7ea6 16 \u884c\uff0816KB/1KB\uff09\u6570\u636e\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u7d22\u5f15\u4e3a\u4ec0\u4e48\u7528-b\u6811\u4e0d\u7528\u666e\u901a\u4e8c\u53c9\u6811",children:"\u7d22\u5f15\u4e3a\u4ec0\u4e48\u7528 B+\u6811\u4e0d\u7528\u666e\u901a\u4e8c\u53c9\u6811\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u666e\u901a\u4e8c\u53c9\u6811\u7684\u6bcf\u4e2a\u8282\u70b9\u6700\u591a\u6709\u4e24\u4e2a\u5b50\u8282\u70b9\u3002\u5f53\u6570\u636e\u6309\u987a\u5e8f\u9012\u589e\u63d2\u5165\u65f6\uff0c\u4e8c\u53c9\u6811\u4f1a\u9000\u5316\u6210\u94fe\u8868\uff0c\u5bfc\u81f4\u6811\u7684\u9ad8\u5ea6\u7b49\u4e8e\u6570\u636e\u91cf\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u4e3a\u4ec0\u4e48\u4e0d\u7528\u5e73\u8861\u4e8c\u53c9\u6811\u5462",children:"\u4e3a\u4ec0\u4e48\u4e0d\u7528\u5e73\u8861\u4e8c\u53c9\u6811\u5462\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u5e73\u8861\u4e8c\u53c9\u6811\u867d\u7136\u89e3\u51b3\u4e86\u666e\u901a\u4e8c\u53c9\u6811\u7684\u9000\u5316\u95ee\u9898\uff0c\u4f46\u6bcf\u4e2a\u8282\u70b9\u6700\u591a\u53ea\u6709\u4e24\u4e2a\u5b50\u8282\u70b9\u7684\u95ee\u9898\u4f9d\u7136\u5b58\u5728\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u4e3a\u4ec0\u4e48\u7528-b-\u6811\u800c\u4e0d\u7528-b-\u6811\u5462",children:"\ud83c\udf1f\u4e3a\u4ec0\u4e48\u7528 B+ \u6811\u800c\u4e0d\u7528 B \u6811\u5462\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"B+ \u6811\u76f8\u6bd4 B \u6811\u6709 3 \u4e2a\u663e\u8457\u4f18\u52bf\uff1a"}),"\n",(0,i.jsxs)(n.p,{children:["\u7b2c\u4e00\uff0cB \u6811\u7684\u6bcf\u4e2a\u8282\u70b9\u65e2\u5b58\u50a8\u952e\u503c\uff0c\u53c8\u5b58\u50a8\u6570\u636e\u548c\u6307\u9488\uff0c\u5bfc\u81f4\u5355\u8282\u70b9\u5b58\u50a8\u7684\u952e\u503c\u6570\u91cf\u8f83\u5c11\u3002\r\n",(0,i.jsx)(n.img,{alt:"1756473488143",src:r(53728).A+"",width:"1176",height:"518"}),"\r\n\u4e00\u4e2a 16KB \u7684 InnoDB \u9875\uff0c\u5982\u679c\u6570\u636e\u8f83\u5927\uff0cB \u6811\u7684\u975e\u53f6\u5b50\u8282\u70b9\u53ea\u80fd\u5bb9\u7eb3\u51e0\u5341\u4e2a\u952e\u503c\uff0c\u800c B+ \u6811\u7684\u975e\u53f6\u5b50\u8282\u70b9\u53ef\u4ee5\u5bb9\u7eb3\u4e0a\u5343\u4e2a\u952e\u503c\u3002"]}),"\n",(0,i.jsxs)(n.p,{children:["\u7b2c\u4e8c\uff0cB \u6811\u7684\u8303\u56f4\u67e5\u8be2\u9700\u8981\u901a\u8fc7\u4e2d\u5e8f\u904d\u5386\u9010\u5c42\u56de\u6eaf\uff1b\u800c B+ \u6811\u7684\u53f6\u5b50\u8282\u70b9\u901a\u8fc7\u53cc\u5411\u94fe\u8868\u987a\u5e8f\u8fde\u63a5\uff0c\u8303\u56f4\u67e5\u8be2\u53ea\u9700\u5b9a\u4f4d\u8d77\u59cb\u70b9\u540e\u987a\u5e8f\u904d\u5386\u94fe\u8868\u5373\u53ef\uff0c\u6ca1\u6709\u56de\u6eaf\u5f00\u9500\u3002\r\n",(0,i.jsx)(n.img,{alt:"1756473511330",src:r(57389).A+"",width:"1002",height:"674"}),"\r\n\u7b2c\u4e09\uff0cB \u6811\u7684\u6570\u636e\u53ef\u80fd\u5b58\u50a8\u5728\u4efb\u610f\u8282\u70b9\uff0c\u5047\u5982\u76ee\u6807\u6570\u636e\u6070\u597d\u4f4d\u4e8e\u6839\u8282\u70b9\u6216\u4e0a\u5c42\u8282\u70b9\uff0c\u67e5\u8be2\u4ec5\u9700 1-2 \u6b21 I/O\uff1b\u4f46\u5982\u679c\u6570\u636e\u4f4d\u4e8e\u5e95\u5c42\u8282\u70b9\uff0c\u5219\u9700\u591a\u6b21 I/O\uff0c\u5bfc\u81f4\u67e5\u8be2\u65f6\u95f4\u6ce2\u52a8\u8f83\u5927\u3002"]}),"\n",(0,i.jsx)(n.p,{children:"\u800c B+ \u6811\u7684\u6240\u6709\u6570\u636e\u90fd\u5b58\u50a8\u5728\u53f6\u5b50\u8282\u70b9\uff0c\u67e5\u8be2\u8def\u5f84\u7684\u957f\u5ea6\u662f\u56fa\u5b9a\u7684\uff0c\u65f6\u95f4\u7a33\u5b9a\u4e3a O(logN)\uff0c\u5bf9 MySQL \u5728\u9ad8\u5e76\u53d1\u573a\u666f\u4e0b\u7684\u7a33\u5b9a\u6027\u81f3\u5173\u91cd\u8981\u3002\r\n\u6709\u94fe\u63a5\u8be6\u89e3 waitx"}),"\n",(0,i.jsx)(n.h3,{id:"b\u6811\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662f\u591a\u5c11",children:"B+\u6811\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662f\u591a\u5c11\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"O(logN)\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u4e3a\u4ec0\u4e48\u7528-b\u6811\u4e0d\u7528\u8df3\u8868\u5462",children:"\u4e3a\u4ec0\u4e48\u7528 B+\u6811\u4e0d\u7528\u8df3\u8868\u5462\uff1f"}),"\n",(0,i.jsxs)(n.p,{children:["\u8df3\u8868\u672c\u8d28\u4e0a\u8fd8\u662f\u94fe\u8868\u7ed3\u6784\uff0c\u53ea\u4e0d\u8fc7\u628a\u67d0\u4e9b\u8282\u70b9\u62bd\u5230\u4e0a\u5c42\u505a\u4e86\u7d22\u5f15\u3002\r\n",(0,i.jsx)(n.img,{alt:"1756473582311",src:r(14414).A+"",width:"1031",height:"287"}),"\r\n\u4e00\u6761\u6570\u636e\u4e00\u4e2a\u8282\u70b9\uff0c\u5982\u679c\u9700\u8981\u5b58\u653e 2000 \u4e07\u6761\u6570\u636e\uff0c\u4e14\u6bcf\u6b21\u67e5\u8be2\u90fd\u8981\u80fd\u8fbe\u5230\u4e8c\u5206\u67e5\u627e\u7684\u6548\u679c\uff0c\u90a3\u4e48\u8df3\u8868\u7684\u9ad8\u5ea6\u5927\u7ea6\u4e3a 24 \u5c42\uff082 \u7684 24 \u6b21\u65b9\uff09\u3002"]}),"\n",(0,i.jsx)(n.p,{children:"\u5728\u6700\u574f\u7684\u60c5\u51b5\u4e0b\uff0c\u8fd9 24 \u5c42\u6570\u636e\u5206\u6563\u5728\u4e0d\u540c\u7684\u6570\u636e\u9875\uff0c\u67e5\u627e\u4e00\u6b21\u6570\u636e\u5c31\u9700\u8981 24 \u6b21\u78c1\u76d8 I/O\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u800c 2000 \u4e07\u6761\u6570\u636e\u5728 B+\u6811\u4e2d\u53ea\u9700\u8981 3 \u5c42\u5c31\u53ef\u4ee5\u4e86\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"b\u6811\u7684\u8303\u56f4\u67e5\u627e\u600e\u4e48\u505a\u7684",children:"B+\u6811\u7684\u8303\u56f4\u67e5\u627e\u600e\u4e48\u505a\u7684\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u4e00\u53e5\u8bdd\u56de\u7b54\uff1a"}),"\n",(0,i.jsx)(n.p,{children:"\u5148\u901a\u8fc7\u7d22\u5f15\u8def\u5f84\u5b9a\u4f4d\u5230\u7b2c\u4e00\u4e2a\u6ee1\u8db3\u6761\u4ef6\u7684\u53f6\u5b50\u8282\u70b9\uff0c\u7136\u540e\u987a\u7740\u53f6\u5b50\u8282\u70b9\u4e4b\u95f4\u7684\u94fe\u8868\u5411\u53f3/\u5411\u5de6\u626b\u63cf\uff0c\u76f4\u5230\u8d85\u8fc7\u8303\u56f4\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u8be6\u7ec6\u7248\uff1a"}),"\n",(0,i.jsx)(n.p,{children:"B+ \u6811\u7d22\u5f15\u7684\u8303\u56f4\u67e5\u627e\u4e3b\u8981\u4f9d\u8d56\u53f6\u5b50\u8282\u70b9\u4e4b\u95f4\u7684\u53cc\u5411\u94fe\u8868\u6765\u5b8c\u6210\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u7b2c\u4e00\u6b65\uff0c\u4ece B+ \u6811\u7684\u6839\u8282\u70b9\u5f00\u59cb\uff0c\u901a\u8fc7\u7d22\u5f15\u952e\u503c\u9010\u5c42\u5411\u4e0b\uff0c\u627e\u5230\u7b2c\u4e00\u4e2a\u6ee1\u8db3\u6761\u4ef6\u7684\u53f6\u5b50\u8282\u70b9\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u7b2c\u4e8c\u6b65\uff0c\u5229\u7528\u53f6\u5b50\u8282\u70b9\u4e4b\u95f4\u7684\u53cc\u5411\u94fe\u8868\uff0c\u4ece\u8d77\u59cb\u8282\u70b9\u5f00\u59cb\uff0c\u4f9d\u6b21\u5411\u540e\u904d\u5386\u6bcf\u4e2a\u8282\u70b9\u3002\u5f53\u7d22\u5f15\u503c\u8d85\u8fc7\u67e5\u8be2\u8303\u56f4\uff0c\u6216\u8005\u904d\u5386\u5230\u94fe\u8868\u672b\u5c3e\u65f6\uff0c\u7ec8\u6b62\u67e5\u8be2\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u4e86\u89e3\u5feb\u6392\u5417",children:"\u4e86\u89e3\u5feb\u6392\u5417\uff1f"}),"\n",(0,i.jsx)(n.h3,{id:"b\u6811\u7d22\u5f15\u548c-hash-\u7d22\u5f15\u6709\u4ec0\u4e48\u533a\u522b",children:"B+\u6811\u7d22\u5f15\u548c Hash \u7d22\u5f15\u6709\u4ec0\u4e48\u533a\u522b\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"B+ \u6811\u7d22\u5f15\u652f\u6301\u8303\u56f4\u67e5\u8be2\u3001\u6709\u5e8f\u626b\u63cf\uff0c\u662f InnoDB \u7684\u9ed8\u8ba4\u7d22\u5f15\u7ed3\u6784\u3002\r\nHash \u7d22\u5f15\u53ea\u652f\u6301\u7b49\u503c\u67e5\u627e\uff0c\u901f\u5ea6\u5feb\u4f46\u529f\u80fd\u5f31\uff0c\u5e38\u89c1\u4e8e Memory \u5f15\u64ce\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u7a0d\u5fae\u8be6\u7ec6\u4e00\u70b9\u7684\u56de\u7b54\uff1a"}),"\n",(0,i.jsx)(n.p,{children:"B+ \u6811\u7d22\u5f15\u662f\u4e00\u79cd\u5e73\u8861\u591a\u8def\u641c\u7d22\u6811\uff0c\u6240\u6709\u6570\u636e\u5b58\u50a8\u5728\u53f6\u5b50\u8282\u70b9\u4e0a\uff0c\u975e\u53f6\u5b50\u8282\u70b9\u4ec5\u5b58\u50a8\u7d22\u5f15\u952e\u3002\u53f6\u5b50\u8282\u70b9\u901a\u8fc7\u6307\u9488\u8fde\u63a5\u5f62\u6210\u6709\u5e8f\u94fe\u8868\uff0c\u5929\u7136\u652f\u6301\u6392\u5e8f\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u5e76\u4e14\u652f\u6301\u8303\u56f4\u67e5\u8be2\u3001\u6a21\u7cca\u67e5\u8be2\uff0c\u662f InnoDB \u9ed8\u8ba4\u7684\u7d22\u5f15\u7ed3\u6784\u3002"}),"\n",(0,i.jsx)(n.p,{children:"Hash \u7d22\u5f15\u57fa\u4e8e\u54c8\u5e0c\u51fd\u6570\u5c06\u952e\u503c\u6620\u5c04\u5230\u56fa\u5b9a\u957f\u5ea6\u7684\u54c8\u5e0c\u503c\uff0c\u901a\u8fc7\u54c8\u5e0c\u503c\u5b9a\u4f4d\u6570\u636e\u5b58\u50a8\u7684\u4f4d\u7f6e\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u5b8c\u5168\u65e0\u5e8f\uff0c\u53ea\u652f\u6301\u7b49\u503c\u67e5\u8be2\uff0c\u5e38\u89c1\u4e8e Memory \u5f15\u64ce\u3002"}),"\n",(0,i.jsx)(n.p,{children:"---- \u8fd9\u90e8\u5206\u662f\u5e2e\u52a9\u5927\u5bb6\u7406\u89e3 start\uff0c\u9762\u8bd5\u4e2d\u53ef\u4e0d\u80cc ----\r\nInnoDB \u5e76\u4e0d\u63d0\u4f9b\u76f4\u63a5\u521b\u5efa\u54c8\u5e0c\u7d22\u5f15\u7684\u9009\u9879\uff0c\u56e0\u4e3a B+ \u6811\u7d22\u5f15\u80fd\u591f\u5f88\u597d\u5730\u652f\u6301\u8303\u56f4\u67e5\u8be2\u548c\u7b49\u503c\u67e5\u8be2\uff0c\u6ee1\u8db3\u4e86\u5927\u591a\u6570\u6570\u636e\u5e93\u64cd\u4f5c\u7684\u9700\u8981\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u4e0d\u8fc7\uff0cInnoDB \u5185\u90e8\u4f7f\u7528\u4e86\u4e00\u79cd\u540d\u4e3a\u201c\u81ea\u9002\u5e94\u54c8\u5e0c\u7d22\u5f15\u201d\uff08Adaptive Hash Index, AHI\uff09\u7684\u6280\u672f\uff0c\u5f53\u67d0\u4e9b\u7d22\u5f15\u503c\u9891\u7e41\u8bbf\u95ee\u65f6\uff0cInnoDB \u4f1a\u5728 B+ \u6811\u57fa\u7840\u4e0a\u81ea\u52a8\u521b\u5efa\u54c8\u5e0c\u7d22\u5f15\uff0c\u517c\u5177\u4e24\u8005\u7684\u4f18\u70b9\u3002\r\n---- \u8fd9\u90e8\u5206\u662f\u5e2e\u52a9\u5927\u5bb6\u7406\u89e3 end\uff0c\u9762\u8bd5\u4e2d\u53ef\u4e0d\u80cc ----"}),"\n",(0,i.jsx)(n.h3,{id:"\u805a\u65cf\u7d22\u5f15\u548c\u975e\u805a\u65cf\u7d22\u5f15\u6709\u4ec0\u4e48\u533a\u522b",children:"\ud83c\udf1f\u805a\u65cf\u7d22\u5f15\u548c\u975e\u805a\u65cf\u7d22\u5f15\u6709\u4ec0\u4e48\u533a\u522b\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u805a\u7c07\u7d22\u5f15\u7684\u53f6\u5b50\u8282\u70b9\u5b58\u50a8\u4e86\u5b8c\u6574\u7684\u6570\u636e\u884c\uff0c\u6570\u636e\u548c\u7d22\u5f15\u662f\u5728\u4e00\u8d77\u7684\u3002InnoDB \u7684\u4e3b\u952e\u7d22\u5f15\u5c31\u662f\u805a\u7c07\u7d22\u5f15\uff0c\u53f6\u5b50\u8282\u70b9\u4e0d\u4ec5\u5b58\u50a8\u4e86\u4e3b\u952e\u503c\uff0c\u8fd8\u5b58\u50a8\u4e86\u5176\u4ed6\u5217\u7684\u503c\uff0c\u56e0\u6b64\u6309\u7167\u4e3b\u952e\u8fdb\u884c\u67e5\u8be2\u7684\u901f\u5ea6\u4f1a\u975e\u5e38\u5feb\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u6bcf\u4e2a\u8868\u53ea\u80fd\u6709\u4e00\u4e2a\u805a\u7c07\u7d22\u5f15\uff0c\u901a\u5e38\u7531\u4e3b\u952e\u5b9a\u4e49\u3002\u5982\u679c\u6ca1\u6709\u663e\u5f0f\u6307\u5b9a\u4e3b\u952e\uff0cInnoDB \u4f1a\u9690\u5f0f\u521b\u5efa\u4e00\u4e2a\u9690\u85cf\u7684\u4e3b\u952e\u7d22\u5f15 row_id\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u975e\u805a\u7c07\u7d22\u5f15\u7684\u53f6\u5b50\u8282\u70b9\u53ea\u5305\u542b\u4e86\u4e3b\u952e\u503c\uff0c\u9700\u8981\u901a\u8fc7\u56de\u8868\u6309\u7167\u4e3b\u952e\u53bb\u805a\u7c07\u7d22\u5f15\u67e5\u627e\u5176\u4ed6\u5217\u7684\u503c\uff0c\u552f\u4e00\u7d22\u5f15\u3001\u666e\u901a\u7d22\u5f15\u7b49\u975e\u4e3b\u952e\u7d22\u5f15\u90fd\u662f\u975e\u805a\u7c07\u7d22\u5f15\u3002\r\n\u6bcf\u4e2a\u8868\u90fd\u53ef\u4ee5\u521b\u5efa\u591a\u4e2a\u975e\u805a\u7c07\u7d22\u5f15\uff0c\u5982\u679c\u4e0d\u60f3\u56de\u8868\u7684\u8bdd\uff0c\u53ef\u4ee5\u901a\u8fc7\u8986\u76d6\u7d22\u5f15\u628a\u8981\u67e5\u8be2\u7684\u5b57\u6bb5\u4e5f\u653e\u5230\u7d22\u5f15\u4e2d\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u56de\u8868\u4e86\u89e3\u5417",children:"\ud83c\udf1f\u56de\u8868\u4e86\u89e3\u5417\uff1f"}),"\n",(0,i.jsxs)(n.p,{children:["\u5f53\u4f7f\u7528\u975e\u805a\u7c07\u7d22\u5f15\u8fdb\u884c\u67e5\u8be2\u65f6\uff0cMySQL \u9700\u8981\u5148\u901a\u8fc7\u975e\u805a\u7c07\u7d22\u5f15\u627e\u5230\u4e3b\u952e\u503c\uff0c\u7136\u540e\u518d\u6839\u636e\u4e3b\u952e\u503c\u56de\u5230\u805a\u7c07\u7d22\u5f15\u4e2d\u67e5\u627e\u5b8c\u6574\u6570\u636e\u884c\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u79f0\u4e3a\u56de\u8868\u3002\r\n",(0,i.jsx)(n.img,{alt:"1756474103915",src:r(42992).A+"",width:"1789",height:"654"}),"\r\n\u53ef\u901a\u8fc7\u8986\u76d6\u7d22\u5f15\u6216\u8005\u8054\u5408\u7d22\u5f15\u6765\u907f\u514d\u56de\u8868\u3002"]}),"\n",(0,i.jsx)(n.h3,{id:"\u4ec0\u4e48\u60c5\u51b5\u4e0b\u4f1a\u89e6\u53d1\u56de\u8868",children:"\u4ec0\u4e48\u60c5\u51b5\u4e0b\u4f1a\u89e6\u53d1\u56de\u8868\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u7b2c\u4e00\uff0c\u5f53\u67e5\u8be2\u5b57\u6bb5\u4e0d\u5728\u975e\u805a\u7c07\u7d22\u5f15\u4e2d\u65f6\uff0c\u5fc5\u987b\u56de\u8868\u5230\u4e3b\u952e\u7d22\u5f15\u83b7\u53d6\u6570\u636e\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u7b2c\u4e8c\uff0c\u67e5\u8be2\u5b57\u6bb5\u5305\u542b\u975e\u7d22\u5f15\u5217\uff08\u5982 SELECT *\uff09\uff0c\u5fc5\u7136\u89e6\u53d1\u56de\u8868\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u56de\u8868\u8bb0\u5f55\u8d8a\u591a\u597d\u5417",children:"\u56de\u8868\u8bb0\u5f55\u8d8a\u591a\u597d\u5417\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u56de\u8868\u8bb0\u5f55\u8d8a\u591a\uff0c\u901a\u5e38\u4ee3\u8868\u6027\u80fd\u8d8a\u5dee\uff0c\u56e0\u4e3a\u6bcf\u6761\u8bb0\u5f55\u90fd\u9700\u8981\u901a\u8fc7\u4e3b\u952e\u518d\u67e5\u8be2\u4e00\u6b21\u5b8c\u6574\u6570\u636e\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u6d89\u53ca\u5185\u5b58\u8bbf\u95ee\u6216\u78c1\u76d8 IO\uff0c\u5c24\u5176\u5f53\u7f13\u5b58\u547d\u4e2d\u7387\u4e0d\u9ad8\u65f6\uff0c\u56de\u8868\u4f1a\u4e25\u91cd\u5f71\u54cd\u67e5\u8be2\u6548\u7387\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u4e86\u89e3-mrr-\u5417",children:"\u4e86\u89e3 MRR \u5417\uff1f"}),"\n",(0,i.jsxs)(n.p,{children:["MRR \u662f InnoDB \u4e3a\u4e86\u89e3\u51b3\u56de\u8868\u5e26\u6765\u7684\u5927\u91cf\u968f\u673a IO \u95ee\u9898\u800c\u5f15\u5165\u7684\u4e00\u79cd\u4f18\u5316\u7b56\u7565\u3002\r\n",(0,i.jsx)(n.img,{alt:"1756475621841",src:r(24646).A+"",width:"1080",height:"722"}),"\r\n\u5b83\u4f1a\u5148\u628a\u975e\u805a\u7c07\u7d22\u5f15\u67e5\u5230\u7684\u4e3b\u952e\u503c\u5217\u8868\u8fdb\u884c\u6392\u5e8f\uff0c\u518d\u6309\u987a\u5e8f\u53bb\u4e3b\u952e\u7d22\u5f15\u4e2d\u6279\u91cf\u56de\u8868\uff0c\u5c06\u968f\u673a I/O \u8f6c\u6362\u4e3a\u987a\u5e8f I/O\uff0c\u4ee5\u51cf\u5c11\u78c1\u76d8\u5bfb\u9053\u65f6\u95f4\u3002"]}),"\n",(0,i.jsx)(n.h3,{id:"\u8054\u5408\u7d22\u5f15\u4e86\u89e3\u5417\u8865\u5145",children:"\ud83c\udf1f\u8054\u5408\u7d22\u5f15\u4e86\u89e3\u5417\uff1f\uff08\u8865\u5145\uff09"}),"\n",(0,i.jsx)(n.p,{children:"\u8054\u5408\u7d22\u5f15\u5c31\u662f\u628a\u591a\u4e2a\u5b57\u6bb5\u653e\u5728\u4e00\u4e2a\u7d22\u5f15\u91cc\uff0c\u4f46\u5fc5\u987b\u9075\u5b88\u201c\u6700\u5de6\u524d\u7f00\u201d\u539f\u5219\uff0c\u53ea\u6709\u4ece\u7b2c\u4e00\u4e2a\u5b57\u6bb5\u5f00\u59cb\u8fde\u7eed\u4f7f\u7528\uff0c\u7d22\u5f15\u624d\u4f1a\u751f\u6548\u3002\r\n\u8054\u5408\u7d22\u5f15\u4f1a\u6309\u5b57\u6bb5\u987a\u5e8f\u6784\u5efaB+\u6811\u3002\u4f8b\u5982\uff08age, name\uff09\u7d22\u5f15\u4f1a\u5148\u6309\u7167 age \u6392\u5e8f\uff0cage \u76f8\u540c\u5219\u6309\u7167 name \u6392\u5e8f\uff0c\u82e5\u4e24\u8005\u90fd\u76f8\u540c\u5219\u6309\u4e3b\u952e\u6392\u5e8f\uff0c\u786e\u4fdd\u53f6\u5b50\u8282\u70b9\u65e0\u91cd\u590d\u7d22\u5f15\u9879\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u521b\u5efa(A,B,C)\u8054\u5408\u7d22\u5f15\u76f8\u5f53\u4e8e\u540c\u65f6\u521b\u5efa\u4e86(A)\u3001(A,B)\u548c(A,B,C)\u4e09\u4e2a\u7d22\u5f15\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u8054\u5408\u7d22\u5f15\u5e95\u5c42\u7684\u5b58\u50a8\u7ed3\u6784\u662f\u600e\u6837\u7684",children:"\u8054\u5408\u7d22\u5f15\u5e95\u5c42\u7684\u5b58\u50a8\u7ed3\u6784\u662f\u600e\u6837\u7684\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u8054\u5408\u7d22\u5f15\u5728\u5e95\u5c42\u91c7\u7528 B+ \u6811\u7ed3\u6784\u8fdb\u884c\u5b58\u50a8\uff0c\u8fd9\u4e00\u70b9\u4e0e\u5355\u5217\u7d22\u5f15\u76f8\u540c\u3002"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.img,{alt:"1756475710183",src:r(21326).A+"",width:"1774",height:"1108"}),"\r\n\u4e0e\u5355\u5217\u7d22\u5f15\u4e0d\u540c\u7684\u662f\uff0c\u8054\u5408\u7d22\u5f15\u7684\u6bcf\u4e2a\u8282\u70b9\u4f1a\u5b58\u50a8\u6240\u6709\u7d22\u5f15\u5217\u7684\u503c\uff0c\u800c\u4e0d\u4ec5\u4ec5\u662f\u7b2c\u4e00\u5217\u7684\u503c\u3002\u4f8b\u5982\uff0c\u5bf9\u4e8e\u8054\u5408\u7d22\u5f15(a,b,c)\uff0c\u6bcf\u4e2a\u8282\u70b9\u90fd\u5305\u542b a\u3001b\u3001c \u4e09\u5217\u7684\u503c\u3002"]}),"\n",(0,i.jsx)(n.h3,{id:"\u8054\u5408\u7d22\u5f15\u7684\u53f6\u5b50\u8282\u70b9\u5b58\u7684\u4ec0\u4e48\u5185\u5bb9",children:"\u8054\u5408\u7d22\u5f15\u7684\u53f6\u5b50\u8282\u70b9\u5b58\u7684\u4ec0\u4e48\u5185\u5bb9?"}),"\n",(0,i.jsxs)(n.p,{children:["\u8054\u5408\u7d22\u5f15\u5c5e\u4e8e\u975e\u805a\u7c07\u7d22\u5f15\uff0c\u53f6\u5b50\u8282\u70b9\u5b58\u50a8\u7684\u662f\u8054\u5408\u7d22\u5f15\u5404\u5217\u7684\u503c\u548c\u5bf9\u5e94\u884c\u7684\u4e3b\u952e\u503c\uff0c\u800c\u4e0d\u662f\u5b8c\u6574\u7684\u6570\u636e\u884c\u3002\u67e5\u8be2\u975e\u7d22\u5f15\u5b57\u6bb5\u65f6\uff0c\u9700\u8981\u901a\u8fc7\u4e3b\u952e\u503c\u56de\u8868\u5230\u805a\u7c07\u7d22\u5f15\u83b7\u53d6\u5b8c\u6574\u6570\u636e\u3002\r\n",(0,i.jsx)(n.img,{alt:"1756475738987",src:r(33144).A+"",width:"1188",height:"762"}),"\r\n\u4f8b\u5982\u7d22\u5f15(a, b)\u7684\u53f6\u5b50\u8282\u70b9\u4f1a\u5b8c\u6574\u5b58\u50a8(a, b)\u7684\u503c\uff0c\u5e76\u6309\u5b57\u6bb5\u987a\u5e8f\u6392\u5e8f\uff08\u5982 a \u4f18\u5148\uff0ca \u76f8\u540c\u5219\u6309 b \u6392\u5e8f\uff09\u3002\u5982\u679c\u4e3b\u952e\u662f id\uff0c\u53f6\u5b50\u8282\u70b9\u4f1a\u5b58\u50a8 (a, b, id) \u7684\u7ec4\u5408\u3002"]}),"\n",(0,i.jsx)(n.h3,{id:"\u8986\u76d6\u7d22\u5f15\u4e86\u89e3\u5417",children:"\ud83c\udf1f\u8986\u76d6\u7d22\u5f15\u4e86\u89e3\u5417\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u8986\u76d6\u7d22\u5f15\u6307\u7684\u662f\uff1a\u67e5\u8be2\u6240\u9700\u7684\u5b57\u6bb5\u5168\u90e8\u90fd\u5728\u7d22\u5f15\u4e2d\uff0c\u4e0d\u9700\u8981\u56de\u8868\uff0c\u4ece\u7d22\u5f15\u9875\u5c31\u80fd\u76f4\u63a5\u8fd4\u56de\u7ed3\u679c\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u53ef\u4ee5\u5c06\u9ad8\u9891\u67e5\u8be2\u7684\u5b57\u6bb5\uff08\u5982 WHERE \u6761\u4ef6\u548c SELECT \u5217\uff09\u7ec4\u5408\u4e3a\u8054\u5408\u7d22\u5f15\uff0c\u5b9e\u73b0\u8986\u76d6\u7d22\u5f15\u3002\r\n\u666e\u901a\u7d22\u5f15\u53ea\u7528\u4e8e\u52a0\u901f\u67e5\u8be2\u6761\u4ef6\u7684\u5339\u914d\uff0c\u800c\u8986\u76d6\u7d22\u5f15\u8fd8\u80fd\u76f4\u63a5\u63d0\u4f9b\u67e5\u8be2\u7ed3\u679c\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u4ec0\u4e48\u662f\u6700\u5de6\u524d\u7f00\u539f\u5219",children:"\ud83c\udf1f\u4ec0\u4e48\u662f\u6700\u5de6\u524d\u7f00\u539f\u5219\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u6700\u5de6\u524d\u7f00\u539f\u5219\u6307\u7684\u662f\uff1aMySQL \u4f7f\u7528\u8054\u5408\u7d22\u5f15\u65f6\uff0c\u5fc5\u987b\u4ece\u6700\u5de6\u8fb9\u7684\u5b57\u6bb5\u5f00\u59cb\u5339\u914d\uff0c\u624d\u80fd\u547d\u4e2d\u7d22\u5f15\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u5982\u679c\u6392\u5e8f\u6216\u5206\u7ec4\u7684\u5217\u662f\u6700\u5de6\u524d\u7f00\u7684\u4e00\u90e8\u5206\uff0c\u7d22\u5f15\u8fd8\u53ef\u4ee5\u52a0\u901f\u64cd\u4f5c\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u8303\u56f4\u67e5\u8be2\u540e\u7684\u5217\u8fd8\u80fd\u7528\u7d22\u5f15\u5417",children:"\u8303\u56f4\u67e5\u8be2\u540e\u7684\u5217\u8fd8\u80fd\u7528\u7d22\u5f15\u5417\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u8303\u56f4\u67e5\u8be2\u53ea\u80fd\u5e94\u7528\u4e8e\u6700\u5de6\u524d\u7f00\u7684\u6700\u540e\u4e00\u5217\u3002\u8303\u56f4\u67e5\u8be2\u4e4b\u540e\u7684\u5217\u65e0\u6cd5\u4f7f\u7528\u7d22\u5f15\u3002\r\nps: \u5982\u679c\u662f\u6307\u5b9a\u7684in\u4e5f\u7b97\u7cbe\u786e\u5339\u914d\u7684"}),"\n",(0,i.jsx)(n.h3,{id:"\u4e3a\u4ec0\u4e48\u4e0d\u4ece\u6700\u5de6\u5f00\u59cb\u67e5\u5c31\u65e0\u6cd5\u5339\u914d\u5462",children:"\u4e3a\u4ec0\u4e48\u4e0d\u4ece\u6700\u5de6\u5f00\u59cb\u67e5\uff0c\u5c31\u65e0\u6cd5\u5339\u914d\u5462\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u4e00\u53e5\u8bdd\u56de\u7b54\uff1a"}),"\n",(0,i.jsx)(n.p,{children:"\u56e0\u4e3a\u8054\u5408\u7d22\u5f15\u5728 B+ \u6811\u4e2d\u662f\u6309\u7167\u6700\u5de6\u5b57\u6bb5\u4f18\u5148\u6392\u5e8f\u6784\u5efa\u7684\uff0c\u5982\u679c\u8df3\u8fc7\u6700\u5de6\u5b57\u6bb5\uff0cMySQL \u65e0\u6cd5\u5224\u65ad\u67e5\u627e\u8303\u56f4\u4ece\u54ea\u91cc\u5f00\u59cb\uff0c\u81ea\u7136\u4e5f\u5c31\u65e0\u6cd5\u4f7f\u7528\u7d22\u5f15\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u4ec0\u4e48\u662f\u7d22\u5f15\u4e0b\u63a8",children:"\ud83c\udf1f\u4ec0\u4e48\u662f\u7d22\u5f15\u4e0b\u63a8\uff1f"}),"\n",(0,i.jsxs)(n.p,{children:["\u7d22\u5f15\u4e0b\u63a8\u662f\u6307\uff1aMySQL \u628a WHERE \u6761\u4ef6\u5c3d\u53ef\u80fd\u201c\u4e0b\u63a8\u201d\u5230\u7d22\u5f15\u626b\u63cf\u9636\u6bb5\uff0c\u5728\u5b58\u50a8\u5f15\u64ce\u5c42\u63d0\u524d\u8fc7\u6ee4\u6389\u4e0d\u7b26\u5408\u6761\u4ef6\u7684\u8bb0\u5f55\u3002\r\n",(0,i.jsx)(n.img,{alt:"1756475943770",src:r(58236).A+"",width:"751",height:"763"}),"\r\n\u5f53\u67e5\u8be2\u6761\u4ef6\u5305\u542b\u7d22\u5f15\u5217\u4f46\u672a\u5b8c\u5168\u5339\u914d\u65f6\uff0cICP \u4f1a\u5728\u5b58\u50a8\u5f15\u64ce\u5c42\u8fc7\u6ee4\u975e\u7d22\u5f15\u5217\u6761\u4ef6\uff0c\u4ee5\u51cf\u5c11\u56de\u8868\u6b21\u6570\u3002"]}),"\n",(0,i.jsx)(n.p,{children:"\u4f20\u7edf\u7684\u67e5\u8be2\u6d41\u7a0b\u662f\uff0c\u50a8\u5f15\u64ce\u901a\u8fc7\u8054\u5408\u7d22\u5f15\u5b9a\u4f4d\u5230\u7b26\u5408\u6700\u5de6\u524d\u7f00\u6761\u4ef6\u7684\u4e3b\u952e ID\uff1b\u56de\u8868\u8bfb\u53d6\u5b8c\u6574\u6570\u636e\u884c\u5e76\u8fd4\u56de\u7ed9 Server \u5c42\uff1bServer \u5c42\u5bf9\u6240\u6709\u8fd4\u56de\u7684\u884c\u8fdb\u884c WHERE \u6761\u4ef6\u8fc7\u6ee4\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u6709\u4e86 ICP \u540e\uff0c\u5b58\u50a8\u5f15\u64ce\u5728\u7d22\u5f15\u5c42\u76f4\u63a5\u8fc7\u6ee4\u53ef\u4e0b\u63a8\u7684\u6761\u4ef6\uff0c\u4ec5\u5bf9\u7b26\u5408\u7d22\u5f15\u6761\u4ef6\u7684\u8bb0\u5f55\u56de\u8868\u8bfb\u53d6\u6570\u636e\uff0c\u518d\u8fd4\u56de\u7ed9 Server \u5c42\u8fdb\u884c\u5269\u4f59\u6761\u4ef6\u8fc7\u6ee4\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u5982\u4f55\u67e5\u770b\u662f\u5426\u7528\u5230\u4e86\u7d22\u5f15\u8865\u5145",children:"\u5982\u4f55\u67e5\u770b\u662f\u5426\u7528\u5230\u4e86\u7d22\u5f15\uff1f\uff08\u8865\u5145\uff09"}),"\n",(0,i.jsx)(n.p,{children:"\u53ef\u4ee5\u901a\u8fc7 EXPLAIN \u5173\u952e\u5b57\u6765\u67e5\u770b\u662f\u5426\u4f7f\u7528\u4e86\u7d22\u5f15\u3002\r\n\u5982\u679c\u4f7f\u7528\u4e86\u7d22\u5f15\uff0c\u7ed3\u679c\u4e2d\u7684 key \u503c\u4f1a\u663e\u793a\u7d22\u5f15\u7684\u540d\u79f0\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"mysql-\u4e2d\u6709\u54ea\u51e0\u79cd\u9501",children:"\ud83c\udf1fMySQL \u4e2d\u6709\u54ea\u51e0\u79cd\u9501\uff1f"}),"\n",(0,i.jsxs)(n.p,{children:["MySQL \u4e2d\u6709\u591a\u79cd\u7c7b\u578b\u7684\u9501\uff0c\u53ef\u4ee5\u4ece\u4e0d\u540c\u7ef4\u5ea6\u6765\u5206\u7c7b\uff0c\u6309\u9501\u7c92\u5ea6\u5212\u5206\u7684\u8bdd\uff0c\u6709\u8868\u9501\u3001\u884c\u9501\u3002\r\n\u6309\u7167\u52a0\u9501\u673a\u5236\u5212\u5206\u7684\u8bdd\uff0c\u6709\u4e50\u89c2\u9501\u548c\u60b2\u89c2\u9501\u3002\u6309\u7167\u517c\u5bb9\u6027\u5212\u5206\u7684\u8bdd\uff0c\u6709\u5171\u4eab\u9501\u548c\u6392\u4ed6\u9501\u3002\r\n",(0,i.jsx)(n.img,{alt:"1756477634309",src:r(10749).A+"",width:"1080",height:"450"}),"\r\n\u8868\u9501\uff1a\u9501\u5b9a\u6574\u4e2a\u8868\uff0c\u8d44\u6e90\u5f00\u9500\u5c0f\uff0c\u52a0\u9501\u5feb\uff0c\u4f46\u5e76\u53d1\u5ea6\u4f4e\uff0c\u4e0d\u4f1a\u51fa\u73b0\u6b7b\u9501\uff1b\u9002\u5408\u67e5\u8be2\u4e3a\u4e3b\u3001\u5c11\u91cf\u66f4\u65b0\u7684\u573a\u666f\uff08\u5982 MyISAM \u5f15\u64ce\uff09\u3002"]}),"\n",(0,i.jsx)(n.p,{children:"IServise\uff1a\u8868\u7ea7\u9501\r\nIServise\uff1a\u8868\u7ea7\u9501\r\n\u518d\u7ec6\u5206\u7684\u8bdd\uff0c\u6709\u8868\u5171\u4eab\u8bfb\u9501\uff08S\u9501\uff09\uff1a\u5141\u8bb8\u591a\u4e2a\u4e8b\u52a1\u540c\u65f6\u8bfb\uff0c\u4f46\u963b\u585e\u5199\u64cd\u4f5c\uff1b\u8868\u72ec\u5360\u5199\u9501\uff08X\u9501\uff09\uff1a\u72ec\u5360\u8868\uff0c\u963b\u585e\u5176\u4ed6\u4e8b\u52a1\u7684\u8bfb\u5199\u3002"}),"\n",(0,i.jsx)(n.p,{children:"Draven\uff1a\u5171\u4eab\u9501\u548c\u72ec\u5360\u9501\r\nDraven\uff1a\u5171\u4eab\u9501\u548c\u72ec\u5360\u9501\r\n\u884c\u9501\uff1a\u9501\u5b9a\u5355\u884c\u6216\u591a\u884c\uff0c\u5f00\u9500\u5927\u3001\u52a0\u9501\u6162\uff0c\u53ef\u80fd\u51fa\u73b0\u6b7b\u9501\uff0c\u4f46\u5e76\u53d1\u5ea6\u9ad8\uff08InnoDB \u9ed8\u8ba4\u652f\u6301\uff09\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u518d\u7ec6\u5206\u7684\u8bdd\uff0c\u6709\u8bb0\u5f55\u9501\uff08Record Lock\uff09\uff1a\u9501\u5b9a\u7d22\u5f15\u4e2d\u7684\u5177\u4f53\u8bb0\u5f55\uff1b\u95f4\u9699\u9501\uff08Gap Lock\uff09\uff1a\u9501\u5b9a\u7d22\u5f15\u8bb0\u5f55\u4e4b\u95f4\u7684\u95f4\u9699\uff0c\u9632\u6b62\u5e7b\u8bfb\uff1b\u4e34\u952e\u9501\uff08Next-Key Lock\uff09\uff1a\u7ed3\u5408\u8bb0\u5f55\u9501\u548c\u95f4\u9699\u9501\uff0c\u9501\u5b9a\u4e00\u4e2a\u5de6\u5f00\u53f3\u95ed\u7684\u533a\u95f4\uff08\u5982 (5, 10]\uff09\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u5171\u4eab\u9501\uff08S\u9501/\u8bfb\u9501\uff09\uff0c\u5141\u8bb8\u591a\u4e2a\u4e8b\u52a1\u540c\u65f6\u8bfb\u53d6\u6570\u636e\uff0c\u4f46\u963b\u585e\u5199\u64cd\u4f5c\u3002\u8bed\u6cd5\uff1aSELECT ... LOCK IN SHARE MODE"}),"\n",(0,i.jsx)(n.p,{children:"\u6392\u4ed6\u9501\uff08X\u9501/\u5199\u9501\uff09\uff0c\u72ec\u5360\u6570\u636e\uff0c\u963b\u585e\u5176\u4ed6\u4e8b\u52a1\u7684\u8bfb\u5199\u3002\u8bed\u6cd5\uff1aSELECT ... FOR UPDATE\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u4e50\u89c2\u9501\u5047\u8bbe\u51b2\u7a81\u5c11\uff0c\u901a\u8fc7\u7248\u672c\u53f7\u6216 CAS \u673a\u5236\u68c0\u6d4b\u51b2\u7a81\uff08\u5982 UPDATE SET version=version+1 WHERE version=old_version\uff09\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u60b2\u89c2\u9501\u5047\u8bbe\u5e76\u53d1\u51b2\u7a81\u9891\u7e41\uff0c\u5148\u52a0\u9501\u518d\u64cd\u4f5cSELECT FOR UPDATE\u3002"}),"\n",(0,i.jsx)(n.p,{children:"---- \u8fd9\u90e8\u5206\u662f\u5e2e\u52a9\u5927\u5bb6\u7406\u89e3 end\uff0c\u9762\u8bd5\u4e2d\u53ef\u4e0d\u80cc"}),"\n",(0,i.jsx)(n.h3,{id:"\u5168\u5c40\u9501\u4e86\u89e3\u5417\u8865\u5145",children:"\u5168\u5c40\u9501\u4e86\u89e3\u5417\uff1f\uff08\u8865\u5145\uff09"}),"\n",(0,i.jsx)(n.p,{children:"\u5168\u5c40\u9501\u5c31\u662f\u5bf9\u6574\u4e2a\u6570\u636e\u5e93\u5b9e\u4f8b\u8fdb\u884c\u52a0\u9501\uff0c\u5f53\u6267\u884c\u5168\u5c40\u9501\u5b9a\u64cd\u4f5c\u65f6\uff0c\u6574\u4e2a\u6570\u636e\u5e93\u5c06\u4f1a\u5904\u4e8e\u53ea\u8bfb\u72b6\u6001\uff0c\u6240\u6709\u5199\u64cd\u4f5c\u90fd\u4f1a\u88ab\u963b\u585e\uff0c\u76f4\u5230\u5168\u5c40\u9501\u88ab\u91ca\u653e\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u5728\u8fdb\u884c\u5168\u5e93\u5907\u4efd\uff0c\u6216\u8005\u6570\u636e\u8fc1\u79fb\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u5168\u5c40\u9501\u6765\u4fdd\u8bc1\u6570\u636e\u7684\u4e00\u81f4\u6027\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u5728 MySQL \u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528 FLUSH TABLES WITH READ LOCK \u547d\u4ee4\u6765\u83b7\u53d6\u5168\u5c40\u9501\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u6267\u884c\u8be5\u547d\u4ee4\u540e\uff0c\u6240\u6709\u8868\u5c06\u88ab\u9501\u5b9a\u4e3a\u53ea\u8bfb\u72b6\u6001\u3002\u8bb0\u5f97\u5728\u5b8c\u6210\u5907\u4efd\u6216\u8fc1\u79fb\u540e\uff0c\u4f7f\u7528 UNLOCK TABLES \u547d\u4ee4\u91ca\u653e\u5168\u5c40\u9501\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u8868\u9501\u4e86\u89e3\u5417",children:"\u8868\u9501\u4e86\u89e3\u5417\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u8868\u9501\u5e38\u89c1\u4e8e MyISAM \u5f15\u64ce\uff0cInnoDB \u4e5f\u53ef\u4ee5\u624b\u52a8\u901a\u8fc7 LOCK TABLES \u52a0\u9501\u3002\r\n\u9002\u5408\u8bfb\u591a\u5199\u5c11\u3001\u5168\u8868\u626b\u63cf\u6216\u8005\u8868\u7ed3\u6784\u53d8\u66f4\u7684\u573a\u666f\u7528\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u8868\u9501\u53c8\u53ef\u4ee5\u7ec6\u5206\u4e3a\u5171\u4eab\u9501\u548c\u6392\u4ed6\u9501\u3002\u5171\u4eab\u9501\u5141\u8bb8\u591a\u4e2a\u4e8b\u52a1\u540c\u65f6\u8bfb\u8868\uff0c\u4f46\u4e0d\u5141\u8bb8\u5199\u64cd\u4f5c\u3002"}),"\n",(0,i.jsx)(n.p,{children:"MyISAM \u5728\u6267\u884c SELECT \u65f6\u4f1a\u81ea\u52a8\u52a0\u8bfb\u9501\uff0c\u6267\u884c INSERT/UPDATE/DELETE \u65f6\u4f1a\u52a0\u5199\u9501\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u5bf9\u4e8e InnoDB \u5f15\u64ce\uff0c\u65e0\u7d22\u5f15\u7684 UPDATE/DELETE \u53ef\u80fd\u4f1a\u5bfc\u81f4\u9501\u5347\u7ea7\u4e3a\u8868\u9501\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u8bf4\u8bf4-mysql-\u7684\u884c\u9501",children:"\ud83c\udf1f\u8bf4\u8bf4 MySQL \u7684\u884c\u9501\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u884c\u9501\u662f InnoDB \u5b58\u50a8\u5f15\u64ce\u4e2d\u6700\u7ec6\u7c92\u5ea6\u7684\u9501\uff0c\u5b83\u9501\u5b9a\u8868\u4e2d\u7684\u4e00\u884c\u8bb0\u5f55\uff0c\u5141\u8bb8\u5176\u4ed6\u4e8b\u52a1\u8bbf\u95ee\u8868\u4e2d\u7684\u5176\u4ed6\u884c\u3002"}),"\n",(0,i.jsxs)(n.p,{children:["\u5e95\u5c42\u662f\u901a\u8fc7\u7ed9\u7d22\u5f15\u52a0\u9501\u5b9e\u73b0\u7684\uff0c\u8fd9\u5c31\u610f\u5473\u7740\u53ea\u6709\u901a\u8fc7\u7d22\u5f15\u6761\u4ef6\u68c0\u7d22\u6570\u636e\u65f6\uff0cInnoDB \u624d\u80fd\u4f7f\u7528\u884c\u7ea7\u9501\uff0c\u5426\u5219\u4f1a\u9000\u5316\u4e3a\u8868\u9501\u3002\r\n",(0,i.jsx)(n.img,{alt:"1756477796316",src:r(66378).A+"",width:"799",height:"655"})]}),"\n",(0,i.jsx)(n.p,{children:"\u884c\u9501\u53c8\u53ef\u4ee5\u7ec6\u5206\u4e3a\u8bb0\u5f55\u9501\u3001\u95f4\u9699\u9501\u548c\u4e34\u952e\u9501\u4e09\u79cd\u5f62\u5f0f\u3002\u901a\u8fc7 SELECT ... FOR UPDATE \u53ef\u4ee5\u52a0\u6392\u4ed6\u9501\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u901a\u8fc7 SELECT ...LOCK IN SHARE MODE \u53ef\u4ee5\u52a0\u5171\u4eab\u9501\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"select-for-update-\u6709\u4ec0\u4e48\u9700\u8981\u6ce8\u610f\u7684",children:"select for update \u6709\u4ec0\u4e48\u9700\u8981\u6ce8\u610f\u7684\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u7b2c\u4e00\uff0c\u5fc5\u987b\u5728\u4e8b\u52a1\u4e2d\u4f7f\u7528\uff0c\u5426\u5219\u9501\u4f1a\u7acb\u5373\u91ca\u653e\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u7b2c\u4e8c\uff0c\u4f7f\u7528\u65f6\u5fc5\u987b\u6ce8\u610f\u662f\u5426\u547d\u4e2d\u7d22\u5f15\uff0c\u5426\u5219\u53ef\u80fd\u9501\u5168\u8868\u3002 \uff1f\uff1f\uff1f"}),"\n",(0,i.jsx)(n.h3,{id:"\u8bf4\u8bf4\u8bb0\u5f55\u9501\u5427",children:"\u8bf4\u8bf4\u8bb0\u5f55\u9501\u5427\uff1f"}),"\n",(0,i.jsxs)(n.p,{children:["\u8bb0\u5f55\u9501\u662f\u884c\u9501\u6700\u57fa\u672c\u7684\u8868\u73b0\u5f62\u5f0f\uff0c\u5f53\u6211\u4eec\u4f7f\u7528\u552f\u4e00\u7d22\u5f15\u6216\u8005\u4e3b\u952e\u7d22\u5f15\u8fdb\u884c\u7b49\u503c\u67e5\u8be2\u65f6\uff0cMySQL \u4f1a\u4e3a\u8be5\u8bb0\u5f55\u81ea\u52a8\u6dfb\u52a0\u6392\u4ed6\u9501\uff0c\u7981\u6b62\u5176\u4ed6\u4e8b\u52a1\u8bfb\u53d6\u6216\u8005\u4fee\u6539\u9501\u5b9a\u8bb0\u5f55\u3002\r\n",(0,i.jsx)(n.img,{alt:"1756478162741",src:r(88400).A+"",width:"1316",height:"1138"})]}),"\n",(0,i.jsx)(n.h3,{id:"\u95f4\u9699\u9501\u4e86\u89e3\u5417\u8865\u5145",children:"\u95f4\u9699\u9501\u4e86\u89e3\u5417\uff1f\uff08\u8865\u5145\uff09"}),"\n",(0,i.jsxs)(n.p,{children:["\u95f4\u9699\u9501\u7528\u4e8e\u5728\u8303\u56f4\u67e5\u8be2\u65f6\u9501\u5b9a\u8bb0\u5f55\u4e4b\u95f4\u7684\u201c\u95f4\u9699\u201d\uff0c\u9632\u6b62\u5176\u4ed6\u4e8b\u52a1\u5728\u8be5\u8303\u56f4\u5185\u63d2\u5165\u65b0\u8bb0\u5f55\u3002\u4ec5\u5728\u53ef\u91cd\u590d\u8bfb\u53ca\u4ee5\u4e0a\u7684\u9694\u79bb\u7ea7\u522b\u4e0b\u751f\u6548\uff0c\u4e3b\u8981\u7528\u4e8e\u9632\u6b62\u5e7b\u8bfb\u3002\r\n",(0,i.jsx)(n.img,{alt:"1756481552423",src:r(44808).A+"",width:"1658",height:"1174"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://www.51cto.com/article/779551.html",children:"\u516d\u4e2a\u6848\u4f8b\u641e\u61c2\u95f4\u9699\u9501"}),"\r\n",(0,i.jsx)(n.a,{href:"https://blog.csdn.net/javaanddonet/article/details/111187345",children:"MySQL\u4e2d\u95f4\u9699\u9501\u7684\u52a0\u9501\u673a\u5236"})]}),"\n",(0,i.jsx)(n.h3,{id:"\u6267\u884c\u4ec0\u4e48\u547d\u4ee4\u4f1a\u52a0\u4e0a\u95f4\u9699\u9501",children:"\u6267\u884c\u4ec0\u4e48\u547d\u4ee4\u4f1a\u52a0\u4e0a\u95f4\u9699\u9501\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u5728\u53ef\u91cd\u590d\u8bfb\u9694\u79bb\u7ea7\u522b\u4e0b\uff0c\u6267\u884c FOR UPDATE / LOCK IN SHARE MODE \u7b49\u52a0\u9501\u8bed\u53e5\uff0c\u4e14\u67e5\u8be2\u6761\u4ef6\u662f\u8303\u56f4\u67e5\u8be2\u65f6\uff0c\u5c31\u4f1a\u81ea\u52a8\u52a0\u4e0a\u95f4\u9699\u9501\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u4e34\u952e\u9501\u4e86\u89e3\u5417",children:"\u4e34\u952e\u9501\u4e86\u89e3\u5417\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u4e34\u952e\u9501\u662f\u8bb0\u5f55\u9501\u548c\u95f4\u9699\u9501\u7684\u7ed3\u5408\u4f53\uff0c\u9501\u4f4f\u7684\u662f\u7d22\u5f15\u8bb0\u5f55\u548c\u7d22\u5f15\u8bb0\u5f55\u4e4b\u95f4\u7684\u95f4\u9699\u3002"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.img,{alt:"1756481676105",src:r(68166).A+"",width:"1392",height:"734"}),"\r\n\u548c\u95f4\u9699\u9501\u4e0d\u540c\uff0c\u4e34\u952e\u9501\u7684\u95f4\u9699\u662f\u4e00\u4e2a\u5de6\u5f00\u53f3\u95ed\u533a\u95f4\u3002\u4f8b\u5982 (1,3] \u8868\u793a\u9501\u5b9a\u5927\u4e8e 1 \u4e14\u5c0f\u4e8e\u7b49\u4e8e 3 \u7684\u6240\u6709\u8bb0\u5f55\u3002"]}),"\n",(0,i.jsxs)(n.p,{children:["\u5f53 InnoDB \u6267\u884c\u4e00\u4e2a\u8303\u56f4\u67e5\u8be2\u65f6\uff0c\u4f1a\u4f7f\u7528\u4e34\u952e\u9501\u6765\u9501\u5b9a\u6ee1\u8db3\u6761\u4ef6\u7684\u884c\u6570\u636e\u4ee5\u53ca\u8be5\u8303\u56f4\u5185\u7684\u95f4\u9699\u3002\r\n",(0,i.jsx)(n.img,{alt:"1756481688211",src:r(96911).A+"",width:"1318",height:"786"}),"\r\n\u6bd4\u5982\u8bf4\u4e0b\u9762\u8fd9\u6761\u8bed\u53e5\u4f1a\u9501\u5b9a id \u5728 5 \u5230 10 \u4e4b\u95f4\u7684\u6240\u6709\u8bb0\u5f55\uff0c\u4ee5\u53ca\u8fd9\u4e9b\u8bb0\u5f55\u4e4b\u95f4\u7684\u95f4\u9699\u3002"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-mysql",children:"SELECT * FROM table WHERE id BETWEEN 5 AND 10 FOR UPDATE;\n"})}),"\n",(0,i.jsx)(n.p,{children:"MySQL \u9ed8\u8ba4\u7684\u884c\u9501\u7c7b\u578b\u5c31\u662f\u4e34\u952e\u9501\u3002\u5f53\u4f7f\u7528\u552f\u4e00\u7d22\u5f15\u7684\u7b49\u503c\u67e5\u8be2\u5339\u914d\u5230\u4e00\u6761\u8bb0\u5f55\u65f6\uff0c\u4e34\u952e\u9501\u4f1a\u9000\u5316\u6210\u8bb0\u5f55\u9501\uff1b\u5982\u679c\u6ca1\u6709\u5339\u914d\u5230\u4efb\u4f55\u8bb0\u5f55\uff0c\u4f1a\u9000\u5316\u6210\u95f4\u9699\u9501\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u610f\u5411\u9501\u662f\u4ec0\u4e48\u77e5\u9053\u5417",children:"\u610f\u5411\u9501\u662f\u4ec0\u4e48\u77e5\u9053\u5417\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u610f\u5411\u9501\u662f\u4e00\u79cd\u8868\u7ea7\u9501\uff0c\u8868\u793a\u4e8b\u52a1\u6253\u7b97\u5bf9\u8868\u4e2d\u7684\u67d0\u4e9b\u884c\u6570\u636e\u52a0\u9501\uff0c\u4f46\u4e0d\u4f1a\u76f4\u63a5\u9501\u5b9a\u6570\u636e\u884c\u672c\u8eab\u3002"}),"\n",(0,i.jsxs)(n.p,{children:["\u7531 InnoDB \u81ea\u52a8\u7ba1\u7406\uff0c\u5f53\u4e8b\u52a1\u9700\u8981\u6dfb\u52a0\u884c\u9501\u65f6\uff0c\u4f1a\u5148\u5728\u8868\u4e0a\u6dfb\u52a0\u610f\u5411\u9501\u3002\u8fd9\u6837\u5f53\u8981\u6dfb\u52a0\u8868\u9501\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u901a\u8fc7\u67e5\u770b\u8868\u4e0a\u7684\u610f\u5411\u9501\uff0c\u5feb\u901f\u5224\u65ad\u662f\u5426\u6709\u51b2\u7a81\uff0c\u800c\u65e0\u9700\u9010\u884c\u68c0\u67e5\uff0c\u4ece\u800c\u63d0\u9ad8\u52a0\u9501\u6548\u7387\u3002\r\n",(0,i.jsx)(n.img,{alt:"1756481738422",src:r(32459).A+"",width:"1080",height:"737"}),"\r\n\u5f53\u6267\u884c SELECT ... LOCK IN SHARE MODE \u65f6\uff0c\u4f1a\u81ea\u52a8\u52a0\u610f\u5411\u5171\u4eab\u9501\uff1b\u5f53\u6267\u884c SELECT ... FOR UPDATE \u65f6\uff0c\u4f1a\u81ea\u52a8\u52a0\u610f\u5411\u6392\u4ed6\u9501\u3002"]}),"\n",(0,i.jsx)(n.p,{children:"\u610f\u5411\u9501\u4e4b\u95f4\u4e92\u76f8\u517c\u5bb9\uff0c\u4e5f\u4e0d\u4f1a\u4e0e\u884c\u9501\u51b2\u7a81\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u610f\u5411\u9501\u7684\u610f\u4e49\u662f\u4ec0\u4e48",children:"\u610f\u5411\u9501\u7684\u610f\u4e49\u662f\u4ec0\u4e48\uff1f"}),"\n",(0,i.jsxs)(n.p,{children:["\u5728\u6ca1\u6709\u610f\u5411\u9501\u7684\u60c5\u51b5\u4e0b\uff0c\u5f53\u4e8b\u52a1 A \u6301\u6709\u67d0\u8868\u7684\u884c\u9501\u65f6\uff0c\u5982\u679c\u4e8b\u52a1 B \u60f3\u6dfb\u52a0\u8868\u9501\uff0cInnoDB \u5fc5\u987b\u68c0\u67e5\u8868\u4e2d\u6bcf\u4e00\u884c\u6570\u636e\u662f\u5426\u88ab\u52a0\u9501\uff0c\u8fd9\u79cd\u5168\u8868\u626b\u63cf\u7684\u65b9\u5f0f\u6548\u7387\u6781\u4f4e\u3002\r\n",(0,i.jsx)(n.img,{alt:"1756481785071",src:r(13931).A+"",width:"1196",height:"868"}),"\r\n\u6709\u4e86\u610f\u5411\u9501\u4e4b\u540e\uff0c\u4e8b\u52a1\u5728\u52a0\u884c\u9501\u524d\uff0c\u5148\u5728\u8868\u4e0a\u52a0\u5bf9\u5e94\u7684\u610f\u5411\u9501\uff1b\u5176\u4ed6\u4e8b\u52a1\u52a0\u8868\u9501\u65f6\uff0c\u53ea\u9700\u68c0\u67e5\u8868\u4e0a\u7684\u610f\u5411\u9501\uff0c\u65e0\u9700\u9010\u884c\u68c0\u67e5\u3002"]}),"\n",(0,i.jsx)(n.h3,{id:"mysql\u7684\u4e50\u89c2\u9501\u548c\u60b2\u89c2\u9501\u4e86\u89e3\u5417",children:"\ud83c\udf1fMySQL\u7684\u4e50\u89c2\u9501\u548c\u60b2\u89c2\u9501\u4e86\u89e3\u5417\uff1f"}),"\n",(0,i.jsxs)(n.p,{children:['\u60b2\u89c2\u9501\u662f\u4e00\u79cd"\u5148\u4e0a\u9501\u518d\u64cd\u4f5c"\u7684\u4fdd\u5b88\u7b56\u7565\uff0c\u5b83\u5047\u8bbe\u6570\u636e\u88ab\u5916\u754c\u8bbf\u95ee\u65f6\u5fc5\u7136\u4f1a\u4ea7\u751f\u51b2\u7a81\uff0c\u56e0\u6b64\u5728\u6570\u636e\u5904\u7406\u8fc7\u7a0b\u4e2d\u5168\u7a0b\u52a0\u9501\uff0c\u4fdd\u8bc1\u540c\u4e00\u65f6\u95f4\u53ea\u6709\u4e00\u4e2a\u7ebf\u7a0b\u53ef\u4ee5\u8bbf\u95ee\u6570\u636e\u3002\r\nMySQL \u4e2d\u7684\u884c\u9501\u548c\u8868\u9501\u90fd\u662f\u60b2\u89c2\u9501\u3002\r\n',(0,i.jsx)(n.img,{alt:"1756481831954",src:r(92871).A+"",width:"853",height:"373"}),"\r\n\u4e50\u89c2\u9501\u4f1a\u5047\u8bbe\u5e76\u53d1\u64cd\u4f5c\u4e0d\u4f1a\u603b\u53d1\u751f\u51b2\u7a81\uff0c\u5c5e\u4e8e\u5c0f\u6982\u7387\u4e8b\u4ef6\uff0c\u56e0\u6b64\u4e0d\u4f1a\u5728\u8bfb\u53d6\u6570\u636e\u65f6\u52a0\u9501\uff0c\u800c\u662f\u5728\u63d0\u4ea4\u66f4\u65b0\u65f6\u624d\u68c0\u67e5\u6570\u636e\u662f\u5426\u88ab\u5176\u4ed6\u4e8b\u52a1\u4fee\u6539\u8fc7\u3002\r\n",(0,i.jsx)(n.img,{alt:"1756481836013",src:r(8092).A+"",width:"853",height:"373"}),"\r\n\u4e50\u89c2\u9501\u5e76\u4e0d\u662f MySQL \u5185\u7f6e\u7684\u9501\u673a\u5236\uff0c\u800c\u662f\u901a\u8fc7\u7a0b\u5e8f\u903b\u8f91\u5b9e\u73b0\u7684\uff0c\u5e38\u89c1\u7684\u5b9e\u73b0\u65b9\u5f0f\u6709\u7248\u672c\u53f7\u673a\u5236\u548c\u65f6\u95f4\u6233\u673a\u5236\u3002\u901a\u8fc7\u5728\u8868\u4e2d\u589e\u52a0 version \u5b57\u6bb5\u6216\u8005 timestamp \u5b57\u6bb5\u6765\u5b9e\u73b0\u3002"]}),"\n",(0,i.jsx)(n.h3,{id:"\u5982\u4f55\u901a\u8fc7\u60b2\u89c2\u9501\u548c\u4e50\u89c2\u9501\u89e3\u51b3\u5e93\u5b58\u8d85\u5356\u95ee\u9898",children:"\u5982\u4f55\u901a\u8fc7\u60b2\u89c2\u9501\u548c\u4e50\u89c2\u9501\u89e3\u51b3\u5e93\u5b58\u8d85\u5356\u95ee\u9898\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u60b2\u89c2\u9501\u901a\u8fc7 SELECT ... FOR UPDATE \u5728\u67e5\u8be2\u65f6\u76f4\u63a5\u9501\u5b9a\u8bb0\u5f55\uff0c\u786e\u4fdd\u5176\u4ed6\u4e8b\u52a1\u5fc5\u987b\u7b49\u5f85\u5f53\u524d\u4e8b\u52a1\u5b8c\u6210\u624d\u80fd\u64cd\u4f5c\u8be5\u884c\u6570\u636e\u3002"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-mysql",children:"BEGIN;\r\n-- \u5bf9id=1\u7684\u5546\u54c1\u8bb0\u5f55\u52a0\u6392\u4ed6\u9501\r\nSELECT stock FROM products WHERE id=1 FOR UPDATE;\r\n-- \u751f\u6210\u8ba2\u5355\r\nINSERT INTO orders (user_id, product_id) VALUES (123, 1);\r\n-- \u6263\u51cf\u5e93\u5b58\r\nUPDATE products SET stock=stock-1 WHERE id=1;\r\nCOMMIT;\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u4e50\u89c2\u9501\u901a\u8fc7\u5728\u8868\u4e2d\u589e\u52a0 version \u5b57\u6bb5\u4f5c\u4e3a\u5224\u65ad\u6761\u4ef6\u3002"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-mysql",children:"-- \u67e5\u8be2\u5546\u54c1\u4fe1\u606f\uff0c\u83b7\u53d6\u7248\u672c\u53f7\r\nSELECT stock, version FROM products WHERE id=1;\r\n\r\n-- \u66f4\u65b0\u5e93\u5b58\u65f6\u68c0\u67e5\u7248\u672c\u53f7\r\nUPDATE products \r\nSET stock=stock-1, version=version+1 \r\nWHERE id=1 AND version=\u65e7\u7248\u672c\u53f7;\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u9047\u5230\u8fc7mysql\u6b7b\u9501\u95ee\u9898\u5417\u4f60\u662f\u5982\u4f55\u89e3\u51b3\u7684",children:"\u9047\u5230\u8fc7MySQL\u6b7b\u9501\u95ee\u9898\u5417\uff0c\u4f60\u662f\u5982\u4f55\u89e3\u51b3\u7684\uff1f"}),"\n",(0,i.jsxs)(n.p,{children:["\u9047\u5230\u8fc7\u3002MySQL \u7684\u6b7b\u9501\u662f\u7531\u4e8e\u591a\u4e2a\u4e8b\u52a1\u6301\u6709\u8d44\u6e90\u5e76\u76f8\u4e92\u7b49\u5f85\u5f15\u8d77\u7684\u3002\u6211\u901a\u8fc7 SHOW ENGINE INNODB STATUS \u67e5\u770b\u6b7b\u9501\u4fe1\u606f\uff0c\u5b9a\u4f4d\u5230\u662f\u52a0\u9501\u987a\u5e8f\u4e0d\u4e00\u81f4\u5bfc\u81f4\u7684\uff0c\u6700\u540e\u901a\u8fc7\u8c03\u6574\u52a0\u9501\u987a\u5e8f\u89e3\u51b3\u4e86\u8fd9\u4e2a\u95ee\u9898\u3002\r\n",(0,i.jsx)(n.img,{alt:"1756481996611",src:r(19681).A+"",width:"2400",height:"1116"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-mysql",children:"-- \u521b\u5efa\u8868/\u63d2\u5165\u6570\u636e\r\nCREATE TABLE account (\r\n    id INT AUTO_INCREMENT PRIMARY KEY,\r\n    balance INT NOT NULL\r\n);\r\n\r\nINSERT INTO account (balance) VALUES (100), (200);\r\n\r\n-- \u4e8b\u52a1 1\r\nSTART TRANSACTION;\r\n-- \u9501\u4f4f id=1 \u7684\u884c\r\nUPDATE account SET balance = balance - 10 WHERE id = 1;\r\n\r\n-- \u7b49\u5f85\u9501\u4f4f id=2 \u7684\u884c\uff08\u4e8b\u52a1 2 \u5df2\u9501\u4f4f\uff09\r\nUPDATE account SET balance = balance + 10 WHERE id = 2;\r\n\r\n-- \u4e8b\u52a1 2\r\nSTART TRANSACTION;\r\n-- \u9501\u4f4f id=2 \u7684\u884c\r\nUPDATE account SET balance = balance - 10 WHERE id = 2;\r\n\r\n-- \u7b49\u5f85\u9501\u4f4f id=1 \u7684\u884c\uff08\u4e8b\u52a1 1 \u5df2\u9501\u4f4f\uff09\r\nUPDATE account SET balance = balance + 10 WHERE id = 1;\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u8bbf\u95ee\u76f8\u540c\u7684\u8d44\u6e90\uff0c\u4f46\u987a\u5e8f\u4e0d\u540c\uff0c\u5c31\u4f1a\u5bfc\u81f4\u6b7b\u9501\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u89e3\u51b3\u529e\u6cd5\u4e5f\u5f88\u7b80\u5355\uff0c\u5148\u4f7f\u7528 SHOW ENGINE INNODB STATUS\\G; \u786e\u8ba4\u6b7b\u9501\u7684\u5177\u4f53\u4fe1\u606f\uff0c\u7136\u540e\u8c03\u6574\u8d44\u6e90\u7684\u8bbf\u95ee\u987a\u5e8f\u3002"}),"\n",(0,i.jsx)(n.h2,{id:"\u4e8b\u52a1",children:"\u4e8b\u52a1"}),"\n",(0,i.jsx)(n.h3,{id:"mysql\u4e8b\u52a1\u7684\u56db\u5927\u7279\u6027\u8bf4\u4e00\u4e0b",children:"\ud83c\udf1fMySQL\u4e8b\u52a1\u7684\u56db\u5927\u7279\u6027\u8bf4\u4e00\u4e0b\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u4e8b\u52a1\u662f\u4e00\u6761\u6216\u591a\u6761 SQL \u8bed\u53e5\u7ec4\u6210\u7684\u6267\u884c\u5355\u5143\u3002\u56db\u4e2a\u7279\u6027\u5206\u522b\u662f\u539f\u5b50\u6027\u3001\u4e00\u81f4\u6027\u3001\u9694\u79bb\u6027\u548c\u6301\u4e45\u6027\u3002\r\n\u539f\u5b50\u6027\u4fdd\u8bc1\u4e8b\u52a1\u4e2d\u7684\u64cd\u4f5c\u8981\u4e48\u5168\u90e8\u6267\u884c\u3001\u8981\u4e48\u5168\u90e8\u5931\u8d25\uff1b\r\n\u4e00\u81f4\u6027\u4fdd\u8bc1\u6570\u636e\u4ece\u4e8b\u52a1\u5f00\u59cb\u524d\u7684\u4e00\u4e2a\u4e00\u81f4\u72b6\u6001\u8f6c\u79fb\u5230\u7ed3\u675f\u540e\u7684\u53e6\u5916\u4e00\u4e2a\u4e00\u81f4\u72b6\u6001\uff1b\r\n\u9694\u79bb\u6027\u4fdd\u8bc1\u5e76\u53d1\u4e8b\u52a1\u4e4b\u95f4\u4e92\u4e0d\u5e72\u6270\uff1b\r\n\u6301\u4e45\u6027\u4fdd\u8bc1\u4e8b\u52a1\u63d0\u4ea4\u540e\u6570\u636e\u4e0d\u4f1a\u4e22\u5931\u3002"}),"\n",(0,i.jsx)(n.h4,{id:"\u8be6\u7ec6\u8bf4\u4e00\u4e0b\u539f\u5b50\u6027",children:"\u8be6\u7ec6\u8bf4\u4e00\u4e0b\u539f\u5b50\u6027\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u7b80\u77ed\u56de\u7b54\uff1a\u539f\u5b50\u6027\u8981\u6c42\u4e8b\u52a1\u7684\u6240\u6709\u64cd\u4f5c\u8981\u4e48\u5168\u90e8\u63d0\u4ea4\u6210\u529f\uff0c\u8981\u4e48\u5168\u90e8\u5931\u8d25\u56de\u6eda\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u4e8b\u52a1\u4e2d\u7684\u64cd\u4f5c\u4e0d\u80fd\u53ea\u6267\u884c\u5176\u4e2d\u4e00\u90e8\u5206\u3002"}),"\n",(0,i.jsx)(n.h4,{id:"\u8be6\u7ec6\u8bf4\u4e00\u4e0b\u4e00\u81f4\u6027",children:"\u8be6\u7ec6\u8bf4\u4e00\u4e0b\u4e00\u81f4\u6027\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u4e00\u81f4\u6027\u786e\u4fdd\u6570\u636e\u7684\u72b6\u6001\u4ece\u4e00\u4e2a\u4e00\u81f4\u72b6\u6001\u8f6c\u53d8\u4e3a\u53e6\u4e00\u4e2a\u4e00\u81f4\u72b6\u6001\u3002\u4e00\u81f4\u6027\u4e0e\u4e1a\u52a1\u89c4\u5219\u6709\u5173\uff0c\u6bd4\u5982\u94f6\u884c\u8f6c\u8d26\uff0c\u4e0d\u8bba\u4e8b\u52a1\u6210\u529f\u8fd8\u662f\u5931\u8d25\uff0c\u8f6c\u8d26\u53cc\u65b9\u7684\u603b\u91d1\u989d\u5e94\u8be5\u662f\u4e0d\u53d8\u7684\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u8be6\u7ec6\u8bf4\u4e00\u4e0b\u9694\u79bb\u6027",children:"\u8be6\u7ec6\u8bf4\u4e00\u4e0b\u9694\u79bb\u6027\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u9694\u79bb\u6027\u610f\u5473\u7740\u5e76\u53d1\u6267\u884c\u7684\u4e8b\u52a1\u662f\u5f7c\u6b64\u9694\u79bb\u7684\uff0c\u4e00\u4e2a\u4e8b\u52a1\u7684\u6267\u884c\u4e0d\u4f1a\u88ab\u5176\u4ed6\u4e8b\u52a1\u5e72\u6270\u3002\u4e8b\u52a1\u4e4b\u95f4\u662f\u4e95\u6c34\u4e0d\u72af\u6cb3\u6c34\u7684\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u9694\u79bb\u6027\u4e3b\u8981\u662f\u4e3a\u4e86\u89e3\u51b3\u4e8b\u52a1\u5e76\u53d1\u6267\u884c\u65f6\u53ef\u80fd\u51fa\u73b0\u7684\u810f\u8bfb\u3001\u4e0d\u53ef\u91cd\u590d\u8bfb\u3001\u5e7b\u8bfb\u7b49\u95ee\u9898\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u8be6\u7ec6\u8bf4\u4e00\u4e0b\u6301\u4e45\u6027",children:"\u8be6\u7ec6\u8bf4\u4e00\u4e0b\u6301\u4e45\u6027\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u4e00\u65e6\u4e8b\u52a1\u63d0\u4ea4\uff0c\u5219\u5176\u6240\u505a\u7684\u4fee\u6539\u5c06\u6c38\u4e45\u4fdd\u5b58\u5230 MySQL \u4e2d\u3002\u5373\u4f7f\u53d1\u751f\u7cfb\u7edf\u5d29\u6e83\uff0c\u4fee\u6539\u7684\u6570\u636e\u4e5f\u4e0d\u4f1a\u4e22\u5931\u3002"}),"\n",(0,i.jsx)(n.p,{children:"MySQL \u7684\u6301\u4e45\u6027\u662f\u901a\u8fc7 InnoDB \u5f15\u64ce\u7684 redo log \u5b9e\u73b0\u7684\u3002\u5728\u4e8b\u52a1\u63d0\u4ea4\u65f6\uff0cInnoDB \u4f1a\u5148\u5c06\u4fee\u6539\u64cd\u4f5c\u5199\u5165 redo log\uff0c\u5e76\u5237\u76d8\u6301\u4e45\u5316\u3002\u5d29\u6e83\u540e\uff0cInnoDB \u4f1a\u901a\u8fc7 redo log \u6062\u590d\u6570\u636e\uff0c\u4ece\u800c\u4fdd\u8bc1\u4e8b\u52a1\u63d0\u4ea4\u6210\u529f\u7684\u6570\u636e\u4e0d\u4f1a\u4e22\u5931\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"acid-\u9760\u4ec0\u4e48\u4fdd\u8bc1\u7684\u5462",children:"ACID \u9760\u4ec0\u4e48\u4fdd\u8bc1\u7684\u5462\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"ACID \u4e2d\u7684\u539f\u5b50\u6027\u4e3b\u8981\u901a\u8fc7 Undo Log \u6765\u5b9e\u73b0\uff0c\u6301\u4e45\u6027\u901a\u8fc7 Redo Log \u6765\u5b9e\u73b0\uff0c\u9694\u79bb\u6027\u7531 MVCC \u548c\u9501\u673a\u5236\u6765\u5b9e\u73b0\uff0c\u4e00\u81f4\u6027\u5219\u7531\u5176\u4ed6\u4e09\u5927\u7279\u6027\u5171\u540c\u4fdd\u8bc1\u3002"}),"\n",(0,i.jsx)(n.h4,{id:"\u8be6\u7ec6\u8bf4\u8bf4\u5982\u4f55\u4fdd\u8bc1\u539f\u5b50\u6027",children:"\u8be6\u7ec6\u8bf4\u8bf4\u5982\u4f55\u4fdd\u8bc1\u539f\u5b50\u6027\uff1f"}),"\n",(0,i.jsxs)(n.p,{children:["\u4e8b\u52a1\u5bf9\u6570\u636e\u8fdb\u884c\u4fee\u6539\u524d\uff0c\u4f1a\u8bb0\u5f55\u4e00\u4efd\u5feb\u7167\u5230 Undo Log\uff0c\u5982\u679c\u4e8b\u52a1\u4e2d\u6709\u4efb\u4f55\u4e00\u6b65\u6267\u884c\u5931\u8d25\uff0c\u7cfb\u7edf\u4f1a\u8bfb\u53d6 Undo Log \u5c06\u6240\u6709\u64cd\u4f5c\u56de\u6eda\uff0c\u6062\u590d\u5230\u4e8b\u52a1\u5f00\u59cb\u524d\u7684\u72b6\u6001\uff0c\u4ece\u800c\u4fdd\u8bc1\u4e8b\u52a1\u8981\u4e48\u5168\u90e8\u6210\u529f\uff0c\u8981\u4e48\u5168\u90e8\u5931\u8d25\u3002\r\n",(0,i.jsx)(n.img,{alt:"1756482280050",src:r(79535).A+"",width:"418",height:"461"})]}),"\n",(0,i.jsx)(n.h4,{id:"\u8be6\u7ec6\u8bf4\u8bf4\u5982\u4f55\u4fdd\u8bc1\u6301\u4e45\u6027",children:"\u8be6\u7ec6\u8bf4\u8bf4\u5982\u4f55\u4fdd\u8bc1\u6301\u4e45\u6027\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"MySQL \u7684\u6301\u4e45\u6027\u4e3b\u8981\u7531\u9884\u5199 Redo Log\u3001\u53cc\u5199\u673a\u5236\u3001\u4e24\u9636\u6bb5\u63d0\u4ea4\u4ee5\u53ca Checkpoint \u5237\u76d8\u673a\u5236\u5171\u540c\u4fdd\u8bc1\u3002"}),"\n",(0,i.jsxs)(n.p,{children:["\u5f53\u4e8b\u52a1\u63d0\u4ea4\u65f6\uff0cMySQL \u4f1a\u5148\u5c06\u4e8b\u52a1\u7684\u4fee\u6539\u64cd\u4f5c\u5199\u5165 Redo Log\uff0c\u5e76\u5f3a\u5236\u5237\u76d8\uff0c\u7136\u540e\u518d\u5c06\u5185\u5b58\u4e2d\u7684\u6570\u636e\u9875\u5237\u5165\u78c1\u76d8\u3002\u8fd9\u6837\u5373\u4f7f\u7cfb\u7edf\u5d29\u6e83\uff0c\u91cd\u542f\u540e\u4e5f\u80fd\u901a\u8fc7 Redo Log \u91cd\u653e\u6062\u590d\u6570\u636e\u3002\r\n",(0,i.jsx)(n.img,{alt:"1756482323188",src:r(14509).A+"",width:"720",height:"614"}),"\r\n\u5728\u5c06\u6570\u636e\u9875\u5199\u5165\u5230\u78c1\u76d8\u65f6\uff0c\u5982\u679c\u53d1\u751f\u5d29\u6e83\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u6570\u636e\u9875\u4e0d\u5b8c\u6574\u3002InnoDB \u7684\u6570\u636e\u9875\u5927\u5c0f\u4e3a16KB\uff0c\u901a\u5e38\u5927\u4e8e\u64cd\u4f5c\u7cfb\u7edf\u7684 4KB\u9875\u5927\u5c0f\u3002"]}),"\n",(0,i.jsxs)(n.p,{children:["\u4e3a\u4e86\u89e3\u51b3\u53ea\u5199\u5165\u90e8\u5206\u7684\u95ee\u9898\uff0cMySQL \u91c7\u7528\u4e86\u53cc\u5199\u673a\u5236\uff0c\u810f\u76d8\u5237\u9875\u65f6\uff0c\u5148\u5c06\u6570\u636e\u9875\u5199\u5165\u5230\u4e00\u4e2a\u53cc\u5199\u7f13\u51b2\u533a\u4e2d\uff0c2M \u7684\u8fde\u7eed\u7a7a\u95f4\uff0c\u7136\u540e\u518d\u5c06\u5176\u5199\u5165\u5230\u78c1\u76d8\u7684\u5b9e\u9645\u4f4d\u7f6e\u3002\r\n",(0,i.jsx)(n.img,{alt:"1756482367604",src:r(22958).A+"",width:"1080",height:"551"}),"\r\n\u5d29\u6e83\u6062\u590d\u65f6\uff0c\u5982\u679c\u53d1\u73b0\u6570\u636e\u9875\u4e0d\u5b8c\u6574\uff0c\u4f1a\u4ece\u53cc\u5199\u7f13\u51b2\u533a\u4e2d\u6062\u590d\u526f\u672c\uff0c\u786e\u4fdd\u6570\u636e\u9875\u7684\u5b8c\u6574\u6027\u3002"]}),"\n",(0,i.jsxs)(n.p,{children:["\u5728\u6d89\u53ca\u4e3b\u4ece\u590d\u5236\u65f6\uff0cMySQL \u901a\u8fc7\u4e24\u9636\u6bb5\u63d0\u4ea4\u4fdd\u8bc1 Redo Log \u548c Binlog \u7684\u4e00\u81f4\u6027\uff1a\u7b2c\u4e00\u9636\u6bb5\uff0c\u5199\u5165 Redo Log \u5e76\u6807\u8bb0\u4e3a prepare \u72b6\u6001\uff1b\u7b2c\u4e8c\u9636\u6bb5\uff0c\u5199\u5165 Binlog \u518d\u63d0\u4ea4 Redo Log \u4e3a commit \u72b6\u6001\u3002\r\n",(0,i.jsx)(n.img,{alt:"1756482384018",src:r(59772).A+"",width:"757",height:"1492"}),"\r\n\u5d29\u6e83\u6062\u590d\u65f6\uff0c\u5982\u679c\u53d1\u73b0 Redo Log \u662f prepare \u4f46 Binlog \u5b8c\u6574\uff0c\u5219\u4f1a\u63d0\u4ea4\u4e8b\u52a1\uff1b\u53cd\u4e4b\u4f1a\u56de\u6eda\uff0c\u907f\u514d\u4e3b\u4ece\u4e0d\u4e00\u81f4\u3002"]}),"\n",(0,i.jsxs)(n.p,{children:["\u53e6\u5916\uff0c\u7531\u4e8e Redo Log \u7684\u5bb9\u91cf\u6709\u9650\uff0cCheckpoint \u673a\u5236\u4f1a\u5b9a\u671f\u5c06\u5185\u5b58\u4e2d\u7684\u810f\u9875\u5237\u5230\u78c1\u76d8\uff0c\u8fd9\u6837\u80fd\u51cf\u5c11\u5d29\u6e83\u6062\u590d\u65f6\u9700\u8981\u5904\u7406\u7684 Redo Log \u6570\u91cf\u3002\r\n",(0,i.jsx)(n.img,{alt:"1756482393496",src:r(15810).A+"",width:"720",height:"276"})]}),"\n",(0,i.jsx)(n.p,{children:"\u6df1\u5165\u89e3\u6790MySQL\u53cc\u5199\u7f13\u51b2\u533a   \uff1f\r\nMySQL \u4e8b\u52a1\u4e8c\u9636\u6bb5\u63d0\u4ea4  \uff1f"}),"\n",(0,i.jsx)(n.h3,{id:"\u8be6\u7ec6\u8bf4\u8bf4\u5982\u4f55\u4fdd\u8bc1\u9694\u79bb\u6027",children:"\u8be6\u7ec6\u8bf4\u8bf4\u5982\u4f55\u4fdd\u8bc1\u9694\u79bb\u6027\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u9694\u79bb\u6027\u4e3b\u8981\u901a\u8fc7\u9501\u673a\u5236\u548c MVCC \u6765\u5b9e\u73b0\u3002"}),"\n",(0,i.jsxs)(n.p,{children:["\u6bd4\u5982\u8bf4\u4e00\u4e2a\u4e8b\u52a1\u6b63\u5728\u4fee\u6539\u67d0\u6761\u6570\u636e\u65f6\uff0cMySQL \u4f1a\u901a\u8fc7\u4e34\u952e\u9501\u6765\u9632\u6b62\u5176\u4ed6\u4e8b\u52a1\u540c\u65f6\u8fdb\u884c\u4fee\u6539\uff0c\u907f\u514d\u6570\u636e\u51b2\u7a81\u3002\r\n",(0,i.jsx)(n.img,{alt:"1756482430078",src:r(77436).A+"",width:"1203",height:"672"}),"\r\n\u540c\u65f6\uff0c\u4e34\u952e\u9501\u53ef\u4ee5\u9632\u6b62\u5e7b\u8bfb\u73b0\u8c61\u7684\u53d1\u751f\u3002\u6bd4\u5982\u4e8b\u52a1 A \u67e5\u8be2 id > 10 \u7684\u8bb0\u5f55\uff0c\u90a3\u4e48\u4e34\u952e\u9501\u4e0d\u4ec5\u4f1a\u9501\u4f4f id=10 \u7684\u884c\uff0c\u8fd8\u4f1a\u9501\u4f4f 10 \u540e\u9762\u7684\u201c\u95f4\u9699\u201d\uff0c\u9632\u6b62\u5176\u4ed6\u4e8b\u52a1\u63d2\u5165 id=15 \u7684\u6570\u636e\u3002"]}),"\n",(0,i.jsx)(n.p,{children:"\u5047\u5982\u8868\u4e2d\u7684\u4e3b\u952e\u6709 id: 5, 10, 15, 20, 25\uff0c\u90a3\u4e48 InnoDB \u4f1a\u5bf9\u4ee5\u4e0b\u533a\u95f4\u548c\u8bb0\u5f55\u52a0\u9501\uff1a"}),"\n",(0,i.jsx)(n.p,{children:"\u52a0\u9501\u5bf9\u8c61\t\u7c7b\u578b\t\u9501\u5b9a\u542b\u4e49\r\n(10, 15]\t\u4e34\u952e\u9501\t\u9501\u4f4f id=15 \u548c\u524d\u95f4\u9699\uff0c\u9632\u6b62\u63d2\u516511~14\r\n(15, 20]\t\u4e34\u952e\u9501\t\u9501\u4f4f\u4e86 id=20 \u548c\u524d\u95f4\u9699\r\n(20, 25]\t\u4e34\u952e\u9501\t\u9501\u4f4f\u4e86 id=25 \u548c\u524d\u95f4\u9699\r\n(25, +\u221e)\t\u95f4\u9699\u9501\t\u9501\u4f4f\u5c3e\u90e8\u9632\u6b62\u63d2\u516530\u7b49"}),"\n",(0,i.jsx)(n.p,{children:"MVCC \u4e3b\u8981\u7528\u6765\u4f18\u5316\u8bfb\u64cd\u4f5c\uff0c\u901a\u8fc7\u4fdd\u5b58\u6570\u636e\u7684\u5386\u53f2\u7248\u672c\uff0c\u8ba9\u8bfb\u64cd\u4f5c\u4e0d\u9700\u8981\u52a0\u9501\u5c31\u80fd\u76f4\u63a5\u8bfb\u53d6\u5feb\u7167\uff0c\u63d0\u9ad8\u8bfb\u7684\u5e76\u53d1\u6027\u80fd\u3002"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"1756509832699",src:r(87769).A+"",width:"750",height:"284"})}),"\n",(0,i.jsx)(n.p,{children:"\u4e0d\u540c\u7684\u9694\u79bb\u7ea7\u522b\u5bf9\u5e94\u4e0d\u540c\u7684\u5b9e\u73b0\u7b56\u7565\uff0c\u6bd4\u5982\u8bf4\u5728\u53ef\u91cd\u590d\u8bfb\u9694\u79bb\u7ea7\u522b\u4e0b\uff0c\u4e8b\u52a1\u7b2c\u4e00\u6b21\u67e5\u8be2\u65f6\u4f1a\u751f\u6210\u4e00\u4e2a Read View\uff0c\u4e4b\u540e\u6240\u6709\u8bfb\u64cd\u4f5c\u90fd\u590d\u7528\u8fd9\u4e2a\u89c6\u56fe\uff0c\u4fdd\u8bc1\u591a\u6b21\u8bfb\u53d6\u7684\u7ed3\u679c\u4e00\u81f4"}),"\n",(0,i.jsx)(n.h3,{id:"\u5982\u4f55\u4fdd\u8bc1\u4e00\u81f4\u6027\u5462",children:"\u5982\u4f55\u4fdd\u8bc1\u4e00\u81f4\u6027\u5462\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"MySQL \u7684\u4e00\u81f4\u6027\u5e76\u4e0d\u662f\u9760\u67d0\u4e00\u4e2a\u673a\u5236\u5355\u72ec\u4fdd\u8bc1\u7684\uff0c\u800c\u662f\u539f\u5b50\u6027\u3001\u9694\u79bb\u6027\u548c\u6301\u4e45\u6027\u534f\u540c\u4f5c\u7528\u7684\u7ed3\u679c\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u4e8b\u52a1\u4f1a\u4e0d\u4f1a\u81ea\u52a8\u63d0\u4ea4",children:"\u4e8b\u52a1\u4f1a\u4e0d\u4f1a\u81ea\u52a8\u63d0\u4ea4\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u662f\u7684\uff0cMySQL \u9ed8\u8ba4\u5f00\u542f\u4e86\u4e8b\u52a1\u81ea\u52a8\u63d0\u4ea4\u6a21\u5f0f\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u6bcf\u6761\u5355\u72ec\u7684 SQL \u8bed\u53e5\u90fd\u4f1a\u88ab\u89c6\u4e3a\u4e00\u4e2a\u72ec\u7acb\u7684\u4e8b\u52a1\u5904\u7406\u5355\u5143\uff1bSQL \u8bed\u53e5\u6267\u884c\u6210\u529f\u540e\u4f1a\u81ea\u52a8\u6267\u884c COMMIT\uff1b\u6267\u884c\u5931\u8d25\u65f6\u4f1a\u81ea\u52a8 ROLLBACK\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u4e8b\u52a1\u7684\u9694\u79bb\u7ea7\u522b\u6709\u54ea\u4e9b",children:"\ud83c\udf1f\u4e8b\u52a1\u7684\u9694\u79bb\u7ea7\u522b\u6709\u54ea\u4e9b\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u9694\u79bb\u7ea7\u522b\u5b9a\u4e49\u4e86\u4e00\u4e2a\u4e8b\u52a1\u53ef\u80fd\u53d7\u5176\u4ed6\u4e8b\u52a1\u5f71\u54cd\u7684\u7a0b\u5ea6\uff0cMySQL \u652f\u6301\u56db\u79cd\u9694\u79bb\u7ea7\u522b\uff0c\u5206\u522b\u662f\uff1a\u8bfb\u672a\u63d0\u4ea4\u3001\u8bfb\u5df2\u63d0\u4ea4\u3001\u53ef\u91cd\u590d\u8bfb\u548c\u4e32\u884c\u5316\r\n\u8bfb\u672a\u63d0\u4ea4\u4f1a\u51fa\u73b0\u810f\u8bfb\uff0c\u8bfb\u5df2\u63d0\u4ea4\u4f1a\u51fa\u73b0\u4e0d\u53ef\u91cd\u590d\u8bfb\uff0c\u53ef\u91cd\u590d\u8bfb\u662f InnoDB \u9ed8\u8ba4\u7684\u9694\u79bb\u7ea7\u522b\uff0c\u53ef\u4ee5\u907f\u514d\u810f\u8bfb\u548c\u4e0d\u53ef\u91cd\u590d\u8bfb\uff0c\u4f46\u4f1a\u51fa\u73b0\u5e7b\u8bfb\u3002\u4e0d\u8fc7\u901a\u8fc7 MVCC \u548c\u4e34\u952e\u9501\uff0c\u80fd\u591f\u9632\u6b62\u5927\u591a\u6570\u5e76\u53d1\u95ee\u9898\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u4e32\u884c\u5316\u6700\u5b89\u5168\uff0c\u4f46\u6027\u80fd\u8f83\u5dee\uff0c\u901a\u5e38\u4e0d\u63a8\u8350\u4f7f\u7528"}),"\n",(0,i.jsx)(n.h4,{id:"\u8be6\u7ec6\u8bf4\u8bf4\u8bfb\u672a\u63d0\u4ea4",children:"\u8be6\u7ec6\u8bf4\u8bf4\u8bfb\u672a\u63d0\u4ea4\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u4e8b\u52a1\u53ef\u4ee5\u8bfb\u53d6\u5176\u4ed6\u672a\u63d0\u4ea4\u4e8b\u52a1\u4fee\u6539\u7684\u6570\u636e\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u672a\u63d0\u4ea4\u7684\u4e8b\u52a1\u4e00\u65e6\u56de\u6eda\uff0c\u8bfb\u53d6\u5230\u7684\u6570\u636e\u5c31\u4f1a\u53d8\u6210\u4e86\u201c\u810f\u6570\u636e\u201d\uff0c\u901a\u5e38\u4e0d\u4f1a\u4f7f\u7528\u3002"}),"\n",(0,i.jsx)(n.h4,{id:"\u4ec0\u4e48\u662f\u8bfb\u5df2\u63d0\u4ea4",children:"\u4ec0\u4e48\u662f\u8bfb\u5df2\u63d0\u4ea4\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u8bfb\u5df2\u63d0\u4ea4\u907f\u514d\u4e86\u810f\u8bfb\uff0c\u4f46\u53ef\u80fd\u4f1a\u51fa\u73b0\u4e0d\u53ef\u91cd\u590d\u8bfb\uff0c\u5373\u540c\u4e00\u4e8b\u52a1\u5185\u591a\u6b21\u8bfb\u53d6\u540c\u4e00\u6570\u636e\u7ed3\u679c\u4f1a\u4e0d\u540c\uff0c\u56e0\u4e3a\u5176\u4ed6\u4e8b\u52a1\u63d0\u4ea4\u7684\u4fee\u6539\uff0c\u5bf9\u5f53\u524d\u4e8b\u52a1\u662f\u53ef\u89c1\u7684\u3002"}),"\n",(0,i.jsx)(n.h4,{id:"\u4ec0\u4e48\u662f\u53ef\u91cd\u590d\u8bfb",children:"\u4ec0\u4e48\u662f\u53ef\u91cd\u590d\u8bfb\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u53ef\u91cd\u590d\u8bfb\u80fd\u786e\u4fdd\u540c\u4e00\u4e8b\u52a1\u5185\u591a\u6b21\u8bfb\u53d6\u76f8\u540c\u6570\u636e\u7684\u7ed3\u679c\u4e00\u81f4\uff0c\u5373\u4f7f\u5176\u4ed6\u4e8b\u52a1\u5df2\u63d0\u4ea4\u4fee\u6539\u3002"}),"\n",(0,i.jsx)(n.h4,{id:"\u4ec0\u4e48\u662f\u53ef\u91cd\u590d\u8bfb-1",children:"\u4ec0\u4e48\u662f\u53ef\u91cd\u590d\u8bfb\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u662f MySQL \u9ed8\u8ba4\u7684\u9694\u79bb\u7ea7\u522b\uff0c\u907f\u514d\u4e86\u201c\u810f\u8bfb\u201d\u548c\u201c\u4e0d\u53ef\u91cd\u590d\u8bfb\u201d\uff0c\u901a\u8fc7 MVCC \u548c\u4e34\u952e\u9501\u4e5f\u80fd\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u907f\u514d\u5e7b\u8bfb\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u4ec0\u4e48\u662f\u4e32\u884c\u5316",children:"\u4ec0\u4e48\u662f\u4e32\u884c\u5316\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u4e32\u884c\u5316\u662f\u6700\u9ad8\u7684\u9694\u79bb\u7ea7\u522b\uff0c\u901a\u8fc7\u5f3a\u5236\u4e8b\u52a1\u4e32\u884c\u6267\u884c\u6765\u89e3\u51b3\u201c\u5e7b\u8bfb\u201d\u95ee\u9898\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"a-\u4e8b\u52a1\u672a\u63d0\u4ea4b-\u4e8b\u52a1\u4e0a\u67e5\u8be2\u5230\u7684\u662f\u65e7\u503c\u8fd8\u662f\u65b0\u503c",children:"A \u4e8b\u52a1\u672a\u63d0\u4ea4\uff0cB \u4e8b\u52a1\u4e0a\u67e5\u8be2\u5230\u7684\u662f\u65e7\u503c\u8fd8\u662f\u65b0\u503c\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u5982\u679c B \u662f\u666e\u901a\u7684 SELECT\uff0c\u4e5f\u5c31\u662f\u5feb\u7167\u8bfb\uff0c\u5b83\u8bfb\u7684\u662f\u65e7\u503c\uff0c\u5373\u4e8b\u52a1 A \u4fee\u6539\u524d\u7684\u5feb\u7167\uff0c\u5e76\u4e14\u4e0d\u4f1a\u963b\u585e\uff1b\u5982\u679c B \u662f\u5f53\u524d\u8bfb\uff0c\u6bd4\u5982 SELECT \u2026 FOR UPDATE\uff0c\u5b83\u4f1a\u88ab\u963b\u585e\u76f4\u5230\u4e8b\u52a1 A \u63d0\u4ea4\u6216\u56de\u6eda\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u600e\u4e48\u66f4\u6539\u4e8b\u52a1\u7684\u9694\u79bb\u7ea7\u522b",children:"\u600e\u4e48\u66f4\u6539\u4e8b\u52a1\u7684\u9694\u79bb\u7ea7\u522b\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"MySQL \u652f\u6301\u901a\u8fc7 SET \u8bed\u53e5\u4fee\u6539\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\uff0c\u5305\u62ec\u5168\u5c40\u7ea7\u522b\u3001\u5f53\u524d\u4f1a\u8bdd\uff0c\u4f46\u4e00\u822c\u4e0d\u5efa\u8bae\u5728\u751f\u4ea7\u73af\u5883\u4e2d\u968f\u610f\u4fee\u6539\u9694\u79bb\u7ea7\u522b\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u6d4b\u8bd5\u73af\u5883\u4e0b\u53ef\u4ee5\u4f7f\u7528 SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ; \u53ef\u4ee5\u4fee\u6539\u5f53\u524d\u4f1a\u8bdd\u7684\u9694\u79bb\u7ea7\u522b\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u4f7f\u7528 SET GLOBAL TRANSACTION ISOLATION LEVEL READ COMMITTED; \u53ef\u4ee5\u4fee\u6539\u5168\u5c40\u9694\u79bb\u7ea7\u522b\uff0c\u5f71\u54cd\u65b0\u7684\u8fde\u63a5\uff0c\u4f46\u4e0d\u4f1a\u6539\u53d8\u73b0\u6709\u4f1a\u8bdd\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u4e8b\u52a1\u7684\u9694\u79bb\u7ea7\u522b\u662f\u5982\u4f55\u5b9e\u73b0\u7684",children:"\u4e8b\u52a1\u7684\u9694\u79bb\u7ea7\u522b\u662f\u5982\u4f55\u5b9e\u73b0\u7684\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u8bfb\u672a\u63d0\u4ea4\u901a\u8fc7\u884c\u9501\u5171\u4eab\u9501\u786e\u4fdd\u4e00\u4e2a\u4e8b\u52a1\u5728\u66f4\u65b0\u884c\u6570\u636e\u4f46\u6ca1\u6709\u63d0\u4ea4\u7684\u60c5\u51b5\u4e0b\uff0c\u5176\u4ed6\u4e8b\u52a1\u4e0d\u80fd\u66f4\u65b0\u8be5\u884c\u6570\u636e\uff0c\u4f46\u4e0d\u4f1a\u963b\u6b62\u810f\u8bfb\uff0c\u610f\u5473\u7740\u4e8b\u52a12 \u53ef\u4ee5\u5728\u4e8b\u52a11 \u63d0\u4ea4\u4e4b\u524d\u8bfb\u53d6\u5230\u4e8b\u52a11 \u4fee\u6539\u7684\u6570\u636e\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u8bfb\u5df2\u63d0\u4ea4\u4f1a\u5728\u66f4\u65b0\u6570\u636e\u524d\u52a0\u884c\u7ea7\u6392\u4ed6\u9501\uff0c\u4e0d\u5141\u8bb8\u5176\u4ed6\u4e8b\u52a1\u5199\u5165\u6216\u8005\u8bfb\u53d6\u672a\u63d0\u4ea4\u7684\u6570\u636e\uff0c\u4e5f\u5c31\u610f\u5473\u7740\u4e8b\u52a12 \u4e0d\u80fd\u5728\u4e8b\u52a1 1 \u63d0\u4ea4\u4e4b\u524d\u8bfb\u53d6\u5230\u4e8b\u52a11 \u4fee\u6539\u7684\u6570\u636e\uff0c\u4ece\u800c\u89e3\u51b3\u810f\u8bfb\u7684\u95ee\u9898\u3002\r\n\u53e6\u5916\uff0c\u8bfb\u5df2\u63d0\u4ea4\u4f1a\u5728\u6bcf\u6b21\u8bfb\u53d6\u6570\u636e\u524d\u90fd\u751f\u6210\u4e00\u4e2a\u65b0\u7684 ReadView\uff0c\u6240\u4ee5\u4f1a\u51fa\u73b0\u4e0d\u53ef\u91cd\u590d\u8bfb\u7684\u95ee\u9898\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u53ef\u91cd\u590d\u8bfb\u53ea\u5728\u7b2c\u4e00\u6b21\u8bfb\u64cd\u4f5c\u65f6\u751f\u6210 ReadView\uff0c\u540e\u7eed\u8bfb\u64cd\u4f5c\u90fd\u4f1a\u4f7f\u7528\u8fd9\u4e2a ReadView\uff0c\u4ece\u800c\u907f\u514d\u4e0d\u53ef\u91cd\u590d\u8bfb\u7684\u95ee\u9898\u3002\r\n\u53e6\u5916\uff0c\u5bf9\u4e8e\u5f53\u524d\u8bfb\u64cd\u4f5c\uff0c\u53ef\u91cd\u590d\u8bfb\u4f1a\u901a\u8fc7\u4e34\u952e\u9501\u6765\u9501\u4f4f\u5f53\u524d\u884c\u548c\u524d\u95f4\u9699\uff0c\u9632\u6b62\u5176\u4ed6\u4e8b\u52a1\u5728\u8fd9\u4e2a\u8303\u56f4\u5185\u63d2\u5165\u6570\u636e\uff0c\u4ece\u800c\u907f\u514d\u5e7b\u8bfb\u7684\u95ee\u9898\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u4e32\u884c\u5316\u7ea7\u522b\u4e0b\uff0c\u4e8b\u52a1\u5728\u8bfb\u64cd\u4f5c\u65f6\uff0c\u4f1a\u5148\u52a0\u8868\u7ea7\u5171\u4eab\u9501\uff1b\u5728\u5199\u64cd\u4f5c\u65f6\uff0c\u4f1a\u5148\u52a0\u8868\u7ea7\u6392\u4ed6\u9501\u3002\r\n\u76f4\u5230\u4e8b\u52a1\u7ed3\u675f\u540e\u624d\u91ca\u653e\u9501\uff0c\u8fd9\u6837\u5c31\u80fd\u786e\u4fdd\u4e8b\u52a1\u4e4b\u95f4\u4e0d\u4f1a\u76f8\u4e92\u5e72\u6270\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u8bf7\u8be6\u7ec6\u8bf4\u8bf4\u5e7b\u8bfb\u5462",children:"\ud83c\udf1f\u8bf7\u8be6\u7ec6\u8bf4\u8bf4\u5e7b\u8bfb\u5462\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u5e7b\u8bfb\u662f\u6307\u5728\u540c\u4e00\u4e2a\u4e8b\u52a1\u4e2d\uff0c\u591a\u6b21\u6267\u884c\u76f8\u540c\u7684\u8303\u56f4\u67e5\u8be2\uff0c\u7ed3\u679c\u5374\u4e0d\u540c\u3002\u8fd9\u79cd\u73b0\u8c61\u901a\u5e38\u53d1\u751f\u5728\u5176\u4ed6\u4e8b\u52a1\u5728\u4e24\u6b21\u67e5\u8be2\u4e4b\u95f4\u63d2\u5165\u6216\u5220\u9664\u4e86\u7b26\u5408\u5f53\u524d\u67e5\u8be2\u6761\u4ef6\u7684\u6570\u636e\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u5982\u4f55\u907f\u514d\u5e7b\u8bfb",children:"\u5982\u4f55\u907f\u514d\u5e7b\u8bfb\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"MySQL \u5728\u53ef\u91cd\u590d\u8bfb\u9694\u79bb\u7ea7\u522b\u4e0b\uff0c\u901a\u8fc7 MVCC \u548c\u4e34\u952e\u9501\u53ef\u4ee5\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u907f\u514d\u5e7b\u8bfb\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u6bd4\u5982\u8bf4\u5728\u67e5\u8be2\u65f6\u663e\u793a\u52a0\u9501\uff0c\u5229\u7528\u4e34\u952e\u9501\u9501\u5b9a\u67e5\u8be2\u8303\u56f4\uff0c\u9632\u6b62\u5176\u4ed6\u4e8b\u52a1\u63d2\u5165\u65b0\u7684\u6570\u636e\u3002\r\n\u5176\u4ed6\u4e8b\u52a1\u5728\u63d2\u5165\u6570\u636e\u65f6\uff0c\u4f1a\u88ab\u963b\u585e\uff0c\u76f4\u5230\u5f53\u524d\u4e8b\u52a1\u63d0\u4ea4\u6216\u56de\u6eda\u3002"}),"\n",(0,i.jsx)(n.p,{children:"---- \u8fd9\u90e8\u5206\u662f\u5e2e\u52a9\u5927\u5bb6\u7406\u89e3 start\uff0c\u9762\u8bd5\u4e2d\u53ef\u4ee5\u4e0d\u80cc ----"}),"\n",(0,i.jsx)(n.p,{children:"\u89e3\u91ca\u4e00\u4e0b\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u5982\u679c\u67e5\u8be2\u8bed\u53e5\u4e2d\u5305\u542b\u663e\u5f0f\u52a0\u9501\uff08\u5982 FOR UPDATE\uff09\uff0cInnoDB \u4f1a\u4f7f\u7528\u5f53\u524d\u8bfb\uff0c\u76f4\u63a5\u8bfb\u53d6\u6700\u65b0\u7684\u6570\u636e\uff0c\u5e76\u52a0\u9501\u3002"}),"\n",(0,i.jsxs)(n.p,{children:["\u5728\u8303\u56f4\u67e5\u8be2\u65f6\uff0cInnoDB \u4e0d\u4ec5\u4f1a\u5bf9\u7b26\u5408\u6761\u4ef6\u7684\u8bb0\u5f55\u52a0\u884c\u9501\uff0c\u8fd8\u4f1a\u5bf9\u76f8\u90bb\u7684\u7d22\u5f15\u95f4\u9699\u52a0\u95f4\u9699\u9501\uff0c\u4ece\u800c\u5f62\u6210\u4e34\u952e\u9501\u3002\r\n",(0,i.jsx)(n.img,{alt:"alt text",src:r(49048).A+"",width:"1080",height:"400"}),"\r\n\u4e34\u952e\u9501\u53ef\u4ee5\u9632\u6b62\u5176\u4ed6\u4e8b\u52a1\u5728\u95f4\u9699\u4e2d\u63d2\u5165\u65b0\u6570\u636e\uff0c\u4ece\u800c\u907f\u514d\u5e7b\u8bfb\u3002"]}),"\n",(0,i.jsx)(n.p,{children:"---- \u8fd9\u90e8\u5206\u662f\u5e2e\u52a9\u5927\u5bb6\u7406\u89e3 end\uff0c\u9762\u8bd5\u4e2d\u53ef\u4ee5\u4e0d\u80cc ----"}),"\n",(0,i.jsx)(n.p,{children:"---- \u8fd9\u90e8\u5206\u662f\u5e2e\u52a9\u5927\u5bb6\u7406\u89e3 start\uff0c\u9762\u8bd5\u4e2d\u53ef\u4ee5\u4e0d\u80cc ----"}),"\n",(0,i.jsx)(n.p,{children:"\u4f7f\u7528 SELECT \u67e5\u8be2\u65f6\uff0c\u5982\u679c\u6ca1\u6709\u663e\u5f0f\u52a0\u9501\uff0cInnoDB \u4f1a\u4f7f\u7528 MVCC \u63d0\u4f9b\u4e00\u81f4\u6027\u89c6\u56fe\u3002"}),"\n",(0,i.jsxs)(n.p,{children:["\u6bcf\u4e2a\u4e8b\u52a1\u5728\u542f\u52a8\u65f6\u90fd\u4f1a\u751f\u6210\u4e00\u4e2a Read View\uff0c\u7528\u6765\u786e\u5b9a\u54ea\u4e9b\u6570\u636e\u5bf9\u5f53\u524d\u4e8b\u52a1\u53ef\u89c1\u3002\r\n",(0,i.jsx)(n.img,{alt:"1756510394720",src:r(29667).A+"",width:"1155",height:"728"}),"\r\n\u5176\u4ed6\u4e8b\u52a1\u5728\u5f53\u524d\u4e8b\u52a1\u542f\u52a8\u540e\u63d2\u5165\u7684\u65b0\u6570\u636e\u4e0d\u4f1a\u88ab\u5f53\u524d\u4e8b\u52a1\u770b\u5230\uff0c\u56e0\u6b64\u4e0d\u4f1a\u51fa\u73b0\u5e7b\u8bfb\u3002"]}),"\n",(0,i.jsx)(n.p,{children:"---- \u8fd9\u90e8\u5206\u662f\u5e2e\u52a9\u5927\u5bb6\u7406\u89e3 end\uff0c\u9762\u8bd5\u4e2d\u53ef\u4ee5\u4e0d\u80cc ----"}),"\n",(0,i.jsx)(n.h3,{id:"\u4ec0\u4e48\u662f\u5f53\u524d\u8bfb\u5462",children:"\u4ec0\u4e48\u662f\u5f53\u524d\u8bfb\u5462\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u5f53\u524d\u8bfb\u662f\u6307\u8bfb\u53d6\u8bb0\u5f55\u7684\u6700\u65b0\u5df2\u63d0\u4ea4\u7248\u672c\uff0c\u5e76\u4e14\u5728\u8bfb\u53d6\u65f6\u5bf9\u8bb0\u5f55\u52a0\u9501\uff0c\u786e\u4fdd\u5176\u4ed6\u5e76\u53d1\u4e8b\u52a1\u4e0d\u80fd\u4fee\u6539\u5f53\u524d\u8bb0\u5f55\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u6bd4\u5982 SELECT ... LOCK IN SHARE MODE\u3001SELECT ... FOR UPDATE\uff0c\u4ee5\u53ca UPDATE\u3001DELETE\uff0c\u90fd\u5c5e\u4e8e\u5f53\u524d\u8bfb"}),"\n",(0,i.jsx)(n.h3,{id:"\u4e3a\u4ec0\u4e48-update-\u548c-delete-\u4e5f\u5c5e\u4e8e\u5f53\u524d\u8bfb",children:"\u4e3a\u4ec0\u4e48 UPDATE \u548c DELETE \u4e5f\u5c5e\u4e8e\u5f53\u524d\u8bfb\uff1f"}),"\n",(0,i.jsxs)(n.p,{children:["\u56e0\u4e3a\u66f4\u65b0\u3001\u5220\u9664\u8fd9\u4e9b\u64cd\u4f5c\uff0c\u672c\u8d28\u4e0a\u4e0d\u4ec5\u662f\u5199\u64cd\u4f5c\uff0c\u8fd8\u9700\u8981\u5728\u5199\u4e4b\u524d\u8bfb\u53d6\u6570\u636e\uff0c\u7136\u540e\u624d\u80fd\u4fee\u6539\u6216\u5220\u9664\u3002\u4e3a\u4e86\u4fdd\u8bc1\u4fee\u6539\u7684\u662f\u6700\u65b0\u7684\u6570\u636e\uff0c\u5e76\u9632\u6b62\u5e76\u53d1\u51b2\u7a81\uff0cInnoDB \u5fc5\u987b\u8bfb\u53d6\u6700\u65b0\u7248\u672c\u7684\u6570\u636e\u5e76\u52a0\u9501\uff0c\u56e0\u6b64 UPDATE \u548c DELETE \u4e5f\u5c5e\u4e8e\u5f53\u524d\u8bfb\u3002\r\n",(0,i.jsx)(n.img,{alt:"1756510432320",src:r(75390).A+"",width:"640",height:"524"})]}),"\n",(0,i.jsx)(n.p,{children:"SQL\u8bed\u53e5\t\u662f\u5426\u5f53\u524d\u8bfb\t\u662f\u5426\u52a0\u9501\r\nSELECT * FROM user WHERE id=1\t\u274c \u5426\t\u274c \u5426\r\nSELECT * FROM user WHERE id=1 FOR UPDATE\t\u2705 \u662f\t\u2705 \u52a0\u6392\u4ed6\u9501\r\nSELECT * FROM user WHERE id=1 LOCK IN SHARE MODE\t\u2705 \u662f\t\u2705 \u52a0\u5171\u4eab\u9501\r\nUPDATE user SET ... WHERE id=1\t\u2705 \u662f\t\u2705 \u52a0\u6392\u4ed6\u9501\r\nDELETE FROM user WHERE id=1\t\u2705 \u662f\t\u2705 \u52a0\u6392\u4ed6\u9501"}),"\n",(0,i.jsx)(n.h3,{id:"\u4ec0\u4e48\u662f\u5feb\u7167\u8bfb\u5462",children:"\u4ec0\u4e48\u662f\u5feb\u7167\u8bfb\u5462\uff1f"}),"\n",(0,i.jsxs)(n.p,{children:["\u5feb\u7167\u8bfb\u662f InnoDB \u901a\u8fc7 MVCC \u5b9e\u73b0\u7684\u4e00\u79cd\u975e\u963b\u585e\u8bfb\u65b9\u5f0f\u3002\u5f53\u4e8b\u52a1\u6267\u884c SELECT \u67e5\u8be2\u65f6\uff0cInnoDB \u5e76\u4e0d\u4f1a\u76f4\u63a5\u8bfb\u5f53\u524d\u6700\u65b0\u7684\u6570\u636e\uff0c\u800c\u662f\u6839\u636e\u4e8b\u52a1\u5f00\u59cb\u65f6\u751f\u6210\u7684 Read View \u53bb\u5224\u65ad\u6bcf\u6761\u8bb0\u5f55\u7684\u53ef\u89c1\u6027\uff0c\u4ece\u800c\u8bfb\u53d6\u7b26\u5408\u6761\u4ef6\u7684\u5386\u53f2\u7248\u672c\u3002\r\n",(0,i.jsx)(n.img,{alt:"1756510460387",src:r(86792).A+"",width:"1330",height:"749"}),"\r\nSQL\t\u662f\u5426\u5feb\u7167\u8bfb\uff1f\t\u8bf4\u660e\r\nSELECT * FROM t WHERE id=1\t\u2705 \u662f\t\u5feb\u7167\u8bfb\r\nSELECT * FROM t WHERE id=1 FOR UPDATE\t\u274c \u5426\t\u5f53\u524d\u8bfb\uff0c\u8bfb\u53d6\u6700\u65b0\u7248\u672c\u5e76\u52a0\u9501\r\nUPDATE / DELETE\t\u274c \u5426\t\u5f53\u524d\u8bfb\uff0c\u5fc5\u987b\u8bfb\u53d6\u5f53\u524d\u7248\u672c\u5e76\u52a0\u9501\r\nINSERT\t\u274c \u5426\t\u5199\u64cd\u4f5c\uff0c\u4e0d\u5b58\u5728\u5386\u53f2\u7248\u672c"]}),"\n",(0,i.jsx)(n.h3,{id:"mvcc-\u4e86\u89e3\u5417",children:"\ud83c\udf1fMVCC \u4e86\u89e3\u5417\uff1f"}),"\n",(0,i.jsxs)(n.p,{children:["MVCC \u6307\u7684\u662f\u591a\u7248\u672c\u5e76\u53d1\u63a7\u5236\uff0c\u6bcf\u6b21\u4fee\u6539\u6570\u636e\u65f6\uff0c\u90fd\u4f1a\u751f\u6210\u4e00\u4e2a\u65b0\u7684\u7248\u672c\uff0c\u800c\u4e0d\u662f\u76f4\u63a5\u5728\u539f\u6709\u6570\u636e\u4e0a\u8fdb\u884c\u4fee\u6539\u3002\u5e76\u4e14\u6bcf\u4e2a\u4e8b\u52a1\u53ea\u80fd\u770b\u5230\u5728\u5b83\u5f00\u59cb\u4e4b\u524d\u5df2\u7ecf\u63d0\u4ea4\u7684\u6570\u636e\u7248\u672c\u3002\r\n",(0,i.jsx)(n.img,{alt:"1756510486253",src:r(41918).A+"",width:"1752",height:"723"})]}),"\n",(0,i.jsx)(n.p,{children:"\u8fd9\u6837\u7684\u8bdd\uff0c\u8bfb\u64cd\u4f5c\u5c31\u4e0d\u4f1a\u963b\u585e\u5199\u64cd\u4f5c\uff0c\u5199\u64cd\u4f5c\u4e5f\u4e0d\u4f1a\u963b\u585e\u8bfb\u64cd\u4f5c\uff0c\u4ece\u800c\u907f\u514d\u52a0\u9501\u5e26\u6765\u7684\u6027\u80fd\u635f\u8017\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u5176\u5e95\u5c42\u5b9e\u73b0\u4e3b\u8981\u4f9d\u8d56\u4e8e Undo Log \u548c Read View\u3002"}),"\n",(0,i.jsxs)(n.p,{children:["\u6bcf\u6b21\u4fee\u6539\u6570\u636e\u524d\uff0c\u5148\u5c06\u8bb0\u5f55\u62f7\u8d1d\u5230Undo Log\uff0c\u5e76\u4e14\u6bcf\u6761\u8bb0\u5f55\u4f1a\u5305\u542b\u4e09\u4e2a\u9690\u85cf\u5217\uff0cDB_TRX_ID \u7528\u6765\u8bb0\u5f55\u4fee\u6539\u8be5\u884c\u7684\u4e8b\u52a1 ID\uff0cDB_ROLL_PTR \u7528\u6765\u6307\u5411 Undo Log \u4e2d\u7684\u524d\u4e00\u4e2a\u7248\u672c\uff0cDB_ROW_ID \u7528\u6765\u552f\u4e00\u6807\u8bc6\u8be5\u884c\u6570\u636e\uff08\u4ec5\u65e0\u4e3b\u952e\u65f6\u751f\u6210\uff09\u3002\r\n",(0,i.jsx)(n.img,{alt:"img_14.png",src:r(44624).A+"",width:"743",height:"800"}),"\r\n\u6bcf\u6b21\u8bfb\u53d6\u6570\u636e\u65f6\uff0c\u90fd\u4f1a\u751f\u6210\u4e00\u4e2a ReadView\uff0c\u5176\u4e2d\u8bb0\u5f55\u4e86\u5f53\u524d\u6d3b\u8dc3\u4e8b\u52a1\u7684 ID \u96c6\u5408\u3001\u6700\u5c0f\u4e8b\u52a1 ID\u3001\u6700\u5927\u4e8b\u52a1 ID \u7b49\u4fe1\u606f\uff0c\u901a\u8fc7\u4e0e DB_TRX_ID \u8fdb\u884c\u5bf9\u6bd4\uff0c\u5224\u65ad\u5f53\u524d\u4e8b\u52a1\u662f\u5426\u53ef\u4ee5\u770b\u5230\u8be5\u6570\u636e\u7248\u672c\u3002\r\n",(0,i.jsx)(n.img,{alt:"img_15.png",src:r(50873).A+"",width:"1268",height:"978"})]}),"\n",(0,i.jsx)(n.h3,{id:"\u8bf7\u8be6\u7ec6\u8bf4\u8bf4\u4ec0\u4e48\u662f\u7248\u672c\u94fe",children:"\u8bf7\u8be6\u7ec6\u8bf4\u8bf4\u4ec0\u4e48\u662f\u7248\u672c\u94fe\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u7248\u672c\u94fe\u662f\u6307 InnoDB \u4e2d\u540c\u4e00\u6761\u8bb0\u5f55\u7684\u591a\u4e2a\u5386\u53f2\u7248\u672c\uff0c\u901a\u8fc7 DB_ROLL_PTR \u5b57\u6bb5\u5c06\u5b83\u4eec\u50cf\u94fe\u8868\u4e00\u6837\u4e32\u8d77\u6765\uff0c\u7528\u6765\u652f\u6301 MVCC \u7684\u5feb\u7167\u8bfb\u3002"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.img,{alt:"img_16.png",src:r(94786).A+"",width:"1256",height:"664"}),"\r\n\u5047\u8bbe\u6709\u4e00\u5f20hero\u8868\uff0c\u8868\u4e2d\u6709\u8fd9\u6837\u4e00\u884c\u8bb0\u5f55\uff0cname \u4e3a\u5f20\u4e09\uff0ccity \u4e3a\u5e1d\u90fd\uff0c\u63d2\u5165\u8fd9\u884c\u8bb0\u5f55\u7684\u4e8b\u52a1 id \u662f 80\u3002"]}),"\n",(0,i.jsxs)(n.p,{children:["\u6b64\u65f6\uff0cDB_TRX_ID\u7684\u503c\u5c31\u662f 80\uff0cDB_ROLL_PTR\u7684\u503c\u5c31\u662f\u6307\u5411\u8fd9\u6761 insert undo \u65e5\u5fd7\u7684\u6307\u9488\r\n",(0,i.jsx)(n.img,{alt:"img_17.png",src:r(15915).A+"",width:"1080",height:"268"})]}),"\n",(0,i.jsxs)(n.p,{children:["\u63a5\u4e0b\u6765\uff0c\u5982\u679c\u6709\u4e24\u4e2aDB_TRX_ID\u5206\u522b\u4e3a100\u3001200\u7684\u4e8b\u52a1\u5bf9\u8fd9\u6761\u8bb0\u5f55\u8fdb\u884c\u4e86update\u64cd\u4f5c\uff0c\u90a3\u4e48\u8fd9\u6761\u8bb0\u5f55\u7684\u7248\u672c\u94fe\u5c31\u4f1a\u53d8\u6210\u4e0b\u9762\u8fd9\u6837\uff1a\r\n",(0,i.jsx)(n.img,{alt:"img_18.png",src:r(6428).A+"",width:"1080",height:"459"}),"\r\n\u4e5f\u5c31\u662f\u8bf4\uff0c\u5f53\u66f4\u65b0\u4e00\u884c\u6570\u636e\u65f6\uff0cInnoDB \u4e0d\u4f1a\u76f4\u63a5\u8986\u76d6\u539f\u6709\u6570\u636e\uff0c\u800c\u662f\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u6570\u636e\u7248\u672c\uff0c\u5e76\u66f4\u65b0 DB_TRX_ID \u548c DB_ROLL_PTR\uff0c\u4f7f\u5b83\u4eec\u6307\u5411\u524d\u4e00\u4e2a\u7248\u672c\u548c\u76f8\u5173\u7684 undo \u65e5\u5fd7\u3002"]}),"\n",(0,i.jsx)(n.p,{children:"\u8fd9\u6837\uff0c\u8001\u7248\u672c\u7684\u6570\u636e\u5c31\u4e0d\u4f1a\u4e22\u5931\uff0c\u53ef\u4ee5\u901a\u8fc7\u7248\u672c\u94fe\u627e\u5230\u3002"}),"\n",(0,i.jsxs)(n.p,{children:["\u7531\u4e8e undo \u65e5\u5fd7\u4f1a\u8bb0\u5f55\u6bcf\u4e00\u6b21\u7684 update\uff0c\u5e76\u4e14\u65b0\u63d2\u5165\u7684\u884c\u6570\u636e\u4f1a\u8bb0\u5f55\u4e0a\u4e00\u6761 undo \u65e5\u5fd7\u7684\u6307\u9488\uff0c\u6240\u4ee5\u53ef\u4ee5\u901a\u8fc7 DB_ROLL_PTR \u8fd9\u4e2a\u6307\u9488\u627e\u5230\u4e0a\u4e00\u6761\u8bb0\u5f55\uff0c\u8fd9\u6837\u5c31\u5f62\u6210\u4e86\u4e00\u4e2a\u7248\u672c\u94fe\u3002\r\n",(0,i.jsx)(n.img,{alt:"img_19.png",src:r(89317).A+"",width:"787",height:"555"})]}),"\n",(0,i.jsx)(n.h3,{id:"\u8bf7\u8be6\u7ec6\u8bf4\u8bf4\u4ec0\u4e48\u662freadview",children:"\u8bf7\u8be6\u7ec6\u8bf4\u8bf4\u4ec0\u4e48\u662fReadView\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"ReadView \u662f InnoDB \u4e3a\u6bcf\u4e2a\u4e8b\u52a1\u521b\u5efa\u7684\u4e00\u4efd\u201c\u53ef\u89c1\u6027\u89c6\u56fe\u201d\uff0c\u7528\u4e8e\u5224\u65ad\u5728\u6267\u884c\u5feb\u7167\u8bfb\u65f6\uff0c\u54ea\u4e9b\u6570\u636e\u7248\u672c\u662f\u5f53\u524d\u8fd9\u4e2a\u4e8b\u52a1\u53ef\u4ee5\u770b\u5230\u7684\uff0c\u54ea\u4e9b\u4e0d\u80fd\u770b\u5230\u3002"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.img,{alt:"img_20.png",src:r(82217).A+"",width:"1094",height:"594"}),"\r\n\u5f53\u4e8b\u52a1\u5f00\u59cb\u6267\u884c\u65f6\uff0cInnoDB \u4f1a\u4e3a\u8be5\u4e8b\u52a1\u521b\u5efa\u4e00\u4e2a ReadView\uff0c\u8fd9\u4e2a ReadView \u4f1a\u8bb0\u5f55 4 \u4e2a\u91cd\u8981\u7684\u4fe1\u606f\uff1a"]}),"\n",(0,i.jsxs)(n.p,{children:["creator_trx_id\uff1a\u521b\u5efa\u8be5 ReadView \u7684\u4e8b\u52a1 ID\u3002\r\nm_ids\uff1a\u6240\u6709\u6d3b\u8dc3\u4e8b\u52a1\u7684 ID \u5217\u8868\uff0c\u6d3b\u8dc3\u4e8b\u52a1\u662f\u6307\u90a3\u4e9b\u5df2\u7ecf\u5f00\u59cb\u4f46\u5c1a\u672a\u63d0\u4ea4\u7684\u4e8b\u52a1\u3002\r\nmin_trx_id\uff1a\u6240\u6709\u6d3b\u8dc3\u4e8b\u52a1\u4e2d\u6700\u5c0f\u7684\u4e8b\u52a1 ID\u3002\u5b83\u662f m_ids \u6570\u7ec4\u4e2d\u6700\u5c0f\u7684\u4e8b\u52a1 ID\u3002\r\nmax_trx_id \uff1a\u4e8b\u52a1 ID \u7684\u6700\u5927\u503c\u52a0\u4e00\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u5b83\u662f\u4e0b\u4e00\u4e2a\u5c06\u8981\u751f\u6210\u7684\u4e8b\u52a1 ID\u3002\r\nReadView \u662f\u5982\u4f55\u5224\u65ad\u8bb0\u5f55\u7684\u67d0\u4e2a\u7248\u672c\u662f\u5426\u53ef\u89c1\u7684\uff1f\r\n\u4f1a\u901a\u8fc7\u4e09\u4e2a\u6b65\u9aa4\u6765\u5224\u65ad\uff1a\r\n",(0,i.jsx)(n.img,{alt:"img_21.png",src:r(58016).A+"",width:"1696",height:"994"}),"\r\n\u2460\u3001\u5982\u679c\u67d0\u4e2a\u6570\u636e\u7248\u672c\u7684 DB_TRX_ID \u5c0f\u4e8e min_trx_id\uff0c\u5219\u8be5\u6570\u636e\u7248\u672c\u5728\u751f\u6210 ReadView \u4e4b\u524d\u5c31\u5df2\u7ecf\u63d0\u4ea4\uff0c\u56e0\u6b64\u5bf9\u5f53\u524d\u4e8b\u52a1\u662f\u53ef\u89c1\u7684\u3002"]}),"\n",(0,i.jsx)(n.p,{children:"\u2461\u3001\u5982\u679c DB_TRX_ID \u5927\u4e8e max_trx_id\uff0c\u5219\u8868\u793a\u521b\u5efa\u8be5\u6570\u636e\u7248\u672c\u7684\u4e8b\u52a1\u5728\u751f\u6210 ReadView \u4e4b\u540e\u5f00\u59cb\uff0c\u56e0\u6b64\u5bf9\u5f53\u524d\u4e8b\u52a1\u4e0d\u53ef\u89c1\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u2462\u3001\u5982\u679c DB_TRX_ID \u5728 min_trx_id \u548c max_trx_id \u4e4b\u95f4\uff0c\u9700\u8981\u5224\u65ad DB_TRX_ID \u662f\u5426\u5728 m_ids \u5217\u8868\u4e2d\uff1a"}),"\n",(0,i.jsxs)(n.p,{children:["\u4e0d\u5728\uff0c\u8868\u793a\u521b\u5efa\u8be5\u6570\u636e\u7248\u672c\u7684\u4e8b\u52a1\u5728\u751f\u6210 ReadView \u4e4b\u540e\u5df2\u7ecf\u63d0\u4ea4\uff0c\u56e0\u6b64\u5bf9\u5f53\u524d\u4e8b\u52a1\u4e5f\u662f\u53ef\u89c1\u7684\u3002\r\n\u5728\uff0c\u8868\u793a\u4e8b\u52a1\u4ecd\u7136\u6d3b\u8dc3\uff0c\u6216\u8005\u5728\u5f53\u524d\u4e8b\u52a1\u751f\u6210 ReadView \u4e4b\u540e\u624d\u5f00\u59cb\uff0c\u56e0\u6b64\u662f\u4e0d\u53ef\u89c1\u7684\u3002\r\n",(0,i.jsx)(n.img,{alt:"img_22.png",src:r(55579).A+"",width:"718",height:"225"})]}),"\n",(0,i.jsx)(n.p,{children:"\u4e3e\u4e2a\u5b9e\u9645\u7684\u4f8b\u5b50\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u8bfb\u4e8b\u52a1\u5f00\u542f\u4e86\u4e00\u4e2a ReadView\uff0c\u8fd9\u4e2a ReadView \u91cc\u9762\u8bb0\u5f55\u4e86\u5f53\u524d\u6d3b\u8dc3\u4e8b\u52a1\u7684 ID \u5217\u8868\uff08444\u3001555\u3001665\uff09\uff0c\u4ee5\u53ca\u6700\u5c0f\u4e8b\u52a1 ID\uff08444\uff09\u548c\u6700\u5927\u4e8b\u52a1 ID\uff08666\uff09\u3002\u5f53\u7136\u8fd8\u6709\u81ea\u5df1\u7684\u4e8b\u52a1 ID 520\uff0c\u4e5f\u5c31\u662f creator_trx_id\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u5b83\u8981\u8bfb\u7684\u8fd9\u884c\u6570\u636e\u7684\u5199\u4e8b\u52a1 ID \u662f x\uff0c\u4e5f\u5c31\u662f DB_TRX_ID\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u5982\u679c x = 110\uff0c\u663e\u7136\u5728 ReadView \u751f\u6210\u4e4b\u524d\u5c31\u63d0\u4ea4\u4e86\uff0c\u6240\u4ee5\u8fd9\u884c\u6570\u636e\u662f\u53ef\u89c1\u7684\u3002\r\n\u5982\u679c x = 667\uff0c\u663e\u7136\u662f\u672a\u77e5\u4e16\u754c\uff0c\u6240\u4ee5\u8fd9\u884c\u6570\u636e\u5bf9\u8bfb\u64cd\u4f5c\u662f\u4e0d\u53ef\u89c1\u7684\u3002\r\n\u5982\u679c x = 519\uff0c\u867d\u7136 519 \u5927\u4e8e 444 \u5c0f\u4e8e 666\uff0c\u4f46\u662f 519 \u4e0d\u5728\u6d3b\u8dc3\u4e8b\u52a1\u5217\u8868\u91cc\uff0c\u6240\u4ee5\u8fd9\u884c\u6570\u636e\u662f\u53ef\u89c1\u7684\u3002\u56e0\u4e3a 519 \u662f\u5728 520 \u751f\u6210 ReadView \u4e4b\u524d\u5c31\u63d0\u4ea4\u4e86\u3002\r\n\u5982\u679c x = 555\uff0c\u867d\u7136 555 \u5927\u4e8e 444 \u5c0f\u4e8e 666\uff0c\u4f46\u662f 555 \u5728\u6d3b\u8dc3\u4e8b\u52a1\u5217\u8868\u91cc\uff0c\u6240\u4ee5\u8fd9\u884c\u6570\u636e\u662f\u4e0d\u53ef\u89c1\u7684\u3002\u56e0\u4e3a 555 \u4e0d\u786e\u5b9a\u6709\u6ca1\u6709\u63d0\u4ea4\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u53ef\u91cd\u590d\u8bfb\u548c\u8bfb\u5df2\u63d0\u4ea4\u5728-readview-\u4e0a\u7684\u533a\u522b\u662f\u4ec0\u4e48",children:"\u53ef\u91cd\u590d\u8bfb\u548c\u8bfb\u5df2\u63d0\u4ea4\u5728 ReadView \u4e0a\u7684\u533a\u522b\u662f\u4ec0\u4e48\uff1f"}),"\n",(0,i.jsxs)(n.p,{children:["\u53ef\u91cd\u590d\u8bfb\uff1a\u5728\u7b2c\u4e00\u6b21\u8bfb\u53d6\u6570\u636e\u65f6\u751f\u6210\u4e00\u4e2a ReadView\uff0c\u8fd9\u4e2a ReadView \u4f1a\u4e00\u76f4\u4fdd\u6301\u5230\u4e8b\u52a1\u7ed3\u675f\uff0c\u8fd9\u6837\u53ef\u4ee5\u4fdd\u8bc1\u5728\u4e8b\u52a1\u4e2d\u591a\u6b21\u8bfb\u53d6\u540c\u4e00\u884c\u6570\u636e\u65f6\uff0c\u8bfb\u53d6\u5230\u7684\u6570\u636e\u662f\u4e00\u81f4\u7684\u3002\r\n",(0,i.jsx)(n.img,{alt:"img_23.png",src:r(34034).A+"",width:"1222",height:"1246"}),"\r\n\u8bfb\u5df2\u63d0\u4ea4\uff1a\u6bcf\u6b21\u8bfb\u53d6\u6570\u636e\u524d\u90fd\u751f\u6210\u4e00\u4e2a ReadView\uff0c\u8fd9\u6837\u5c31\u80fd\u4fdd\u8bc1\u6bcf\u6b21\u8bfb\u53d6\u7684\u6570\u636e\u90fd\u662f\u6700\u65b0\u7684\u3002"]}),"\n",(0,i.jsx)(n.p,{children:"\u5982\u679c\u4e24\u4e2a AB \u4e8b\u52a1\u5e76\u53d1\u4fee\u6539\u4e00\u4e2a\u53d8\u91cf\uff0c\u90a3\u4e48 A \u8bfb\u5230\u7684\u503c\u662f\u4ec0\u4e48\uff0c\u600e\u4e48\u5206\u6790\u3002\r\n\u4e8b\u52a1 A \u5728\u8bfb\u53d6\u65f6\u662f\u5426\u80fd\u8bfb\u5230\u4e8b\u52a1 B \u7684\u4fee\u6539\uff0c\u53d6\u51b3\u4e8e A \u662f\u5feb\u7167\u8bfb\u8fd8\u662f\u5f53\u524d\u8bfb\u3002\u5982\u679c\u662f\u5feb\u7167\u8bfb\uff0cInnoDB \u4f1a\u4f7f\u7528 MVCC \u7684 ReadView \u5224\u65ad\u8bb0\u5f55\u7248\u672c\u662f\u5426\u53ef\u89c1\uff0c\u82e5\u4e8b\u52a1 B \u5c1a\u672a\u63d0\u4ea4\u6216\u5728 A \u7684\u89c6\u56fe\u4e0d\u53ef\u89c1\uff0c\u5219 A \u4f1a\u8bfb\u5230\u65e7\u503c\uff1b\u5982\u679c\u662f\u5f53\u524d\u8bfb\uff0c\u5219\u9700\u8981\u52a0\u9501\uff0c\u82e5 B \u5df2\u63d0\u4ea4\u53ef\u76f4\u63a5\u8bfb\u53d6\uff0c\u5426\u5219 A \u4f1a\u963b\u585e\u76f4\u5230 B \u7ed3\u675f\u3002"}),"\n",(0,i.jsx)(n.h2,{id:"\u9ad8\u53ef\u7528",children:"\u9ad8\u53ef\u7528"}),"\n",(0,i.jsx)(n.h3,{id:"mysql\u6570\u636e\u5e93\u8bfb\u5199\u5206\u79bb\u4e86\u89e3\u5417",children:"MySQL\u6570\u636e\u5e93\u8bfb\u5199\u5206\u79bb\u4e86\u89e3\u5417\uff1f"}),"\n",(0,i.jsxs)(n.p,{children:["\u8bfb\u5199\u5206\u79bb\u5c31\u662f\u628a\u201c\u5199\u64cd\u4f5c\u201d\u4ea4\u7ed9\u4e3b\u5e93\u5904\u7406\uff0c\u201c\u8bfb\u64cd\u4f5c\u201d\u5206\u7ed9\u591a\u4e2a\u4ece\u5e93\u5904\u7406\uff0c\u4ece\u800c\u63d0\u5347\u7cfb\u7edf\u5e76\u53d1\u6027\u80fd\u3002\r\n",(0,i.jsx)(n.img,{alt:"img_24.png",src:r(64013).A+"",width:"892",height:"942"})]}),"\n",(0,i.jsx)(n.p,{children:"\u5e94\u7528\u5c42\u901a\u8fc7\u4e2d\u95f4\u4ef6\uff08\u5982 MyCat\u3001ShardingSphere\uff09\u81ea\u52a8\u8def\u7531\u8bf7\u6c42\uff0c\u5c06 INSERT / UPDATE / DELETE \u7b49\u5199\u64cd\u4f5c\u53d1\u9001\u7ed9\u4e3b\u5e93\uff0c\u5c06 SELECT \u67e5\u8be2\u64cd\u4f5c\u53d1\u9001\u7ed9\u4ece\u5e93\u3002"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"// \u793a\u4f8b\uff1aJava\u4e2d\u901a\u8fc7\u4e0d\u540c\u6570\u636e\u6e90\u5207\u6362\r\n@Transactional\r\npublic void updateOrder(Order order) {\r\n    masterDataSource.update(order); // \u5199\u64cd\u4f5c\u8d70\u4e3b\u5e93\r\n}\r\n\r\npublic Order getOrderById(Long id) {\r\n    return slaveDataSource.query(id); // \u8bfb\u64cd\u4f5c\u8d70\u4ece\u5e93\r\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u4e3b\u5e93\u5c06\u6570\u636e\u53d8\u66f4\u901a\u8fc7 binlog \u540c\u6b65\u5230\u4ece\u5e93\uff0c\u4ece\u800c\u4fdd\u6301\u6570\u636e\u4e00\u81f4\u6027\u3002"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.img,{alt:"img_25.png",src:r(772).A+"",width:"921",height:"691"}),"\r\n\u4e3b\u5e93 dump_thread \u7ebf\u7a0b\u901a\u8fc7 TCP \u5c06 binlog \u63a8\u9001\u7ed9\u4ece\u5e93\uff0c\u4ece\u5e93 io_thread \u7ebf\u7a0b\uff0c\u63a5\u6536\u4e3b\u5e93 binlog\uff0c\u5199\u5165 relay log\uff0c\u4ece\u5e93 sql_thread \u7ebf\u7a0b\u8bfb\u53d6 relay log\uff0c\u5e76\u987a\u5e8f\u6267\u884c SQL \u8bed\u53e5\uff0c\u66f4\u65b0\u4ece\u5e93\u6570\u636e\u3002"]}),"\n",(0,i.jsx)(n.h3,{id:"\u8bfb\u5199\u5206\u79bb\u7684\u5b9e\u73b0\u65b9\u5f0f\u6709\u54ea\u4e9b",children:"\u8bfb\u5199\u5206\u79bb\u7684\u5b9e\u73b0\u65b9\u5f0f\u6709\u54ea\u4e9b\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u5b9e\u73b0\u8bfb\u5199\u5206\u79bb\u6709\u4e09\u79cd\u65b9\u5f0f\uff1a\u6700\u7b80\u5355\u7684\u662f\u5728\u5e94\u7528\u5c42\u624b\u52a8\u63a7\u5236\u4e3b\u4ece\u6570\u636e\u6e90\uff0c\u9002\u7528\u4e8e\u5c0f\u578b\u9879\u76ee\uff1b"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.img,{alt:"img_26.png",src:r(86047).A+"",width:"892",height:"880"}),"\r\n\u4e2d\u7b49\u9879\u76ee\u662f\u901a\u8fc7 Spring + \u591a\u6570\u636e\u6e90\u63d2\u4ef6\u3001AOP \u6ce8\u89e3\u81ea\u52a8\u8def\u7531\uff1b"]}),"\n",(0,i.jsxs)(n.p,{children:["\u5927\u578b\u7cfb\u7edf\u901a\u5e38\u4f7f\u7528\u4e2d\u95f4\u4ef6\uff0c\u5982 ShardingSphere\u3001MyCat\uff0c\u652f\u6301\u81ea\u52a8\u8def\u7531\u3001\u8d1f\u8f7d\u5747\u8861\u3001\u6545\u969c\u8f6c\u79fb\u7b49\u529f\u80fd\u3002\r\n",(0,i.jsx)(n.img,{alt:"img_27.png",src:r(32246).A+"",width:"890",height:"920"})]}),"\n",(0,i.jsx)(n.p,{children:"Mycat \u7684\u8bfb\u5199\u5206\u79bb\u529f\u80fd\u4f9d\u8d56\u4e8e MySQL \u7684\u4e3b\u4ece\u590d\u5236\u67b6\u6784\uff1a"}),"\n",(0,i.jsx)(n.p,{children:"writeHost: \u8868\u793a\u4e3b\u8282\u70b9\uff0c\u8d1f\u8d23\u5904\u7406\u6240\u6709\u7684 DML SQL \u8bed\u53e5\uff0c\u5982 INSERT\u3001UPDATE \u548c DELETE\u3002\r\nreadHost: \u8868\u793a\u4ece\u8282\u70b9\uff0c\u8d1f\u8d23\u5904\u7406\u67e5\u8be2 SQL \u8bed\u53e5\uff08\u5982 SELECT\uff09\uff0c\u4ee5\u5b9e\u73b0\u8bfb\u5199\u5206\u79bb\u3002\r\n\u6b63\u5e38\u60c5\u51b5\u4e0b\uff0cMycat \u4f1a\u5c06\u7b2c\u4e00\u4e2a\u914d\u7f6e\u7684 writeHost \u4f5c\u4e3a\u9ed8\u8ba4\u7684\u5199\u8282\u70b9\u3002\u6240\u6709\u7684 DML SQL \u8bed\u53e5\u4f1a\u88ab\u53d1\u9001\u5230\u6b64\u9ed8\u8ba4\u5199\u8282\u70b9\u6267\u884c\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u5199\u8282\u70b9\u5b8c\u6210\u6570\u636e\u5199\u5165\u540e\uff0c\u901a\u8fc7 MySQL \u7684\u4e3b\u4ece\u590d\u5236\u673a\u5236\uff0c\u5c06\u6570\u636e\u540c\u6b65\u5230\u6240\u6709\u4ece\u8282\u70b9\uff0c\u786e\u4fdd\u4e3b\u4ece\u6570\u636e\u4e00\u81f4\u6027"}),"\n",(0,i.jsx)(n.h3,{id:"\u4e3b\u4ece\u590d\u5236\u539f\u7406\u4e86\u89e3\u5417",children:"\u4e3b\u4ece\u590d\u5236\u539f\u7406\u4e86\u89e3\u5417\uff1f"}),"\n",(0,i.jsxs)(n.p,{children:["MySQL \u7684\u4e3b\u4ece\u590d\u5236\u662f\u4e00\u79cd\u6570\u636e\u540c\u6b65\u673a\u5236\uff0c\u7528\u4e8e\u5c06\u6570\u636e\u4ece\u4e3b\u6570\u636e\u5e93\u590d\u5236\u5230\u4e00\u4e2a\u6216\u591a\u4e2a\u4ece\u6570\u636e\u5e93\u3002\r\n",(0,i.jsx)(n.img,{alt:"img_28.png",src:r(71025).A+"",width:"1080",height:"420"}),"\r\n\u4e3b\u5e93\u6267\u884c\u4e8b\u52a1\u63d0\u4ea4\u65f6\uff0c\u5c06\u6570\u636e\u53d8\u66f4\u4ee5\u4e8b\u4ef6\u5f62\u5f0f\u8bb0\u5f55\u5230 Binlog\u3002\u4ece\u5e93\u901a\u8fc7 I/O \u7ebf\u7a0b\u4ece\u4e3b\u5e93\u7684 Binlog \u4e2d\u8bfb\u53d6\u53d8\u66f4\u4e8b\u4ef6\uff0c\u5e76\u5c06\u8fd9\u4e9b\u4e8b\u4ef6\u5199\u5165\u5230\u672c\u5730\u7684\u4e2d\u7ee7\u65e5\u5fd7\u6587\u4ef6\u4e2d\uff0cSQL \u7ebf\u7a0b\u4f1a\u5b9e\u65f6\u76d1\u63a7\u4e2d\u7ee7\u65e5\u5fd7\u7684\u5185\u5bb9\uff0c\u6309\u987a\u5e8f\u8bfb\u53d6\u5e76\u6267\u884c\u8fd9\u4e9b\u4e8b\u4ef6\uff0c\u4ece\u800c\u4fdd\u8bc1\u4ece\u5e93\u4e0e\u4e3b\u5e93\u6570\u636e\u4e00\u81f4\u3002"]}),"\n",(0,i.jsx)(n.h3,{id:"\u4e3b\u4ece\u540c\u6b65\u5ef6\u8fdf\u600e\u4e48\u5904\u7406",children:"\u4e3b\u4ece\u540c\u6b65\u5ef6\u8fdf\u600e\u4e48\u5904\u7406\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u4e3b\u4ece\u540c\u6b65\u5ef6\u8fdf\u662f\u56e0\u4e3a\u4ece\u5e93\u9700\u8981\u5148\u63a5\u6536 binlog\uff0c\u518d\u6267\u884c SQL \u624d\u80fd\u540c\u6b65\u4e3b\u5e93\u6570\u636e\uff0c\u5728\u9ad8\u5e76\u53d1\u5199\u6216\u7f51\u7edc\u6296\u52a8\u65f6\u5bb9\u6613\u51fa\u73b0\u5ef6\u8fdf\uff0c\u5bfc\u81f4\u8bfb\u5199\u4e0d\u4e00\u81f4\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u7b2c\u4e00\u79cd\u89e3\u51b3\u65b9\u6848\uff1a\u5bf9\u4e00\u81f4\u6027\u8981\u6c42\u9ad8\u7684\u67e5\u8be2\uff08\u5982\u652f\u4ed8\u7ed3\u679c\u67e5\u8be2\uff09\u53ef\u4ee5\u76f4\u63a5\u8d70\u4e3b\u5e93\u3002"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"// \u4f2a\u4ee3\u7801\u793a\u4f8b\r\npublic Object query(String sql) {\r\n    if(isWriteQuery(sql) || needStrongConsistency(sql)) {\r\n        return masterDataSource.query(sql);\r\n    } else {\r\n        return slaveDataSource.query(sql);\r\n    }\r\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u7b2c\u4e8c\u79cd\u89e3\u51b3\u65b9\u6848\uff1a\u5bf9\u4e8e\u975e\u5173\u952e\u4e1a\u52a1\u5141\u8bb8\u77ed\u6682\u6570\u636e\u4e0d\u4e00\u81f4\uff0c\u53ef\u4ee5\u63d0\u793a\u7528\u6237\u201c\u6570\u636e\u540c\u6b65\u4e2d\uff0c\u8bf7\u7a0d\u540e\u5237\u65b0\u201d\uff0c\u7136\u540e\u501f\u52a9\u5f02\u6b65\u901a\u77e5\u673a\u5236\u66ff\u4ee3\u5b9e\u65f6\u67e5\u8be2\u3002"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'// \u4f2a\u4ee3\u7801\u793a\u4f8b\r\npublic Object query(String sql) {\r\n    if(isWriteQuery(sql)) {\r\n        return masterDataSource.query(sql);\r\n    } else {\r\n        // \u5f02\u6b65\u901a\u77e5\u7528\u6237\u6570\u636e\u5df2\u66f4\u65b0\r\n        notifyUser("\u6570\u636e\u540c\u6b65\u4e2d\uff0c\u8bf7\u7a0d\u540e\u5237\u65b0");\r\n        return slaveDataSource.query(sql);\r\n    }\r\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:["\u7b2c\u4e09\u79cd\u89e3\u51b3\u65b9\u6848\uff1a\u91c7\u7528\u534a\u540c\u6b65\u590d\u5236\uff0c\u4e3b\u5e93\u5728\u4e8b\u52a1\u63d0\u4ea4\u65f6\uff0c\u8981\u7b49\u81f3\u5c11\u4e00\u4e2a\u4ece\u5e93\u786e\u8ba4\u6536\u5230 binlog\uff08\u4f46\u4e0d\u8981\u6c42\u6267\u884c\u5b8c\u6210\uff09\uff0c\u624d\u7b97\u63d0\u4ea4\u6210\u529f\u3002\r\n",(0,i.jsx)(n.img,{alt:"img_29.png",src:r(22632).A+"",width:"523",height:"369"})]}),"\n",(0,i.jsx)(n.h3,{id:"\u8bf7\u8bf4\u8bf4\u534a\u540c\u6b65\u590d\u5236\u7684\u6d41\u7a0b",children:"\u8bf7\u8bf4\u8bf4\u534a\u540c\u6b65\u590d\u5236\u7684\u6d41\u7a0b\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u7b2c\u4e00\u6b65\uff0c\u4e3b\u5e93\u5b89\u88c5\u534a\u540c\u6b65\u63d2\u4ef6\uff1a\r\nINSTALL PLUGIN rpl_semi_sync_master SONAME 'semisync_master.so';\r\n\u7b2c\u4e8c\u6b65\uff0c\u4e3b\u5e93\u542f\u7528\u534a\u540c\u6b65\u590d\u5236\u5e76\u8bbe\u7f6e\u8d85\u65f6\u65f6\u95f4\uff1a\r\nSET GLOBAL rpl_semi_sync_master_enabled = 1;\r\nSET GLOBAL rpl_semi_sync_master_timeout = 10000;\r\n\u4e3b\u5e93 my.cnf \u914d\u7f6e\u793a\u4f8b\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ini",children:'[mysqld]\r\nplugin-load = "rpl_semi_sync_master=semisync_master.so"\r\nrpl_semi_sync_master_enabled = 1\r\nrpl_semi_sync_master_timeout = 10000\r\n# MySQL 5.7+\u5efa\u8bae\u4f7f\u7528\u65e0\u635f\u6a21\u5f0f\r\nrpl_semi_sync_master_wait_point = AFTER_SYNC\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u7b2c\u4e09\u6b65\uff0c\u4ece\u5e93\u5b89\u88c5\u534a\u540c\u6b65\u63d2\u4ef6\uff1a\r\nINSTALL PLUGIN rpl_semi_sync_slave SONAME 'semisync_slave.so';\r\n\u7b2c\u56db\u6b65\uff0c\u4ece\u5e93\u542f\u7528\u534a\u540c\u6b65\u590d\u5236\uff1a\r\nSET GLOBAL rpl_semi_sync_slave_enabled = 1;\r\n\u4ece\u5e93 my.cnf \u914d\u7f6e\u793a\u4f8b\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ini",children:'[mysqld]\r\nplugin-load = "rpl_semi_sync_slave=semisync_slave.so"\r\nrpl_semi_sync_slave_enabled = 1\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\u4f60\u4eec\u4e00\u822c\u662f\u600e\u4e48\u5206\u5e93\u7684\u5462",children:"\ud83c\udf1f\u4f60\u4eec\u4e00\u822c\u662f\u600e\u4e48\u5206\u5e93\u7684\u5462\uff1f"}),"\n",(0,i.jsxs)(n.p,{children:["\u5206\u5e93\u7684\u7b56\u7565\u6709\u4e24\u79cd\uff0c\u7b2c\u4e00\u79cd\u662f\u5782\u76f4\u5206\u5e93\uff1a\u6309\u7167\u4e1a\u52a1\u6a21\u5757\u5c06\u4e0d\u540c\u7684\u8868\u62c6\u5206\u5230\u4e0d\u540c\u7684\u5e93\u4e2d\uff0c\u6bd4\u5982\u8bf4\u7528\u6237\u3001\u767b\u5f55\u3001\u6743\u9650\u7b49\u8868\u653e\u5728\u7528\u6237\u5e93\u4e2d\uff0c\u5546\u54c1\u3001\u5206\u7c7b\u3001\u5e93\u5b58\u653e\u5728\u5546\u54c1\u5e93\u4e2d\uff0c\u4f18\u60e0\u5238\u3001\u6ee1\u51cf\u3001\u79d2\u6740\u653e\u5728\u6d3b\u52a8\u5e93\u4e2d\u3002\r\n",(0,i.jsx)(n.img,{alt:"img_30.png",src:r(63630).A+"",width:"1080",height:"781"}),"\r\n\u7b2c\u4e8c\u79cd\u662f\u6c34\u5e73\u5206\u5e93\uff1a\u6309\u7167\u4e00\u5b9a\u7684\u7b56\u7565\u5c06\u4e00\u4e2a\u8868\u4e2d\u7684\u6570\u636e\u62c6\u5206\u5230\u591a\u4e2a\u5e93\u4e2d\uff0c\u6bd4\u5982\u54c8\u5e0c\u5206\u7247\u548c\u8303\u56f4\u5206\u7247\uff0c\u5bf9\u7528\u6237 id \u8fdb\u884c\u53d6\u6a21\u8fd0\u7b97\u6216\u8005\u8303\u56f4\u5212\u5206\uff0c\u5c06\u6570\u636e\u5206\u6563\u5230\u4e0d\u540c\u7684\u5e93\u4e2d\u3002\r\n",(0,i.jsx)(n.img,{alt:"img_31.png",src:r(37271).A+"",width:"1080",height:"680"}),"\r\n\u8d34\u4e00\u6bb5\u4f7f\u7528 ShardingSphere \u7684 inline \u7b97\u6cd5\u5b9a\u4e49\u5206\u7247\u89c4\u5219\uff1a"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"rules:\r\n- !SHARDING\r\n  tables:\r\n    order:\r\n      actualDataNodes: db_${0..3}.order_${0..15}\r\n      databaseStrategy:\r\n        standard:\r\n          shardingColumn: user_id\r\n          shardingAlgorithmName: db_hash_mod\r\n      tableStrategy:\r\n        standard:\r\n          shardingColumn: order_time\r\n          shardingAlgorithmName: table_interval_yearly\r\n  shardingAlgorithms:\r\n    db_hash_mod:\r\n      type: HASH_MOD\r\n      props:\r\n        sharding-count: 4\r\n    table_interval_yearly:\r\n      type: INTERVAL\r\n      props:\r\n        datetime-pattern: 'yyyy-MM-dd HH:mm:ss'\r\n        datetime-lower: '2024-01-01 00:00:00'\r\n        datetime-upper: '2025-01-01 00:00:00'\r\n        sharding-suffix-pattern: 'yyyy'\r\n        datetime-interval-amount: 1\r\n        datetime-interval-unit: 'Years'\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u90a3\u4f60\u4eec\u662f\u600e\u4e48\u5206\u8868\u7684",children:"\ud83c\udf1f\u90a3\u4f60\u4eec\u662f\u600e\u4e48\u5206\u8868\u7684\uff1f"}),"\n",(0,i.jsxs)(n.p,{children:["\u5f53\u5355\u8868\u8d85\u8fc7 500 \u4e07\u6761\u6570\u636e\uff0c\u5c31\u53ef\u4ee5\u8003\u8651\u6c34\u5e73\u5206\u8868\u4e86\u3002\u6bd4\u5982\u8bf4\u6211\u4eec\u53ef\u4ee5\u5c06\u6587\u7ae0\u8868\u62c6\u5206\u6210\u591a\u4e2a\u8868\uff0c\u5982 article_0\u3001article_9999\u3001article_19999 \u7b49\u3002\r\n",(0,i.jsx)(n.img,{alt:"img_32.png",src:r(48540).A+"",width:"1080",height:"850"}),"\r\n\u5728\u6280\u672f\u6d3e\u5b9e\u6218\u9879\u76ee\u4e2d\uff0c\u6211\u4eec\u5c06\u6587\u7ae0\u7684\u57fa\u672c\u4fe1\u606f\u548c\u5185\u5bb9\u8be6\u60c5\u505a\u4e86\u5782\u76f4\u5206\u8868\u5904\u7406\uff0c\u56e0\u4e3a\u6587\u7ae0\u7684\u5185\u5bb9\u4f1a\u5360\u7528\u6bd4\u8f83\u5927\u7684\u7a7a\u95f4\uff0c\u5728\u53ea\u9700\u8981\u67e5\u770b\u6587\u7ae0\u57fa\u672c\u4fe1\u606f\u65f6\u628a\u6587\u7ae0\u8be6\u60c5\u4e5f\u5e26\u51fa\u6765\u7684\u8bdd\uff0c\u5c31\u4f1a\u5360\u7528\u66f4\u591a\u7684\u7f51\u7edc IO \u548c\u5185\u5b58\u5bfc\u81f4\u67e5\u8be2\u53d8\u6162\uff1b\u800c\u6587\u7ae0\u7684\u57fa\u672c\u4fe1\u606f\uff0c\u5982\u6807\u9898\u3001\u4f5c\u8005\u3001\u72b6\u6001\u7b49\u4fe1\u606f\u5360\u7528\u7684\u7a7a\u95f4\u8f83\u5c0f\uff0c\u5f88\u9002\u5408\u4e0d\u9700\u8981\u67e5\u8be2\u6587\u7ae0\u8be6\u60c5\u7684\u573a\u666f\u3002\r\n",(0,i.jsx)(n.img,{alt:"img_33.png",src:r(66053).A+"",width:"2084",height:"1804"})]}),"\n",(0,i.jsx)(n.h3,{id:"\u6c34\u5e73\u5206\u5e93\u5206\u8868\u7684\u5206\u7247\u7b56\u7565\u6709\u54ea\u51e0\u79cd",children:"\u6c34\u5e73\u5206\u5e93\u5206\u8868\u7684\u5206\u7247\u7b56\u7565\u6709\u54ea\u51e0\u79cd\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u5e38\u89c1\u7684\u5206\u7247\u7b56\u7565\u6709\u4e09\u79cd\uff0c\u8303\u56f4\u5206\u7247\u3001Hash \u5206\u7247\u548c\u8def\u7531\u5206\u7247\u3002"}),"\n",(0,i.jsxs)(n.p,{children:["\u8303\u56f4\u5206\u7247\u662f\u6839\u636e\u67d0\u4e2a\u5b57\u6bb5\u7684\u503c\u8303\u56f4\u8fdb\u884c\u6c34\u5e73\u62c6\u5206\u3002\u9002\u7528\u4e8e\u5206\u7247\u952e\u5177\u6709\u8fde\u7eed\u6027\u7684\u573a\u666f\u3002\r\n",(0,i.jsx)(n.img,{alt:"img_34.png",src:r(97738).A+"",width:"801",height:"433"}),"\r\n\u6bd4\u5982\u8bf4\u5c06 user_id \u4f5c\u4e3a\u5206\u7247\u952e\uff1a"]}),"\n",(0,i.jsxs)(n.p,{children:["1 ~ 10000 \u2192 db1.user_1\r\n10001 ~ 20000 \u2192 db2.user_2\r\nHash \u5206\u7247\u662f\u6307\u901a\u8fc7\u5bf9\u5206\u7247\u952e\u7684\u503c\u8fdb\u884c\u54c8\u5e0c\u53d6\u6a21\uff0c\u5c06\u6570\u636e\u5747\u5300\u5206\u5e03\u5230\u591a\u4e2a\u5e93\u8868\u4e2d\uff0c\u9002\u7528\u4e8e\u5206\u7247\u952e\u5177\u6709\u79bb\u6563\u6027\u7684\u573a\u666f\u3002\r\n",(0,i.jsx)(n.img,{alt:"img_35.png",src:r(48499).A+"",width:"664",height:"411"}),"\r\n\u6bd4\u5982\u8bf4\u6211\u4eec\u4e00\u5f00\u59cb\u89c4\u5212\u597d\u4e86 4 \u4e2a\u8868\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u7b80\u5355\u5730\u901a\u8fc7\u53d6\u6a21\u6765\u5b9e\u73b0\u5206\u8868\uff1a"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'public String getTableNameByHash(long userId) {\r\n    int tableIndex = (int) (userId % 4);\r\n    return "user_" + tableIndex;\r\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u8def\u7531\u5206\u7247\u662f\u901a\u8fc7\u8def\u7531\u914d\u7f6e\u6765\u786e\u5b9a\u6570\u636e\u5e94\u8be5\u5b58\u50a8\u5728\u54ea\u4e2a\u5e93\u8868\uff0c\u9002\u7528\u4e8e\u5206\u7247\u952e\u4e0d\u89c4\u5f8b\u7684\u573a\u666f\u3002"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.img,{alt:"img_36.png",src:r(57656).A+"",width:"953",height:"555"}),"\r\n\u6bd4\u5982\u8bf4\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 order_router \u8868\u6765\u786e\u5b9a\u8ba2\u5355\u6570\u636e\u5b58\u50a8\u5728\u54ea\u4e2a\u8868\u4e2d\uff1a"]}),"\n",(0,i.jsx)(n.p,{children:"order_id\ttable_id\r\nxxxx\ttable_1\r\nyyyy\ttable_2\r\nzzzz\ttable_3"}),"\n",(0,i.jsx)(n.h3,{id:"\u4e0d\u505c\u673a\u6269\u5bb9\u600e\u4e48\u5b9e\u73b0",children:"\u4e0d\u505c\u673a\u6269\u5bb9\u600e\u4e48\u5b9e\u73b0\uff1f"}),"\n",(0,i.jsxs)(n.p,{children:["\u7b2c\u4e00\u4e2a\u9636\u6bb5\uff1a\u65b0\u65e7\u5e93\u540c\u65f6\u5199\u5165\uff0c\u786e\u4fdd\u6570\u636e\u5b9e\u65f6\u540c\u6b65\uff1b\u53ef\u4ee5\u501f\u52a9\u6d88\u606f\u961f\u5217\u5b9e\u73b0\u5f02\u6b65\u8865\u507f\uff0c\u5e42\u7b49\u907f\u514d\u91cd\u590d\u5199\u5165\u3002\u8bfb\u64cd\u4f5c\u4ecd\u7136\u8d70\u65e7\u5e93\u3002\r\n",(0,i.jsx)(n.img,{alt:"img_37.png",src:r(46721).A+"",width:"1074",height:"710"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'@Transactional\r\npublic void createOrder(Order order) {\r\n    oldDB.insert(order);  // \u5199\u5165\u65e7\u5e93\r\n    newDB.insert(order);  // \u5199\u5165\u65b0\u6269\u5bb9\u8282\u70b9\r\n    kafka.send("data_sync", order);  // \u5f02\u6b65\u8865\u507f\u901a\u9053\r\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u7b2c\u4e8c\u4e2a\u9636\u6bb5\uff0c\u901a\u8fc7 Canal \u6216\u8005\u81ea\u7814\u811a\u672c\u5c06\u65e7\u5e93\u7684\u5386\u53f2\u6570\u636e\u540c\u6b65\u5230\u65b0\u5e93\u3002\u5173\u952e\u4e1a\u52a1\u5728\u67e5\u8be2\u65f6\u540c\u65f6\u67e5\u8be2\u65b0\u65e7\u5e93\uff0c\u8fdb\u884c\u6570\u636e\u6821\u9a8c\uff0c\u786e\u4fdd\u4e00\u81f4\u6027\u3002"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'public List<Order> getOrders(Long userId) {\r\n    List<Order> orders = newDB.getOrders(userId);\r\n    List<Order> oldOrders = oldDB.getOrders(userId);\r\n    if (!orders.equals(oldOrders)) {\r\n        // \u6570\u636e\u4e0d\u4e00\u81f4\uff0c\u8fdb\u884c\u8865\u507f\r\n        kafka.send("data_sync", oldOrders);\r\n    }\r\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:["\u7b2c\u4e09\u4e2a\u9636\u6bb5\uff0c\u5728\u786e\u8ba4\u65b0\u5e93\u6570\u636e\u4e00\u81f4\u6027\u540e\uff0c\u9010\u6b65\u5c06\u8bfb\u8bf7\u6c42\u5207\u6362\u5230\u65b0\u5e93\uff0c\u7136\u540e\u4e0b\u7ebf\u65e7\u5e93\u3002\r\n",(0,i.jsx)(n.img,{alt:"img_38.png",src:r(90566).A+"",width:"1076",height:"564"})]}),"\n",(0,i.jsx)(n.h3,{id:"\u5e38\u7528\u7684\u5206\u5e93\u5206\u8868\u4e2d\u95f4\u4ef6\u6709\u54ea\u4e9b",children:"\u5e38\u7528\u7684\u5206\u5e93\u5206\u8868\u4e2d\u95f4\u4ef6\u6709\u54ea\u4e9b\uff1f"}),"\n",(0,i.jsxs)(n.p,{children:["\u5e38\u7528\u7684\u5206\u5e93\u5206\u8868\u4e2d\u95f4\u4ef6\u6709 ShardingSphere \u548c Mycat\u3002\r\n\u2460\u3001ShardingSphere \u6700\u521d\u7531\u5f53\u5f53\u5f00\u6e90\uff0c\u540e\u6765\u8d21\u732e\u7ed9\u4e86 Apache\uff0c\u5176\u5b50\u9879\u76ee Sharding-JDBC \u4e3b\u8981\u5728 Java \u7684 JDBC \u5c42\u63d0\u4f9b\u989d\u5916\u7684\u670d\u52a1\u3002\u65e0\u9700\u989d\u5916\u90e8\u7f72\u548c\u4f9d\u8d56\uff0c\u53ef\u7406\u89e3\u4e3a\u589e\u5f3a\u7248\u7684 JDBC \u9a71\u52a8\uff0c\u5b8c\u5168\u517c\u5bb9 JDBC \u548c\u5404\u79cd ORM \u6846\u67b6\u3002\r\n",(0,i.jsx)(n.img,{alt:"img_39.png",src:r(75663).A+"",width:"1462",height:"740"}),"\r\n\u2461\u3001Mycat \u662f\u7531\u963f\u91cc\u5df4\u5df4\u7684\u4e00\u6b3e\u4ea7\u54c1 Cobar \u884d\u751f\u800c\u6765\uff0c\u53ef\u4ee5\u628a\u5b83\u770b\u4f5c\u4e00\u4e2a\u6570\u636e\u5e93\u4ee3\u7406\u3002\r\n",(0,i.jsx)(n.img,{alt:"img_40.png",src:r(86531).A+"",width:"881",height:"751"})]}),"\n",(0,i.jsx)(n.h3,{id:"\u4f60\u89c9\u5f97\u5206\u5e93\u5206\u8868\u4f1a\u5e26\u6765\u4ec0\u4e48\u95ee\u9898\u5462",children:"\u4f60\u89c9\u5f97\u5206\u5e93\u5206\u8868\u4f1a\u5e26\u6765\u4ec0\u4e48\u95ee\u9898\u5462\uff1f"}),"\n",(0,i.jsxs)(n.p,{children:["\u7b2c\u4e00\uff0c\u8de8\u5e93\u4e8b\u52a1\u65e0\u6cd5\u4f9d\u8d56\u5355\u673a MySQL \u7684 ACID \u7279\u6027\uff0c\u9700\u8981\u4f7f\u7528\u5206\u5e03\u5f0f\u4e8b\u52a1\u89e3\u51b3\u65b9\u6848\uff0c\u5982 Seata \u7684 AT \u6a21\u5f0f\u3001TCC \u6a21\u5f0f\u7b49\u3002\r\n",(0,i.jsx)(n.img,{alt:"img_41.png",src:r(38778).A+"",width:"2786",height:"1596"})]}),"\n",(0,i.jsx)(n.p,{children:"\u7b2c\u4e8c\uff0c\u8de8\u5e93\u540e\u65e0\u6cd5\u4f7f\u7528 JOIN \u8054\u8868\u67e5\u8be2\u3002\u53ef\u4ee5\u5728\u4e1a\u52a1\u5c42\u8fdb\u884c\u62fc\u63a5\uff0c\u6216\u8005\u628a\u9700\u8981\u8054\u8868\u67e5\u8be2\u7684\u6570\u636e\u653e\u5230 ES \u4e2d\u3002"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"// Java \u4ee3\u7801\u793a\u4f8b\r\nUser user = userService.getUserById(1);\r\nList<Order> orders = orderService.getOrdersByUserId(1);\n"})}),"\n",(0,i.jsxs)(n.p,{children:["\u7b2c\u4e09\uff0c\u81ea\u589e ID \u5728\u5206\u7247\u573a\u666f\u4e0b\u5bb9\u6613\u51b2\u7a81\uff0c\u9700\u8981\u4f7f\u7528\u5168\u5c40\u552f\u4e00\u65b9\u6848\u3002\r\n\u6570\u636e\u5e93\u8868\u88ab\u5207\u5206\u540e\uff0c\u4e0d\u80fd\u518d\u4f9d\u8d56\u6570\u636e\u5e93\u81ea\u8eab\u7684\u4e3b\u952e\u751f\u6210\u673a\u5236\uff0c\u6240\u4ee5\u9700\u8981\u4e00\u4e9b\u624b\u6bb5\u6765\u4fdd\u8bc1\u5168\u5c40\u4e3b\u952e\u552f\u4e00\u3002\u6bd4\u5982\u8bf4\u96ea\u82b1\u7b97\u6cd5\u3001\u4eac\u4e1c\u7684 JD-hotkey\u3002\r\n",(0,i.jsx)(n.img,{alt:"img_42.png",src:r(59889).A+"",width:"1718",height:"1432"})]}),"\n",(0,i.jsx)(n.h3,{id:"\u4f60\u4eec\u9879\u76ee\u4e2d\u7684\u5206\u5e03\u5f0f\u4e3b\u952e-id-\u662f\u600e\u4e48\u751f\u6210\u7684",children:"\u4f60\u4eec\u9879\u76ee\u4e2d\u7684\u5206\u5e03\u5f0f\u4e3b\u952e id \u662f\u600e\u4e48\u751f\u6210\u7684\uff1f"}),"\n",(0,i.jsxs)(n.p,{children:["\u5728\u6280\u672f\u6d3e\u9879\u76ee\u4e2d\uff0c\u6211\u4eec\u5728\u96ea\u82b1\u7b97\u6cd5\u7684\u57fa\u7840\u4e0a\u5b9e\u73b0\u4e86\u4e00\u5957\u81ea\u5b9a\u4e49\u7684 ID \u751f\u6210\u65b9\u6848\uff0c\u901a\u8fc7\u66f4\u6539\u65f6\u95f4\u6233\u5355\u4f4d\u3001ID \u957f\u5ea6\u3001workId \u4e0e dataCenterId \u7684\u5206\u914d\u6bd4\u4f8b\uff0cID \u751f\u6210\u7684\u5ef6\u8fdf\u964d\u4f4e\u4e86 20%\uff1b\u6ee1\u8db3\u4e86\u5206\u5e03\u5f0f\u73af\u5883\u4e0b ID \u7684\u552f\u4e00\u6027\u3002\r\n",(0,i.jsx)(n.img,{alt:"img_43.png",src:r(49672).A+"",width:"2598",height:"1818"})]}),"\n",(0,i.jsx)(n.h3,{id:"\u96ea\u82b1\u7b97\u6cd5\u5177\u4f53\u662f\u600e\u4e48\u5b9e\u73b0\u7684",children:"\u96ea\u82b1\u7b97\u6cd5\u5177\u4f53\u662f\u600e\u4e48\u5b9e\u73b0\u7684\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u96ea\u82b1\u7b97\u6cd5\u662f Twitter \u5f00\u6e90\u7684\u5206\u5e03\u5f0f ID \u751f\u6210\u7b97\u6cd5\uff0c\u5176\u6838\u5fc3\u601d\u60f3\u662f\uff1a\u4f7f\u7528\u4e00\u4e2a 64 \u4f4d\u7684\u6570\u5b57\u6765\u4f5c\u4e3a\u5168\u5c40\u552f\u4e00 ID\u3002"}),"\n",(0,i.jsxs)(n.p,{children:["\u7b2c 1 \u4f4d\u662f\u7b26\u53f7\u4f4d\uff0c\u6c38\u8fdc\u662f 0\uff0c\u8868\u793a\u6b63\u6570\u3002\r\n\u63a5\u4e0b\u6765\u7684 41 \u4f4d\u662f\u65f6\u95f4\u6233\uff0c\u8bb0\u5f55\u7684\u662f\u5f53\u524d\u65f6\u95f4\u6233\u51cf\u53bb\u4e00\u4e2a\u56fa\u5b9a\u7684\u5f00\u59cb\u65f6\u95f4\u6233\uff0c\u53ef\u4ee5\u4f7f\u7528 69 \u5e74\u3002\r\n\u7136\u540e\u662f 10 \u4f4d\u7684\u5de5\u4f5c\u673a\u5668 ID\u3002\r\n\u6700\u540e\u662f 12 \u4f4d\u7684\u5e8f\u5217\u53f7\uff0c\u6bcf\u6beb\u79d2\u6700\u591a\u53ef\u751f\u6210 4096 \u4e2a ID\u3002\r\n",(0,i.jsx)(n.img,{alt:"img_44.png",src:r(29287).A+"",width:"2104",height:"1602"}),"\r\n\u5927\u81f4\u7684\u5b9e\u73b0\u4ee3\u7801\u5982\u4e0b\u6240\u793a\uff1a"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"public class SnowflakeIdGenerator {\r\n    private long datacenterId = 1L; // \u6570\u636e\u4e2d\u5fc3ID\r\n    private long machineId = 1L; // \u673a\u5668ID\r\n    private long sequence = 0L; // \u5e8f\u5217\u53f7\r\n\r\n    private long lastTimestamp = -1L;\r\n\r\n    public synchronized long nextId() {\r\n        long timestamp = System.currentTimeMillis();\r\n        if (timestamp == lastTimestamp) {\r\n            sequence = (sequence + 1) & 4095;\r\n            if (sequence == 0) {\r\n                while (timestamp == lastTimestamp) {\r\n                    timestamp = System.currentTimeMillis();\r\n                }\r\n            }\r\n        } else {\r\n            sequence = 0;\r\n        }\r\n\r\n        lastTimestamp = timestamp;\r\n\r\n        return ((timestamp - 1609459200000L) << 22) | (datacenterId << 17) | (machineId << 12) | sequence;\r\n    }\r\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u8fd0\u7ef4",children:"\u8fd0\u7ef4"}),"\n",(0,i.jsx)(n.h3,{id:"\u767e\u4e07\u7ea7\u522b\u4ee5\u4e0a\u7684\u6570\u636e\u5982\u4f55\u5220\u9664",children:"\u767e\u4e07\u7ea7\u522b\u4ee5\u4e0a\u7684\u6570\u636e\u5982\u4f55\u5220\u9664\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u5728\u5904\u7406\u767e\u4e07\u7ea7\u522b\u7684\u6570\u636e\u5220\u9664\u65f6\uff0c\u5927\u8303\u56f4\u7684 DELETE \u8bed\u53e5\u5f80\u5f80\u4f1a\u9020\u6210\u9501\u8868\u65f6\u95f4\u957f\u3001\u4e8b\u52a1\u65e5\u5fd7\u81a8\u80c0\u7b49\u95ee\u9898\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u53ef\u4ee5\u91c7\u7528\u6279\u91cf\u5220\u9664\u7684\u65b9\u6848\uff0c\u5c06\u5220\u9664\u64cd\u4f5c\u5206\u6210\u591a\u4e2a\u5c0f\u6279\u6b21\u8fdb\u884c\u5904\u7406\u3002"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'public void batchDelete(String tableName, String condition, int batchSize) {\r\n    // 1. \u521b\u5efa\u7ebf\u7a0b\u6c60\r\n    int threadCount = Runtime.getRuntime().availableProcessors();\r\n    ExecutorService executor = Executors.newFixedThreadPool(threadCount);\r\n    CountDownLatch latch = new CountDownLatch(threadCount);\r\n\r\n    // 2. \u83b7\u53d6\u603b\u8bb0\u5f55\u6570\r\n    long totalCount = getTotalCount(tableName, condition);\r\n    \r\n    // 3. \u8ba1\u7b97\u6bcf\u4e2a\u7ebf\u7a0b\u5904\u7406\u7684\u6570\u636e\u91cf\r\n    long perThreadCount = totalCount / threadCount;\r\n    \r\n    // 4. \u5206\u914d\u4efb\u52a1\u7ed9\u7ebf\u7a0b\u6c60\r\n    for (int i = 0; i < threadCount; i++) {\r\n        long startId = i * perThreadCount;\r\n        long endId = (i == threadCount - 1) ? totalCount : (startId + perThreadCount);\r\n        \r\n        executor.execute(() -> {\r\n            try {\r\n                // \u5206\u6279\u6b21\u5220\u9664\u6570\u636e\r\n                for (long j = startId; j < endId; j += batchSize) {\r\n                    String deleteSql = String.format(\r\n                        "DELETE FROM %s WHERE %s LIMIT %d",\r\n                        tableName, condition, batchSize\r\n                    );\r\n                    // \u6267\u884c\u5220\u9664\r\n                    jdbcTemplate.update(deleteSql);\r\n                }\r\n            } finally {\r\n                latch.countDown();\r\n            }\r\n        });\r\n    }\r\n    \r\n    // 5. \u7b49\u5f85\u6240\u6709\u7ebf\u7a0b\u5b8c\u6210\r\n    latch.await();\r\n    executor.shutdown();\r\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u4e5f\u53ef\u4ee5\u91c7\u7528\u521b\u5efa\u65b0\u8868\u66ff\u6362\u539f\u8868\u7684\u65b9\u5f0f\uff0c\u628a\u9700\u8981\u4fdd\u7559\u7684\u6570\u636e\u8fc1\u79fb\u5230\u65b0\u8868\u4e2d\uff0c\u7136\u540e\u5220\u9664\u65e7\u8868\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u7b80\u5355\u7684\u65b9\u6848\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"-- 1. \u521b\u5efa\u65b0\u8868\u7ed3\u6784(\u5305\u542b\u7d22\u5f15)\r\nCREATE TABLE new_table LIKE large_table;\r\n\r\n-- 2. \u63d2\u5165\u9700\u8981\u4fdd\u7559\u7684\u6570\u636e\r\nINSERT INTO new_table \r\nSELECT * FROM large_table WHERE condition;\r\n\r\n-- 3. \u91cd\u547d\u540d\u8868\r\nRENAME TABLE large_table TO old_table, new_table TO large_table;\r\n\r\n-- 4. \u5220\u9664\u65e7\u8868\r\nDROP TABLE old_table;\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u52a0\u5165\u68c0\u67e5\u8868\u7a7a\u95f4\u3001\u5206\u6279\u5bfc\u5165\u6570\u636e\u3001\u9a8c\u8bc1\u6570\u636e\u4e00\u81f4\u6027\u7b49\u6b65\u9aa4\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"-- 1. \u5728\u6267\u884c\u4e4b\u524d\u5148\u68c0\u67e5\u7a7a\u95f4\u662f\u5426\u8db3\u591f\r\nSELECT table_schema, \r\n       table_name, \r\n       round(((data_length + index_length) / 1024 / 1024), 2) \"Size in MB\"\r\nFROM information_schema.TABLES \r\nWHERE table_schema = DATABASE()\r\nAND table_name = 'large_table';\r\n\r\n-- 2. \u521b\u5efa\u65b0\u8868\r\nCREATE TABLE new_table LIKE large_table;\r\n\r\n-- 3. \u5206\u6279\u5bfc\u5165\u6570\u636e\uff08\u907f\u514d\u4e00\u6b21\u6027\u5bfc\u5165\u8fc7\u591a\u6570\u636e\uff09\r\nSET @batch = 1;\r\nSET @batch_size = 10000;\r\nSET @total = (SELECT COUNT(*) FROM large_table WHERE condition);\r\n\r\nREPEAT\r\n    INSERT INTO new_table \r\n    SELECT * FROM large_table \r\n    WHERE condition\r\n    LIMIT @batch_size;\r\n    \r\n    SET @batch = @batch + 1;\r\nUNTIL @batch * @batch_size > @total END REPEAT;\r\n\r\n-- 4. \u9a8c\u8bc1\u6570\u636e\u4e00\u81f4\u6027\r\nSELECT COUNT(*) FROM new_table;\r\nSELECT COUNT(*) FROM large_table WHERE condition;\r\n\r\n-- 5. \u5728\u4e1a\u52a1\u4f4e\u5cf0\u671f\u6267\u884c\u8868\u5207\u6362\r\nRENAME TABLE large_table TO old_table, \r\n             new_table TO large_table;\r\n\r\n-- 6. \u786e\u8ba4\u65e0\u8bef\u540e\u518d\u5220\u9664\u65e7\u8868\uff08\u5efa\u8bae\u4e0d\u8981\u7acb\u5373\u5220\u9664\uff09\r\n-- DROP TABLE old_table;\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u5343\u4e07\u7ea7\u5927\u8868\u5982\u4f55\u6dfb\u52a0\u5b57\u6bb5",children:"\u5343\u4e07\u7ea7\u5927\u8868\u5982\u4f55\u6dfb\u52a0\u5b57\u6bb5\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u5728\u4f4e\u7248\u672c\u7684 MySQL \u4e2d\uff0c\u5343\u4e07\u7ea7\u6570\u636e\u91cf\u7684\u8868\u4e2d\u6dfb\u52a0\u5b57\u6bb5\u65f6\uff0c\u76f4\u63a5\u4f7f\u7528 ALTER TABLE \u547d\u4ee4\u4f1a\u5bfc\u81f4\u957f\u65f6\u95f4\u9501\u8868\u3001\u751a\u81f3\u6570\u636e\u5e93\u5d29\u6e83\u7b49\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u53ef\u4ee5\u4f7f\u7528 Percona Toolkit \u7684 pt-online-schema-change \u6765\u5b8c\u6210\uff0c\u5b83\u901a\u8fc7\u521b\u5efa\u4e34\u65f6\u8868\u3001\u9010\u6b65\u540c\u6b65\u6570\u636e\u5e76\u4f7f\u7528\u89e6\u53d1\u5668\u6355\u83b7\u53d8\u66f4\u6765\u5b9e\u73b0\u3002\r\n\u5bf9\u4e8e MySQL 8.0+ \u7248\u672c\uff0c\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7 ALTER TABLE \u6765\u5b8c\u6210\uff0c\u56e0\u4e3a\u52a0\u5165\u4e86 INSTAN \u7b97\u6cd5\uff0c\u6dfb\u52a0\u5217\u5e76\u4e0d\u4f1a\u957f\u65f6\u95f4\u9501\u8868\u3002\r\n\u5982\u679c\u6ca1\u6709\u6307\u5b9a ALGORITHM=INSTANT \u7b97\u6cd5\uff0cMySQL \u4f1a\u5148\u5c1d\u8bd5 INSTANT \u7b97\u6cd5\uff1b\u5982\u679c\u65e0\u6cd5\u5b8c\u6210\uff0c\u4f1a\u5207\u6362\u5230 INPLACE \u7b97\u6cd5\uff1b\u5982\u679c\u4ecd\u7136\u65e0\u6cd5\u5b8c\u6210\uff0c\u4f1a\u5c1d\u8bd5 COPY \u7b97\u6cd5\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"mysql-\u5bfc\u81f4-cpu-\u98d9\u5347\u7684\u8bdd\u8981\u600e\u4e48\u5904\u7406\u5462",children:"MySQL \u5bfc\u81f4 cpu \u98d9\u5347\u7684\u8bdd\uff0c\u8981\u600e\u4e48\u5904\u7406\u5462\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u6211\u901a\u5e38\u5148\u901a\u8fc7 top \u547d\u4ee4\u786e\u8ba4\u662f\u5426\u662f mysqld \u7684\u8fdb\u7a0b\u5360\u7528\u3002\r\n\u7136\u540e\u901a\u8fc7 SHOW PROCESSLIST \u548c\u6162\u67e5\u8be2\u65e5\u5fd7\u5b9a\u4f4d\u662f\u5426\u5b58\u5728\u8017\u65f6 SQL\uff0c\u518d\u914d\u5408 explain \u548c performance_schema \u5206\u6790 SQL \u662f\u5426\u547d\u4e2d\u7d22\u5f15\uff0c\u662f\u5426\u5b58\u5728\u4e34\u65f6\u8868\u548c\u6392\u5e8f\u3002"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"-- \u4f7f\u7528 EXPLAIN \u5206\u6790SQL\u6267\u884c\u8ba1\u5212\r\nEXPLAIN SELECT * FROM large_table WHERE condition;\r\n\r\n-- \u67e5\u770b\u8868\u7684\u7d22\u5f15\u4f7f\u7528\u60c5\u51b5\r\nSHOW INDEX FROM table_name;\r\n\r\n-- \u67e5\u770bInnoDB\u72b6\u6001\r\nSHOW ENGINE INNODB STATUS;\r\n\r\n-- \u67e5\u770b\u8868\u7684\u7edf\u8ba1\u4fe1\u606f\r\nANALYZE TABLE table_name;\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u6700\u7ec8\u901a\u8fc7 SQL \u4f18\u5316\u3001\u52a0\u7d22\u5f15\u3001\u5206\u6279\u64cd\u4f5c\u7b49\u624b\u6bb5\u9010\u6b65\u4f18\u5316\u3002"}),"\n",(0,i.jsx)(n.h2,{id:"sql\u9898",children:"sql\u9898"}),"\n",(0,i.jsx)(n.h3,{id:"\u65b0\u5efa\u4e00\u4e2a\u8868\u7ed3\u6784\u521b\u5efa\u7d22\u5f15\u5c06\u767e\u4e07\u6216\u5343\u4e07\u7ea7\u7684\u6570\u636e\u4f7f\u7528-insert-\u5bfc\u5165\u8be5\u8868\u65b0\u5efa\u4e00\u4e2a\u8868\u7ed3\u6784\u5c06\u767e\u4e07\u6216\u5343\u4e07\u7ea7\u7684\u6570\u636e\u4f7f\u7528-isnert-\u5bfc\u5165\u8be5\u8868\u518d\u521b\u5efa\u7d22\u5f15\u8fd9\u4e24\u79cd\u6548\u7387\u54ea\u4e2a\u9ad8\u5462\u6216\u8005\u8bf4\u7528\u65f6\u77ed\u5462",children:"\u65b0\u5efa\u4e00\u4e2a\u8868\u7ed3\u6784\uff0c\u521b\u5efa\u7d22\u5f15\uff0c\u5c06\u767e\u4e07\u6216\u5343\u4e07\u7ea7\u7684\u6570\u636e\u4f7f\u7528 insert \u5bfc\u5165\u8be5\u8868\uff0c\u65b0\u5efa\u4e00\u4e2a\u8868\u7ed3\u6784\uff0c\u5c06\u767e\u4e07\u6216\u5343\u4e07\u7ea7\u7684\u6570\u636e\u4f7f\u7528 isnert \u5bfc\u5165\u8be5\u8868\uff0c\u518d\u521b\u5efa\u7d22\u5f15\uff0c\u8fd9\u4e24\u79cd\u6548\u7387\u54ea\u4e2a\u9ad8\u5462\uff1f\u6216\u8005\u8bf4\u7528\u65f6\u77ed\u5462\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u5728\u5927\u6570\u636e\u91cf\u5bfc\u5165\u573a\u666f\u4e0b\uff0c\u5148\u5bfc\u5165\u6570\u636e\uff0c\u540e\u5efa\u7d22\u5f15\u7684\u6548\u7387\u663e\u8457\u9ad8\u4e8e\u5148\u5efa\u7d22\u5f15\uff0c\u540e\u5bfc\u5165\u6570\u636e\u7684\u6548\u7387\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u5148\u63d2\u5165\u6570\u636e\u518d\u521b\u5efa\u7d22\u5f15\uff1a\u5728\u6ca1\u6709\u7d22\u5f15\u7684\u60c5\u51b5\u4e0b\u63d2\u5165\u6570\u636e\uff0c\u6570\u636e\u5e93\u4e0d\u9700\u8981\u5728\u6bcf\u6b21\u63d2\u5165\u65f6\u66f4\u65b0\u7d22\u5f15\u3002\r\n\u5148\u521b\u5efa\u7d22\u5f15\u518d\u63d2\u5165\u6570\u636e\uff1a\u6570\u636e\u5e93\u9700\u8981\u5728\u6bcf\u6b21\u63d2\u5165\u65b0\u8bb0\u5f55\u65f6\u7ef4\u62a4\u7d22\u5f15\u7ed3\u6784\uff0c\u968f\u7740\u6570\u636e\u91cf\u7684\u589e\u52a0\uff0c\u7d22\u5f15\u7684\u7ef4\u62a4\u4f1a\u5bfc\u81f4\u989d\u5916\u7684\u6027\u80fd\u5f00\u9500\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"mysql\u662f\u5148\u5efa\u7acb\u7d22\u5f15\u597d\u8fd8\u662f\u5148\u63d2\u5165\u6570\u636e\u597d",children:"MySQL\u662f\u5148\u5efa\u7acb\u7d22\u5f15\u597d\u8fd8\u662f\u5148\u63d2\u5165\u6570\u636e\u597d\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u5982\u679c\u662f\u5c0f\u6279\u91cf\u63d2\u5165\uff0c\u53ef\u4ee5\u5148\u5efa\u7d22\u5f15\uff1b\u4f46\u5728\u5927\u6570\u636e\u91cf\u6570\u636e\u5bfc\u5165\u573a\u666f\u4e0b\uff0c\u63a8\u8350\u5148\u63d2\u5165\u6570\u636e\u518d\u5efa\u7d22\u5f15\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u56e0\u4e3a\u7d22\u5f15\u662f\u57fa\u4e8e B+ \u6811\u7684\uff0c\u5927\u91cf\u63d2\u5165\u65f6\u5982\u679c\u63d0\u524d\u5efa\u7d22\u5f15\uff0c\u4f1a\u9891\u7e41\u89e6\u53d1\u9875\u5206\u88c2\u548c\u7d22\u5f15\u7ed3\u6784\u8c03\u6574\uff0c\u5f71\u54cd\u6027\u80fd\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u63d2\u5165\u5b8c\u6210\u540e\u7edf\u4e00\u6784\u5efa\u7d22\u5f15\uff0cMySQL \u4f1a\u6309\u987a\u5e8f\u6279\u91cf\u751f\u6210\u7d22\u5f15\u7ed3\u6784\uff0c\u901f\u5ea6\u66f4\u5feb\u3001\u8d44\u6e90\u6d88\u8017\u66f4\u4f4e\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u4ec0\u4e48\u662f\u6df1\u5206\u9875select--from-tbn-limit-1000000000-\u8fd9\u4e2a\u6709\u4ec0\u4e48\u95ee\u9898\u5982\u679c\u8868\u5927\u6216\u8005\u8868\u5c0f\u5206\u522b\u4ec0\u4e48\u95ee\u9898",children:"\u4ec0\u4e48\u662f\u6df1\u5206\u9875\uff0cselect * from tbn limit 1000000000 \u8fd9\u4e2a\u6709\u4ec0\u4e48\u95ee\u9898\uff0c\u5982\u679c\u8868\u5927\u6216\u8005\u8868\u5c0f\u5206\u522b\u4ec0\u4e48\u95ee\u9898"}),"\n",(0,i.jsx)(n.p,{children:"\u6df1\u5206\u9875\u662f\u6307\u5728 MySQL \u4e2d\u83b7\u53d6\u6bd4\u8f83\u9760\u540e\u7684\u6570\u636e\u9875\uff0c\u6bd4\u5982\u7b2c 1000 \u9875\u3001\u7b2c 10000 \u9875\u7b49\u3002\u7279\u522b\u662f\u4f7f\u7528 LIMIT offset,count \u8fd9\u79cd\u65b9\u5f0f\uff0c\u5f53 offset \u7279\u522b\u5927\uff0c\u5c31\u4f1a\u5e26\u6765\u4e25\u91cd\u7684\u6027\u80fd\u95ee\u9898\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u5bf9\u4e8e SELECT * FROM tbn LIMIT 1000000,10\uff0c\u8fd9\u6837\u7684\u67e5\u8be2\u8bed\u53e5\u6765\u8bf4\uff0cMySQL \u4f1a\uff1a"}),"\n",(0,i.jsx)(n.p,{children:"\u4ece\u8868\u4e2d\u8bfb\u53d6\u7b2c\u4e00\u6761\u8bb0\u5f55\uff0c\u5224\u65ad\u662f\u5426\u6ee1\u8db3 where \u6761\u4ef6\uff1b\u5982\u679c\u6ee1\u8db3\uff0c\u8ba1\u6570\u5668+1\uff1b\u5426\u5219\u76f4\u5230 \u8ba1\u6570\u5668\u7d2f\u8ba1\u5230 1000000 \u65f6\u624d\u5f00\u59cb\u771f\u6b63\u53d6\u6570\u636e\r\n\u518d\u7ee7\u7eed\u83b7\u53d6 10 \u6761\u6570\u636e\uff0c\u8fd4\u56de\r\n\u6027\u80fd\u4f1a\u975e\u5e38\u5dee\uff0c\u56e0\u4e3a\u9700\u8981\u4ece\u5934\u626b\u63cf\uff0c\u65e0\u6cd5\u5229\u7528\u7d22\u5f15\u4f18\u5316\uff0c\u5e76\u4e14\u9700\u8981\u629b\u5f03\u5927\u91cf\u4e0d\u9700\u8981\u7684\u6570\u636e\uff0c\u5360\u7528\u5927\u91cf\u7684\u5185\u5b58\u548c CPU \u8d44\u6e90\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u53ef\u4ee5\u501f\u52a9\u4e3b\u952e\u7d22\u5f15\u5206\u9875\u8fdb\u884c\u4f18\u5316\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"SELECT * FROM tbn\r\nWHERE id > (SELECT id FROM tbn ORDER BY id LIMIT 1000000, 1)\r\nLIMIT 10\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u6216\u8005\u8bb0\u4f4f\u4e0a\u6b21\u5206\u9875\u7684\u6700\u5927 ID\uff0c\u7136\u540e\u518d\u67e5\u8be2\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"SELECT * FROM tbn\r\nWHERE id > last_page_max_id\r\nLIMIT 10\n"})})]})}function h(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(t,{...e})}):t(e)}},87769:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/1756509832699-7f70c24b3f25d37f24d0a5e8ae20265a.png"},88377:(e,n,r)=>{r.d(n,{A:()=>s});const s="data:image/png;base64,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"},88400:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/1756478162741-bb7652e8cca0225d8b9db6c6c91365c1.png"},89317:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/img_19-8d3e60ea60252352dae304ecb52da2a0.png"},90566:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/img_38-0d24139ae8b805a115f733caa92ddcfa.png"},90600:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/\u65e0\u7d22\u5f15join-1a4778fe0a2d484710e1c04ac79db7ad.png"},92109:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/redo\u5199\u5165-362296f7b85aafcbf69a40b823cacd5b.png"},92871:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/1756481831954-3d38cbfd554ee6d18e4d7f4fdad6e634.png"},94786:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/img_16-d0e8f9394834f073c5ea0f163c9ce275.png"},96911:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/1756481688211-21fee6d46dcbbebff57f71043c34cb97.png"},97738:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/img_34-8c72bc3889a72632dfed864ed65470e0.png"},99037:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/img_11-92a16116e4f0277f575b5638c22e1eeb.png"}}]);